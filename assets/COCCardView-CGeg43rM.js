import{g as mo,f as ya,h as Kn,i as Ze,j as Z,k as L,o as b,l as te,w as T,m as dt,n as ee,q as ha,r as ue,b as h,d as re,t as O,s as H,c as P,a as p,u as G,p as ce,e as pe,v as yo,x as g,y as It,F as X,z as Y,A as va,B as Ye,C as ho,E as ke,D as vo,G as Fe,H as ga,I as go,J as bo,K as wo,L as ko,M as _o,N as ba,O as So,P as Ao,Q as $o,R as Po,S as $t,T as Io,U as Xn,V as wa,W as Eo,X as Ot}from"./index-CUWhtiow.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{S as Hn}from"./SoxCheckbox-Cx_ZPOr9.js";var Qn=Error,Zn=EvalError,Yn=RangeError,er=ReferenceError,on=SyntaxError,et=TypeError,tr=URIError,xo=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var a=42;e[r]=a;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var i=Object.getOwnPropertyDescriptor(e,r);if(i.value!==a||i.enumerable!==!0)return!1}return!0},wr=typeof Symbol<"u"&&Symbol,Do=xo,ln=function(){return typeof wr!="function"||typeof Symbol!="function"||typeof wr("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Do()},kr={foo:{}},Co=Object,sn=function(){return{__proto__:kr}.foo===kr.foo&&!({__proto__:null}instanceof Co)},Ro="Function.prototype.bind called on incompatible ",Fo=Object.prototype.toString,Uo=Math.max,Vo="[object Function]",_r=function(e,r){for(var n=[],a=0;a<e.length;a+=1)n[a]=e[a];for(var o=0;o<r.length;o+=1)n[o+e.length]=r[o];return n},Oo=function(e,r){for(var n=[],a=r||0,o=0;a<e.length;a+=1,o+=1)n[o]=e[a];return n},Bo=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},To=function(e){var r=this;if(typeof r!="function"||Fo.apply(r)!==Vo)throw new TypeError(Ro+r);for(var n=Oo(arguments,1),a,o=function(){if(this instanceof a){var c=r.apply(this,_r(n,arguments));return Object(c)===c?c:this}return r.apply(e,_r(n,arguments))},i=Uo(0,r.length-n.length),l=[],s=0;s<i;s++)l[s]="$"+s;if(a=Function("binder","return function ("+Bo(l,",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var u=function(){};u.prototype=r.prototype,a.prototype=new u,u.prototype=null}return a},No=To,Et=Function.prototype.bind||No,jo=Function.prototype.call,Mo=Object.prototype.hasOwnProperty,Lo=Et,nr=Lo.call(jo,Mo),q,Wo=Qn,Go=Zn,zo=Yn,qo=er,ft=on,ut=et,Jo=tr,ka=Function,cn=function(t){try{return ka('"use strict"; return ('+t+").constructor;")()}catch{}},Ge=Object.getOwnPropertyDescriptor;if(Ge)try{Ge({},"")}catch{Ge=null}var pn=function(){throw new ut},Ko=Ge?function(){try{return arguments.callee,pn}catch{try{return Ge(arguments,"callee").get}catch{return pn}}}():pn,nt=ln(),Xo=sn(),me=Object.getPrototypeOf||(Xo?function(t){return t.__proto__}:null),it={},Ho=typeof Uint8Array>"u"||!me?q:me(Uint8Array),ze={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?q:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?q:ArrayBuffer,"%ArrayIteratorPrototype%":nt&&me?me([][Symbol.iterator]()):q,"%AsyncFromSyncIteratorPrototype%":q,"%AsyncFunction%":it,"%AsyncGenerator%":it,"%AsyncGeneratorFunction%":it,"%AsyncIteratorPrototype%":it,"%Atomics%":typeof Atomics>"u"?q:Atomics,"%BigInt%":typeof BigInt>"u"?q:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?q:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?q:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?q:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Wo,"%eval%":eval,"%EvalError%":Go,"%Float32Array%":typeof Float32Array>"u"?q:Float32Array,"%Float64Array%":typeof Float64Array>"u"?q:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?q:FinalizationRegistry,"%Function%":ka,"%GeneratorFunction%":it,"%Int8Array%":typeof Int8Array>"u"?q:Int8Array,"%Int16Array%":typeof Int16Array>"u"?q:Int16Array,"%Int32Array%":typeof Int32Array>"u"?q:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":nt&&me?me(me([][Symbol.iterator]())):q,"%JSON%":typeof JSON=="object"?JSON:q,"%Map%":typeof Map>"u"?q:Map,"%MapIteratorPrototype%":typeof Map>"u"||!nt||!me?q:me(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?q:Promise,"%Proxy%":typeof Proxy>"u"?q:Proxy,"%RangeError%":zo,"%ReferenceError%":qo,"%Reflect%":typeof Reflect>"u"?q:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?q:Set,"%SetIteratorPrototype%":typeof Set>"u"||!nt||!me?q:me(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?q:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":nt&&me?me(""[Symbol.iterator]()):q,"%Symbol%":nt?Symbol:q,"%SyntaxError%":ft,"%ThrowTypeError%":Ko,"%TypedArray%":Ho,"%TypeError%":ut,"%Uint8Array%":typeof Uint8Array>"u"?q:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?q:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?q:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?q:Uint32Array,"%URIError%":Jo,"%WeakMap%":typeof WeakMap>"u"?q:WeakMap,"%WeakRef%":typeof WeakRef>"u"?q:WeakRef,"%WeakSet%":typeof WeakSet>"u"?q:WeakSet};if(me)try{null.error}catch(t){var Qo=me(me(t));ze["%Error.prototype%"]=Qo}var Zo=function t(e){var r;if(e==="%AsyncFunction%")r=cn("async function () {}");else if(e==="%GeneratorFunction%")r=cn("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=cn("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var a=t("%AsyncGenerator%");a&&me&&(r=me(a.prototype))}return ze[e]=r,r},Sr={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},xt=Et,Kt=nr,Yo=xt.call(Function.call,Array.prototype.concat),ei=xt.call(Function.apply,Array.prototype.splice),Ar=xt.call(Function.call,String.prototype.replace),Xt=xt.call(Function.call,String.prototype.slice),ti=xt.call(Function.call,RegExp.prototype.exec),ni=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ri=/\\(\\)?/g,ai=function(e){var r=Xt(e,0,1),n=Xt(e,-1);if(r==="%"&&n!=="%")throw new ft("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new ft("invalid intrinsic syntax, expected opening `%`");var a=[];return Ar(e,ni,function(o,i,l,s){a[a.length]=l?Ar(s,ri,"$1"):i||o}),a},oi=function(e,r){var n=e,a;if(Kt(Sr,n)&&(a=Sr[n],n="%"+a[0]+"%"),Kt(ze,n)){var o=ze[n];if(o===it&&(o=Zo(n)),typeof o>"u"&&!r)throw new ut("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:a,name:n,value:o}}throw new ft("intrinsic "+e+" does not exist!")},rr=function(e,r){if(typeof e!="string"||e.length===0)throw new ut("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new ut('"allowMissing" argument must be a boolean');if(ti(/^%?[^%]*%?$/,e)===null)throw new ft("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=ai(e),a=n.length>0?n[0]:"",o=oi("%"+a+"%",r),i=o.name,l=o.value,s=!1,u=o.alias;u&&(a=u[0],ei(n,Yo([0,1],u)));for(var c=1,m=!0;c<n.length;c+=1){var d=n[c],f=Xt(d,0,1),A=Xt(d,-1);if((f==='"'||f==="'"||f==="`"||A==='"'||A==="'"||A==="`")&&f!==A)throw new ft("property names with quotes must have matching quotes");if((d==="constructor"||!m)&&(s=!0),a+="."+d,i="%"+a+"%",Kt(ze,i))l=ze[i];else if(l!=null){if(!(d in l)){if(!r)throw new ut("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ge&&c+1>=n.length){var k=Ge(l,d);m=!!k,m&&"get"in k&&!("originalValue"in k.get)?l=k.get:l=l[d]}else m=Kt(l,d),l=l[d];m&&!s&&(ze[i]=l)}}return l},_a={exports:{}},J,ii=Qn,li=Zn,si=Yn,ui=er,mt=on,ct=et,ci=tr,Sa=Function,dn=function(t){try{return Sa('"use strict"; return ('+t+").constructor;")()}catch{}},qe=Object.getOwnPropertyDescriptor;if(qe)try{qe({},"")}catch{qe=null}var fn=function(){throw new ct},pi=qe?function(){try{return arguments.callee,fn}catch{try{return qe(arguments,"callee").get}catch{return fn}}}():fn,rt=ln(),di=sn(),ye=Object.getPrototypeOf||(di?function(t){return t.__proto__}:null),lt={},fi=typeof Uint8Array>"u"||!ye?J:ye(Uint8Array),Je={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?J:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?J:ArrayBuffer,"%ArrayIteratorPrototype%":rt&&ye?ye([][Symbol.iterator]()):J,"%AsyncFromSyncIteratorPrototype%":J,"%AsyncFunction%":lt,"%AsyncGenerator%":lt,"%AsyncGeneratorFunction%":lt,"%AsyncIteratorPrototype%":lt,"%Atomics%":typeof Atomics>"u"?J:Atomics,"%BigInt%":typeof BigInt>"u"?J:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?J:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?J:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?J:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":ii,"%eval%":eval,"%EvalError%":li,"%Float32Array%":typeof Float32Array>"u"?J:Float32Array,"%Float64Array%":typeof Float64Array>"u"?J:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?J:FinalizationRegistry,"%Function%":Sa,"%GeneratorFunction%":lt,"%Int8Array%":typeof Int8Array>"u"?J:Int8Array,"%Int16Array%":typeof Int16Array>"u"?J:Int16Array,"%Int32Array%":typeof Int32Array>"u"?J:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":rt&&ye?ye(ye([][Symbol.iterator]())):J,"%JSON%":typeof JSON=="object"?JSON:J,"%Map%":typeof Map>"u"?J:Map,"%MapIteratorPrototype%":typeof Map>"u"||!rt||!ye?J:ye(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?J:Promise,"%Proxy%":typeof Proxy>"u"?J:Proxy,"%RangeError%":si,"%ReferenceError%":ui,"%Reflect%":typeof Reflect>"u"?J:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?J:Set,"%SetIteratorPrototype%":typeof Set>"u"||!rt||!ye?J:ye(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?J:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":rt&&ye?ye(""[Symbol.iterator]()):J,"%Symbol%":rt?Symbol:J,"%SyntaxError%":mt,"%ThrowTypeError%":pi,"%TypedArray%":fi,"%TypeError%":ct,"%Uint8Array%":typeof Uint8Array>"u"?J:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?J:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?J:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?J:Uint32Array,"%URIError%":ci,"%WeakMap%":typeof WeakMap>"u"?J:WeakMap,"%WeakRef%":typeof WeakRef>"u"?J:WeakRef,"%WeakSet%":typeof WeakSet>"u"?J:WeakSet};if(ye)try{null.error}catch(t){var mi=ye(ye(t));Je["%Error.prototype%"]=mi}var yi=function t(e){var r;if(e==="%AsyncFunction%")r=dn("async function () {}");else if(e==="%GeneratorFunction%")r=dn("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=dn("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var a=t("%AsyncGenerator%");a&&ye&&(r=ye(a.prototype))}return Je[e]=r,r},$r={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Dt=Et,Ht=nr,hi=Dt.call(Function.call,Array.prototype.concat),vi=Dt.call(Function.apply,Array.prototype.splice),Pr=Dt.call(Function.call,String.prototype.replace),Qt=Dt.call(Function.call,String.prototype.slice),gi=Dt.call(Function.call,RegExp.prototype.exec),bi=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,wi=/\\(\\)?/g,ki=function(e){var r=Qt(e,0,1),n=Qt(e,-1);if(r==="%"&&n!=="%")throw new mt("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new mt("invalid intrinsic syntax, expected opening `%`");var a=[];return Pr(e,bi,function(o,i,l,s){a[a.length]=l?Pr(s,wi,"$1"):i||o}),a},_i=function(e,r){var n=e,a;if(Ht($r,n)&&(a=$r[n],n="%"+a[0]+"%"),Ht(Je,n)){var o=Je[n];if(o===lt&&(o=yi(n)),typeof o>"u"&&!r)throw new ct("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:a,name:n,value:o}}throw new mt("intrinsic "+e+" does not exist!")},Si=function(e,r){if(typeof e!="string"||e.length===0)throw new ct("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new ct('"allowMissing" argument must be a boolean');if(gi(/^%?[^%]*%?$/,e)===null)throw new mt("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=ki(e),a=n.length>0?n[0]:"",o=_i("%"+a+"%",r),i=o.name,l=o.value,s=!1,u=o.alias;u&&(a=u[0],vi(n,hi([0,1],u)));for(var c=1,m=!0;c<n.length;c+=1){var d=n[c],f=Qt(d,0,1),A=Qt(d,-1);if((f==='"'||f==="'"||f==="`"||A==='"'||A==="'"||A==="`")&&f!==A)throw new mt("property names with quotes must have matching quotes");if((d==="constructor"||!m)&&(s=!0),a+="."+d,i="%"+a+"%",Ht(Je,i))l=Je[i];else if(l!=null){if(!(d in l)){if(!r)throw new ct("base intrinsic for "+e+" exists, but the property is not available.");return}if(qe&&c+1>=n.length){var k=qe(l,d);m=!!k,m&&"get"in k&&!("originalValue"in k.get)?l=k.get:l=l[d]}else m=Ht(l,d),l=l[d];m&&!s&&(Je[i]=l)}}return l},mn,Ir;function Ai(){if(Ir)return mn;Ir=1;var t,e=Qn,r=Zn,n=Yn,a=er,o=on,i=et,l=tr,s=Function,u=function(N){try{return s('"use strict"; return ('+N+").constructor;")()}catch{}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch{c=null}var m=function(){throw new i},d=c?function(){try{return arguments.callee,m}catch{try{return c(arguments,"callee").get}catch{return m}}}():m,f=ln(),A=sn(),k=Object.getPrototypeOf||(A?function(N){return N.__proto__}:null),I={},S=typeof Uint8Array>"u"||!k?t:k(Uint8Array),C={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":f&&k?k([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":I,"%AsyncGenerator%":I,"%AsyncGeneratorFunction%":I,"%AsyncIteratorPrototype%":I,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":e,"%eval%":eval,"%EvalError%":r,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":s,"%GeneratorFunction%":I,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f&&k?k(k([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!f||!k?t:k(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":n,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!f||!k?t:k(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f&&k?k(""[Symbol.iterator]()):t,"%Symbol%":f?Symbol:t,"%SyntaxError%":o,"%ThrowTypeError%":d,"%TypedArray%":S,"%TypeError%":i,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":l,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet};if(k)try{null.error}catch(N){var E=k(k(N));C["%Error.prototype%"]=E}var D=function N(W){var Q;if(W==="%AsyncFunction%")Q=u("async function () {}");else if(W==="%GeneratorFunction%")Q=u("function* () {}");else if(W==="%AsyncGeneratorFunction%")Q=u("async function* () {}");else if(W==="%AsyncGenerator%"){var z=N("%AsyncGeneratorFunction%");z&&(Q=z.prototype)}else if(W==="%AsyncIteratorPrototype%"){var ne=N("%AsyncGenerator%");ne&&k&&(Q=k(ne.prototype))}return C[W]=Q,Q},V={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=Et,v=nr,w=y.call(Function.call,Array.prototype.concat),_=y.call(Function.apply,Array.prototype.splice),$=y.call(Function.call,String.prototype.replace),R=y.call(Function.call,String.prototype.slice),U=y.call(Function.call,RegExp.prototype.exec),B=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,j=/\\(\\)?/g,F=function(W){var Q=R(W,0,1),z=R(W,-1);if(Q==="%"&&z!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(z==="%"&&Q!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var ne=[];return $(W,B,function(de,_e,fe,De){ne[ne.length]=fe?$(De,j,"$1"):_e||de}),ne},x=function(W,Q){var z=W,ne;if(v(V,z)&&(ne=V[z],z="%"+ne[0]+"%"),v(C,z)){var de=C[z];if(de===I&&(de=D(z)),typeof de>"u"&&!Q)throw new i("intrinsic "+W+" exists, but is not available. Please file an issue!");return{alias:ne,name:z,value:de}}throw new o("intrinsic "+W+" does not exist!")};return mn=function(W,Q){if(typeof W!="string"||W.length===0)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Q!="boolean")throw new i('"allowMissing" argument must be a boolean');if(U(/^%?[^%]*%?$/,W)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var z=F(W),ne=z.length>0?z[0]:"",de=x("%"+ne+"%",Q),_e=de.name,fe=de.value,De=!1,tt=de.alias;tt&&(ne=tt[0],_(z,w([0,1],tt)));for(var Be=1,Ce=!0;Be<z.length;Be+=1){var Se=z[Be],Ft=R(Se,0,1),Ut=R(Se,-1);if((Ft==='"'||Ft==="'"||Ft==="`"||Ut==='"'||Ut==="'"||Ut==="`")&&Ft!==Ut)throw new o("property names with quotes must have matching quotes");if((Se==="constructor"||!Ce)&&(De=!0),ne+="."+Se,_e="%"+ne+"%",v(C,_e))fe=C[_e];else if(fe!=null){if(!(Se in fe)){if(!Q)throw new i("base intrinsic for "+W+" exists, but the property is not available.");return}if(c&&Be+1>=z.length){var Vt=c(fe,Se);Ce=!!Vt,Ce&&"get"in Vt&&!("originalValue"in Vt.get)?fe=Vt.get:fe=fe[Se]}else Ce=v(fe,Se),fe=fe[Se];Ce&&!De&&(C[_e]=fe)}}return fe},mn}var yn,Er;function ar(){if(Er)return yn;Er=1;var t=Ai(),e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return yn=e,yn}var $i="Function.prototype.bind called on incompatible ",hn=Array.prototype.slice,Pi=Object.prototype.toString,Ii="[object Function]",Ei=function(e){var r=this;if(typeof r!="function"||Pi.call(r)!==Ii)throw new TypeError($i+r);for(var n=hn.call(arguments,1),a,o=function(){if(this instanceof a){var c=r.apply(this,n.concat(hn.call(arguments)));return Object(c)===c?c:this}else return r.apply(e,n.concat(hn.call(arguments)))},i=Math.max(0,r.length-n.length),l=[],s=0;s<i;s++)l.push("$"+s);if(a=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var u=function(){};u.prototype=r.prototype,a.prototype=new u,u.prototype=null}return a},xi=Ei,Di=Function.prototype.bind||xi,Ci="Function.prototype.bind called on incompatible ",vn=Array.prototype.slice,Ri=Object.prototype.toString,Fi="[object Function]",Ui=function(e){var r=this;if(typeof r!="function"||Ri.call(r)!==Fi)throw new TypeError(Ci+r);for(var n=vn.call(arguments,1),a,o=function(){if(this instanceof a){var c=r.apply(this,n.concat(vn.call(arguments)));return Object(c)===c?c:this}else return r.apply(e,n.concat(vn.call(arguments)))},i=Math.max(0,r.length-n.length),l=[],s=0;s<i;s++)l.push("$"+s);if(a=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var u=function(){};u.prototype=r.prototype,a.prototype=new u,u.prototype=null}return a},Vi=Ui,Oi=Function.prototype.bind||Vi,Bi=Oi,Ti=Bi.call(Function.call,Object.prototype.hasOwnProperty),K,yt=SyntaxError,Aa=Function,pt=TypeError,gn=function(t){try{return Aa('"use strict"; return ('+t+").constructor;")()}catch{}},Ke=Object.getOwnPropertyDescriptor;if(Ke)try{Ke({},"")}catch{Ke=null}var bn=function(){throw new pt},Ni=Ke?function(){try{return arguments.callee,bn}catch{try{return Ke(arguments,"callee").get}catch{return bn}}}():bn,at=ln(),ji=sn(),he=Object.getPrototypeOf||(ji?function(t){return t.__proto__}:null),st={},Mi=typeof Uint8Array>"u"||!he?K:he(Uint8Array),Xe={"%AggregateError%":typeof AggregateError>"u"?K:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?K:ArrayBuffer,"%ArrayIteratorPrototype%":at&&he?he([][Symbol.iterator]()):K,"%AsyncFromSyncIteratorPrototype%":K,"%AsyncFunction%":st,"%AsyncGenerator%":st,"%AsyncGeneratorFunction%":st,"%AsyncIteratorPrototype%":st,"%Atomics%":typeof Atomics>"u"?K:Atomics,"%BigInt%":typeof BigInt>"u"?K:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?K:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?K:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?K:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?K:Float32Array,"%Float64Array%":typeof Float64Array>"u"?K:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?K:FinalizationRegistry,"%Function%":Aa,"%GeneratorFunction%":st,"%Int8Array%":typeof Int8Array>"u"?K:Int8Array,"%Int16Array%":typeof Int16Array>"u"?K:Int16Array,"%Int32Array%":typeof Int32Array>"u"?K:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":at&&he?he(he([][Symbol.iterator]())):K,"%JSON%":typeof JSON=="object"?JSON:K,"%Map%":typeof Map>"u"?K:Map,"%MapIteratorPrototype%":typeof Map>"u"||!at||!he?K:he(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?K:Promise,"%Proxy%":typeof Proxy>"u"?K:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?K:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?K:Set,"%SetIteratorPrototype%":typeof Set>"u"||!at||!he?K:he(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?K:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":at&&he?he(""[Symbol.iterator]()):K,"%Symbol%":at?Symbol:K,"%SyntaxError%":yt,"%ThrowTypeError%":Ni,"%TypedArray%":Mi,"%TypeError%":pt,"%Uint8Array%":typeof Uint8Array>"u"?K:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?K:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?K:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?K:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?K:WeakMap,"%WeakRef%":typeof WeakRef>"u"?K:WeakRef,"%WeakSet%":typeof WeakSet>"u"?K:WeakSet};if(he)try{null.error}catch(t){var Li=he(he(t));Xe["%Error.prototype%"]=Li}var Wi=function t(e){var r;if(e==="%AsyncFunction%")r=gn("async function () {}");else if(e==="%GeneratorFunction%")r=gn("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=gn("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var a=t("%AsyncGenerator%");a&&he&&(r=he(a.prototype))}return Xe[e]=r,r},xr={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ct=Di,Zt=Ti,Gi=Ct.call(Function.call,Array.prototype.concat),zi=Ct.call(Function.apply,Array.prototype.splice),Dr=Ct.call(Function.call,String.prototype.replace),Yt=Ct.call(Function.call,String.prototype.slice),qi=Ct.call(Function.call,RegExp.prototype.exec),Ji=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ki=/\\(\\)?/g,Xi=function(e){var r=Yt(e,0,1),n=Yt(e,-1);if(r==="%"&&n!=="%")throw new yt("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new yt("invalid intrinsic syntax, expected opening `%`");var a=[];return Dr(e,Ji,function(o,i,l,s){a[a.length]=l?Dr(s,Ki,"$1"):i||o}),a},Hi=function(e,r){var n=e,a;if(Zt(xr,n)&&(a=xr[n],n="%"+a[0]+"%"),Zt(Xe,n)){var o=Xe[n];if(o===st&&(o=Wi(n)),typeof o>"u"&&!r)throw new pt("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:a,name:n,value:o}}throw new yt("intrinsic "+e+" does not exist!")},Qi=function(e,r){if(typeof e!="string"||e.length===0)throw new pt("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new pt('"allowMissing" argument must be a boolean');if(qi(/^%?[^%]*%?$/,e)===null)throw new yt("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Xi(e),a=n.length>0?n[0]:"",o=Hi("%"+a+"%",r),i=o.name,l=o.value,s=!1,u=o.alias;u&&(a=u[0],zi(n,Gi([0,1],u)));for(var c=1,m=!0;c<n.length;c+=1){var d=n[c],f=Yt(d,0,1),A=Yt(d,-1);if((f==='"'||f==="'"||f==="`"||A==='"'||A==="'"||A==="`")&&f!==A)throw new yt("property names with quotes must have matching quotes");if((d==="constructor"||!m)&&(s=!0),a+="."+d,i="%"+a+"%",Zt(Xe,i))l=Xe[i];else if(l!=null){if(!(d in l)){if(!r)throw new pt("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ke&&c+1>=n.length){var k=Ke(l,d);m=!!k,m&&"get"in k&&!("originalValue"in k.get)?l=k.get:l=l[d]}else m=Zt(l,d),l=l[d];m&&!s&&(Xe[i]=l)}}return l},Zi=Qi,qt=Zi("%Object.getOwnPropertyDescriptor%",!0);if(qt)try{qt([],"length")}catch{qt=null}var $a=qt,Cr=ar(),Yi=on,ot=et,Rr=$a,el=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new ot("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new ot("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new ot("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new ot("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new ot("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new ot("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,i=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,s=!!Rr&&Rr(e,r);if(Cr)Cr(e,r,{configurable:i===null&&s?s.configurable:!i,enumerable:a===null&&s?s.enumerable:!a,value:n,writable:o===null&&s?s.writable:!o});else if(l||!a&&!o&&!i)e[r]=n;else throw new Yi("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Un=ar(),Pa=function(){return!!Un};Pa.hasArrayLengthDefineBug=function(){if(!Un)return null;try{return Un([],"length",{value:1}).length!==1}catch{return!0}};var tl=Pa,nl=Si,Fr=el,rl=tl(),Ur=$a,Vr=et,al=nl("%Math.floor%"),ol=function(e,r){if(typeof e!="function")throw new Vr("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||al(r)!==r)throw new Vr("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],a=!0,o=!0;if("length"in e&&Ur){var i=Ur(e,"length");i&&!i.configurable&&(a=!1),i&&!i.writable&&(o=!1)}return(a||o||!n)&&(rl?Fr(e,"length",r,!0,!0):Fr(e,"length",r)),e};(function(t){var e=Et,r=rr,n=ol,a=et,o=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),l=r("%Reflect.apply%",!0)||e.call(i,o),s=ar(),u=r("%Math.max%");t.exports=function(d){if(typeof d!="function")throw new a("a function is required");var f=l(e,i,arguments);return n(f,1+u(0,d.length-(arguments.length-1)),!0)};var c=function(){return l(e,o,arguments)};s?s(t.exports,"apply",{value:c}):t.exports.apply=c})(_a);var il=_a.exports,Ia=rr,Ea=il,ll=Ea(Ia("String.prototype.indexOf")),sl=function(e,r){var n=Ia(e,!!r);return typeof n=="function"&&ll(e,".prototype.")>-1?Ea(n):n};const ul={},cl=Object.freeze(Object.defineProperty({__proto__:null,default:ul},Symbol.toStringTag,{value:"Module"})),pl=mo(cl);var or=typeof Map=="function"&&Map.prototype,wn=Object.getOwnPropertyDescriptor&&or?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,en=or&&wn&&typeof wn.get=="function"?wn.get:null,Or=or&&Map.prototype.forEach,ir=typeof Set=="function"&&Set.prototype,kn=Object.getOwnPropertyDescriptor&&ir?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,tn=ir&&kn&&typeof kn.get=="function"?kn.get:null,Br=ir&&Set.prototype.forEach,dl=typeof WeakMap=="function"&&WeakMap.prototype,_t=dl?WeakMap.prototype.has:null,fl=typeof WeakSet=="function"&&WeakSet.prototype,St=fl?WeakSet.prototype.has:null,ml=typeof WeakRef=="function"&&WeakRef.prototype,Tr=ml?WeakRef.prototype.deref:null,yl=Boolean.prototype.valueOf,hl=Object.prototype.toString,vl=Function.prototype.toString,gl=String.prototype.match,lr=String.prototype.slice,Ue=String.prototype.replace,bl=String.prototype.toUpperCase,Nr=String.prototype.toLowerCase,xa=RegExp.prototype.test,jr=Array.prototype.concat,Ie=Array.prototype.join,wl=Array.prototype.slice,Mr=Math.floor,Vn=typeof BigInt=="function"?BigInt.prototype.valueOf:null,_n=Object.getOwnPropertySymbols,On=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ht=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ge=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ht||!0)?Symbol.toStringTag:null,Da=Object.prototype.propertyIsEnumerable,Lr=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Wr(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||xa.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Mr(-t):Mr(t);if(n!==t){var a=String(n),o=lr.call(e,a.length+1);return Ue.call(a,r,"$&_")+"."+Ue.call(Ue.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ue.call(e,r,"$&_")}var Bn=pl,Gr=Bn.custom,zr=Ra(Gr)?Gr:null,kl=function t(e,r,n,a){var o=r||{};if(Re(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Re(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var i=Re(o,"customInspect")?o.customInspect:!0;if(typeof i!="boolean"&&i!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Re(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Re(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=o.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Ua(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var s=String(e);return l?Wr(e,s):s}if(typeof e=="bigint"){var u=String(e)+"n";return l?Wr(e,u):u}var c=typeof o.depth>"u"?5:o.depth;if(typeof n>"u"&&(n=0),n>=c&&c>0&&typeof e=="object")return Tn(e)?"[Array]":"[Object]";var m=Nl(o,n);if(typeof a>"u")a=[];else if(Fa(a,e)>=0)return"[Circular]";function d(B,j,F){if(j&&(a=wl.call(a),a.push(j)),F){var x={depth:o.depth};return Re(o,"quoteStyle")&&(x.quoteStyle=o.quoteStyle),t(B,x,n+1,a)}return t(B,o,n+1,a)}if(typeof e=="function"&&!qr(e)){var f=Dl(e),A=Bt(e,d);return"[Function"+(f?": "+f:" (anonymous)")+"]"+(A.length>0?" { "+Ie.call(A,", ")+" }":"")}if(Ra(e)){var k=ht?Ue.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):On.call(e);return typeof e=="object"&&!ht?bt(k):k}if(Ol(e)){for(var I="<"+Nr.call(String(e.nodeName)),S=e.attributes||[],C=0;C<S.length;C++)I+=" "+S[C].name+"="+Ca(_l(S[C].value),"double",o);return I+=">",e.childNodes&&e.childNodes.length&&(I+="..."),I+="</"+Nr.call(String(e.nodeName))+">",I}if(Tn(e)){if(e.length===0)return"[]";var E=Bt(e,d);return m&&!Tl(E)?"["+Nn(E,m)+"]":"[ "+Ie.call(E,", ")+" ]"}if(Al(e)){var D=Bt(e,d);return!("cause"in Error.prototype)&&"cause"in e&&!Da.call(e,"cause")?"{ ["+String(e)+"] "+Ie.call(jr.call("[cause]: "+d(e.cause),D),", ")+" }":D.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Ie.call(D,", ")+" }"}if(typeof e=="object"&&i){if(zr&&typeof e[zr]=="function"&&Bn)return Bn(e,{depth:c-n});if(i!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Cl(e)){var V=[];return Or&&Or.call(e,function(B,j){V.push(d(j,e,!0)+" => "+d(B,e))}),Jr("Map",en.call(e),V,m)}if(Ul(e)){var y=[];return Br&&Br.call(e,function(B){y.push(d(B,e))}),Jr("Set",tn.call(e),y,m)}if(Rl(e))return Sn("WeakMap");if(Vl(e))return Sn("WeakSet");if(Fl(e))return Sn("WeakRef");if(Pl(e))return bt(d(Number(e)));if(El(e))return bt(d(Vn.call(e)));if(Il(e))return bt(yl.call(e));if($l(e))return bt(d(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===ya)return"{ [object globalThis] }";if(!Sl(e)&&!qr(e)){var v=Bt(e,d),w=Lr?Lr(e)===Object.prototype:e instanceof Object||e.constructor===Object,_=e instanceof Object?"":"null prototype",$=!w&&ge&&Object(e)===e&&ge in e?lr.call(Ve(e),8,-1):_?"Object":"",R=w||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",U=R+($||_?"["+Ie.call(jr.call([],$||[],_||[]),": ")+"] ":"");return v.length===0?U+"{}":m?U+"{"+Nn(v,m)+"}":U+"{ "+Ie.call(v,", ")+" }"}return String(e)};function Ca(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function _l(t){return Ue.call(String(t),/"/g,"&quot;")}function Tn(t){return Ve(t)==="[object Array]"&&(!ge||!(typeof t=="object"&&ge in t))}function Sl(t){return Ve(t)==="[object Date]"&&(!ge||!(typeof t=="object"&&ge in t))}function qr(t){return Ve(t)==="[object RegExp]"&&(!ge||!(typeof t=="object"&&ge in t))}function Al(t){return Ve(t)==="[object Error]"&&(!ge||!(typeof t=="object"&&ge in t))}function $l(t){return Ve(t)==="[object String]"&&(!ge||!(typeof t=="object"&&ge in t))}function Pl(t){return Ve(t)==="[object Number]"&&(!ge||!(typeof t=="object"&&ge in t))}function Il(t){return Ve(t)==="[object Boolean]"&&(!ge||!(typeof t=="object"&&ge in t))}function Ra(t){if(ht)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!On)return!1;try{return On.call(t),!0}catch{}return!1}function El(t){if(!t||typeof t!="object"||!Vn)return!1;try{return Vn.call(t),!0}catch{}return!1}var xl=Object.prototype.hasOwnProperty||function(t){return t in this};function Re(t,e){return xl.call(t,e)}function Ve(t){return hl.call(t)}function Dl(t){if(t.name)return t.name;var e=gl.call(vl.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Fa(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Cl(t){if(!en||!t||typeof t!="object")return!1;try{en.call(t);try{tn.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Rl(t){if(!_t||!t||typeof t!="object")return!1;try{_t.call(t,_t);try{St.call(t,St)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Fl(t){if(!Tr||!t||typeof t!="object")return!1;try{return Tr.call(t),!0}catch{}return!1}function Ul(t){if(!tn||!t||typeof t!="object")return!1;try{tn.call(t);try{en.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Vl(t){if(!St||!t||typeof t!="object")return!1;try{St.call(t,St);try{_t.call(t,_t)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Ol(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Ua(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Ua(lr.call(t,0,e.maxStringLength),e)+n}var a=Ue.call(Ue.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Bl);return Ca(a,"single",e)}function Bl(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+bl.call(e.toString(16))}function bt(t){return"Object("+t+")"}function Sn(t){return t+" { ? }"}function Jr(t,e,r,n){var a=n?Nn(r,n):Ie.call(r,", ");return t+" ("+e+") {"+a+"}"}function Tl(t){for(var e=0;e<t.length;e++)if(Fa(t[e],`
`)>=0)return!1;return!0}function Nl(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Ie.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Ie.call(Array(e+1),r)}}function Nn(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Ie.call(t,","+r)+`
`+e.prev}function Bt(t,e){var r=Tn(t),n=[];if(r){n.length=t.length;for(var a=0;a<t.length;a++)n[a]=Re(t,a)?e(t[a],t):""}var o=typeof _n=="function"?_n(t):[],i;if(ht){i={};for(var l=0;l<o.length;l++)i["$"+o[l]]=o[l]}for(var s in t)Re(t,s)&&(r&&String(Number(s))===s&&s<t.length||ht&&i["$"+s]instanceof Symbol||(xa.call(/[^\w$]/,s)?n.push(e(s,t)+": "+e(t[s],t)):n.push(s+": "+e(t[s],t))));if(typeof _n=="function")for(var u=0;u<o.length;u++)Da.call(t,o[u])&&n.push("["+e(o[u])+"]: "+e(t[o[u]],t));return n}var Va=rr,gt=sl,jl=kl,Ml=et,Tt=Va("%WeakMap%",!0),Nt=Va("%Map%",!0),Ll=gt("WeakMap.prototype.get",!0),Wl=gt("WeakMap.prototype.set",!0),Gl=gt("WeakMap.prototype.has",!0),zl=gt("Map.prototype.get",!0),ql=gt("Map.prototype.set",!0),Jl=gt("Map.prototype.has",!0),sr=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Kl=function(t,e){var r=sr(t,e);return r&&r.value},Xl=function(t,e,r){var n=sr(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},Hl=function(t,e){return!!sr(t,e)},Ql=function(){var e,r,n,a={assert:function(o){if(!a.has(o))throw new Ml("Side channel does not contain "+jl(o))},get:function(o){if(Tt&&o&&(typeof o=="object"||typeof o=="function")){if(e)return Ll(e,o)}else if(Nt){if(r)return zl(r,o)}else if(n)return Kl(n,o)},has:function(o){if(Tt&&o&&(typeof o=="object"||typeof o=="function")){if(e)return Gl(e,o)}else if(Nt){if(r)return Jl(r,o)}else if(n)return Hl(n,o);return!1},set:function(o,i){Tt&&o&&(typeof o=="object"||typeof o=="function")?(e||(e=new Tt),Wl(e,o,i)):Nt?(r||(r=new Nt),ql(r,o,i)):(n||(n={key:{},next:null}),Xl(n,o,i))}};return a},Zl=String.prototype.replace,Yl=/%20/g,An={RFC1738:"RFC1738",RFC3986:"RFC3986"},ur={default:An.RFC3986,formatters:{RFC1738:function(t){return Zl.call(t,Yl,"+")},RFC3986:function(t){return String(t)}},RFC1738:An.RFC1738,RFC3986:An.RFC3986},es=ur,$n=Object.prototype.hasOwnProperty,We=Array.isArray,$e=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),ts=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(We(n)){for(var a=[],o=0;o<n.length;++o)typeof n[o]<"u"&&a.push(n[o]);r.obj[r.prop]=a}}},Oa=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},a=0;a<e.length;++a)typeof e[a]<"u"&&(n[a]=e[a]);return n},ns=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(We(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!$n.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var a=e;return We(e)&&!We(r)&&(a=Oa(e,n)),We(e)&&We(r)?(r.forEach(function(o,i){if($n.call(e,i)){var l=e[i];l&&typeof l=="object"&&o&&typeof o=="object"?e[i]=t(l,o,n):e.push(o)}else e[i]=o}),e):Object.keys(r).reduce(function(o,i){var l=r[i];return $n.call(o,i)?o[i]=t(o[i],l,n):o[i]=l,o},a)},rs=function(e,r){return Object.keys(r).reduce(function(n,a){return n[a]=r[a],n},e)},as=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},os=function(e,r,n,a,o){if(e.length===0)return e;var i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});for(var l="",s=0;s<i.length;++s){var u=i.charCodeAt(s);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||o===es.RFC1738&&(u===40||u===41)){l+=i.charAt(s);continue}if(u<128){l=l+$e[u];continue}if(u<2048){l=l+($e[192|u>>6]+$e[128|u&63]);continue}if(u<55296||u>=57344){l=l+($e[224|u>>12]+$e[128|u>>6&63]+$e[128|u&63]);continue}s+=1,u=65536+((u&1023)<<10|i.charCodeAt(s)&1023),l+=$e[240|u>>18]+$e[128|u>>12&63]+$e[128|u>>6&63]+$e[128|u&63]}return l},is=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],a=0;a<r.length;++a)for(var o=r[a],i=o.obj[o.prop],l=Object.keys(i),s=0;s<l.length;++s){var u=l[s],c=i[u];typeof c=="object"&&c!==null&&n.indexOf(c)===-1&&(r.push({obj:i,prop:u}),n.push(c))}return ts(r),e},ls=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},ss=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},us=function(e,r){return[].concat(e,r)},cs=function(e,r){if(We(e)){for(var n=[],a=0;a<e.length;a+=1)n.push(r(e[a]));return n}return r(e)},Ba={arrayToObject:Oa,assign:rs,combine:us,compact:is,decode:as,encode:os,isBuffer:ss,isRegExp:ls,maybeMap:cs,merge:ns},Ta=Ql,Jt=Ba,At=ur,ps=Object.prototype.hasOwnProperty,Na={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Pe=Array.isArray,ds=Array.prototype.push,ja=function(t,e){ds.apply(t,Pe(e)?e:[e])},fs=Date.prototype.toISOString,Kr=At.default,le={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Jt.encode,encodeValuesOnly:!1,format:Kr,formatter:At.formatters[Kr],indices:!1,serializeDate:function(e){return fs.call(e)},skipNulls:!1,strictNullHandling:!1},ms=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Pn={},ys=function t(e,r,n,a,o,i,l,s,u,c,m,d,f,A,k,I,S,C){for(var E=e,D=C,V=0,y=!1;(D=D.get(Pn))!==void 0&&!y;){var v=D.get(e);if(V+=1,typeof v<"u"){if(v===V)throw new RangeError("Cyclic object value");y=!0}typeof D.get(Pn)>"u"&&(V=0)}if(typeof c=="function"?E=c(r,E):E instanceof Date?E=f(E):n==="comma"&&Pe(E)&&(E=Jt.maybeMap(E,function(z){return z instanceof Date?f(z):z})),E===null){if(i)return u&&!I?u(r,le.encoder,S,"key",A):r;E=""}if(ms(E)||Jt.isBuffer(E)){if(u){var w=I?r:u(r,le.encoder,S,"key",A);return[k(w)+"="+k(u(E,le.encoder,S,"value",A))]}return[k(r)+"="+k(String(E))]}var _=[];if(typeof E>"u")return _;var $;if(n==="comma"&&Pe(E))I&&u&&(E=Jt.maybeMap(E,u)),$=[{value:E.length>0?E.join(",")||null:void 0}];else if(Pe(c))$=c;else{var R=Object.keys(E);$=m?R.sort(m):R}var U=s?r.replace(/\./g,"%2E"):r,B=a&&Pe(E)&&E.length===1?U+"[]":U;if(o&&Pe(E)&&E.length===0)return B+"[]";for(var j=0;j<$.length;++j){var F=$[j],x=typeof F=="object"&&typeof F.value<"u"?F.value:E[F];if(!(l&&x===null)){var N=d&&s?F.replace(/\./g,"%2E"):F,W=Pe(E)?typeof n=="function"?n(B,N):B:B+(d?"."+N:"["+N+"]");C.set(e,V);var Q=Ta();Q.set(Pn,C),ja(_,t(x,W,n,a,o,i,l,s,n==="comma"&&I&&Pe(E)?null:u,c,m,d,f,A,k,I,S,Q))}}return _},hs=function(e){if(!e)return le;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||le.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=At.default;if(typeof e.format<"u"){if(!ps.call(At.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var a=At.formatters[n],o=le.filter;(typeof e.filter=="function"||Pe(e.filter))&&(o=e.filter);var i;if(e.arrayFormat in Na?i=e.arrayFormat:"indices"in e?i=e.indices?"indices":"repeat":i=le.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:le.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:le.addQueryPrefix,allowDots:l,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:le.allowEmptyArrays,arrayFormat:i,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:le.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?le.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:le.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:le.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:le.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:le.encodeValuesOnly,filter:o,format:n,formatter:a,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:le.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:le.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:le.strictNullHandling}},vs=function(t,e){var r=t,n=hs(e),a,o;typeof n.filter=="function"?(o=n.filter,r=o("",r)):Pe(n.filter)&&(o=n.filter,a=o);var i=[];if(typeof r!="object"||r===null)return"";var l=Na[n.arrayFormat],s=l==="comma"&&n.commaRoundTrip;a||(a=Object.keys(r)),n.sort&&a.sort(n.sort);for(var u=Ta(),c=0;c<a.length;++c){var m=a[c];n.skipNulls&&r[m]===null||ja(i,ys(r[m],m,l,s,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}var d=i.join(n.delimiter),f=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),d.length>0?f+d:""},vt=Ba,jn=Object.prototype.hasOwnProperty,gs=Array.isArray,ie={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!0,decoder:vt.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},bs=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Ma=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},ws="utf8=%26%2310003%3B",ks="utf8=%E2%9C%93",_s=function(e,r){var n={__proto__:null},a=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=r.parameterLimit===1/0?void 0:r.parameterLimit,i=a.split(r.delimiter,o),l=-1,s,u=r.charset;if(r.charsetSentinel)for(s=0;s<i.length;++s)i[s].indexOf("utf8=")===0&&(i[s]===ks?u="utf-8":i[s]===ws&&(u="iso-8859-1"),l=s,s=i.length);for(s=0;s<i.length;++s)if(s!==l){var c=i[s],m=c.indexOf("]="),d=m===-1?c.indexOf("="):m+1,f,A;d===-1?(f=r.decoder(c,ie.decoder,u,"key"),A=r.strictNullHandling?null:""):(f=r.decoder(c.slice(0,d),ie.decoder,u,"key"),A=vt.maybeMap(Ma(c.slice(d+1),r),function(I){return r.decoder(I,ie.decoder,u,"value")})),A&&r.interpretNumericEntities&&u==="iso-8859-1"&&(A=bs(A)),c.indexOf("[]=")>-1&&(A=gs(A)?[A]:A);var k=jn.call(n,f);k&&r.duplicates==="combine"?n[f]=vt.combine(n[f],A):(!k||r.duplicates==="last")&&(n[f]=A)}return n},Ss=function(t,e,r,n){for(var a=n?e:Ma(e,r),o=t.length-1;o>=0;--o){var i,l=t[o];if(l==="[]"&&r.parseArrays)i=r.allowEmptyArrays&&a===""?[]:[].concat(a);else{i=r.plainObjects?Object.create(null):{};var s=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,u=r.decodeDotInKeys?s.replace(/%2E/g,"."):s,c=parseInt(u,10);!r.parseArrays&&u===""?i={0:a}:!isNaN(c)&&l!==u&&String(c)===u&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(i=[],i[c]=a):u!=="__proto__"&&(i[u]=a)}a=i}return a},As=function(e,r,n,a){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,s=n.depth>0&&i.exec(o),u=s?o.slice(0,s.index):o,c=[];if(u){if(!n.plainObjects&&jn.call(Object.prototype,u)&&!n.allowPrototypes)return;c.push(u)}for(var m=0;n.depth>0&&(s=l.exec(o))!==null&&m<n.depth;){if(m+=1,!n.plainObjects&&jn.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(s[1])}return s&&c.push("["+o.slice(s.index)+"]"),Ss(c,r,n,a)}},$s=function(e){if(!e)return ie;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?ie.charset:e.charset,n=typeof e.duplicates>"u"?ie.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var a=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:ie.allowDots:!!e.allowDots;return{allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:ie.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:ie.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:ie.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:ie.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ie.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:ie.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:ie.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:ie.decoder,delimiter:typeof e.delimiter=="string"||vt.isRegExp(e.delimiter)?e.delimiter:ie.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:ie.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:ie.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:ie.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:ie.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ie.strictNullHandling}},Ps=function(t,e){var r=$s(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?_s(t,r):t,a=r.plainObjects?Object.create(null):{},o=Object.keys(n),i=0;i<o.length;++i){var l=o[i],s=As(l,n[l],r,typeof t=="string");a=vt.merge(a,s,r)}return r.allowSparse===!0?a:vt.compact(a)},Is=vs,Es=Ps,xs=ur,Ds={formats:xs,parse:Es,stringify:Is};const Cs=Kn(Ds),cr=[{name:"徒手格斗",skill:"格斗(斗殴)",dam:"1D3+DB",tho:0,range:"接触",round:"1",num:"",price:"",err:"",time:"1920s，现代"},{name:"弓箭",skill:"射击(弓弩)",dam:"1D6+半DB",tho:0,range:"30",round:"1",num:"1",price:"7/75",err:"97",time:"1920s，现代"},{name:"黄铜指虎",skill:"格斗(斗殴)",dam:"1D3+1+DB",tho:0,range:"接触",round:"1",num:"",price:"1/10",err:"",time:"1920s，现代"},{name:"长鞭",skill:"格斗(鞭)",dam:"1D3+半DB",tho:0,range:"3",round:"1",num:"",price:"5/50",err:"97",time:"1920s"},{name:"燃烧的火把",skill:"格斗(斗殴)",dam:"1D6+燃烧",tho:0,range:"接触",round:"1",num:"",price:"0.05/0.5",err:"",time:"1920s，现代"},{name:"链锯",skill:"格斗(链锯)",dam:"2D8",tho:1,range:"接触",round:"1",num:"",price:"-/300",err:"95",time:"现代"},{name:"包革金属棒(大头棍、护身棒)",skill:"格斗(斗殴)",dam:"1D8+DB",tho:0,range:"接触",round:"1",num:"",price:"2/15",err:"",time:"1920s，现代"},{name:"大棒(棒球棒、拨火棍)",skill:"格斗(斗殴)",dam:"1D8+DB",tho:0,range:"接触",round:"1",num:"",price:"3/35",err:"",time:"1920s，现代"},{name:"小型棍棒(警棍)",skill:"格斗(斗殴)",dam:"1D6+DB",tho:0,range:"接触",round:"1",num:"",price:"3/35",err:"",time:"1920s，现代"},{name:"弩",skill:"射击(弓弩)",dam:"1D8+2",tho:1,range:"50",round:"1/2",num:"1",price:"10/100",err:"96",time:"1920s，现代"},{name:"绞索",skill:"格斗(绞索)",dam:"1D6+DB",tho:1,range:"接触",round:"1",num:"",price:"0.5/3",err:"",time:"1920s，现代"},{name:"手斧/手镰",skill:"格斗(斧)",dam:"1D6+1+DB",tho:1,range:"接触",round:"1",num:"",price:"3/9",err:"",time:"1920s，现代"},{name:"大型刀(甘蔗刀等)",skill:"格斗(斗殴)",dam:"1D8+DB",tho:1,range:"接触",round:"1",num:"",price:"4/50",err:"",time:"1920s，现代"},{name:"中型刀(切肉餐刀等)",skill:"格斗(斗殴)",dam:"1D4+2+DB",tho:1,range:"接触",round:"1",num:"",price:"2/15",err:"",time:"1920s，现代"},{name:"小型刀(弹簧折叠刀等)",skill:"格斗(斗殴)",dam:"1D4+DB",tho:1,range:"接触",round:"1",num:"",price:"2/6",err:"",time:"1920s，现代"},{name:"220V通电导线",skill:"格斗(斗殴)",dam:"2D8+晕",tho:0,range:"接触",round:"1",num:"",price:"",err:"95",time:"现代"},{name:"催泪喷雾",skill:"格斗(斗殴)",dam:"晕",tho:0,range:"2",round:"1",num:"25",price:"-/10",err:"",time:"1920s，现代"},{name:"双节棍",skill:"格斗(链枷)",dam:"1D8+DB",tho:0,range:"接触",round:"1",num:"",price:"1/10",err:"",time:"1920s，现代"},{name:"投石",skill:"投掷",dam:"1D4+半DB",tho:0,range:"STR/5m",round:"1",num:"",price:"",err:"",time:"1920s，现代"},{name:"手里剑",skill:"投掷",dam:"1D3+半DB",tho:1,range:"STR/5m",round:"2",num:"1",price:"0.5/3",err:"100",time:"1920s，现代"},{name:"矛、骑士长枪",skill:"格斗(矛)",dam:"1D8+1",tho:1,range:"接触",round:"1",num:"",price:"25/150",err:"",time:"1920s，现代"},{name:"投矛",skill:"投掷",dam:"1D8+半DB",tho:1,range:"STR/5m",round:"1",num:"",price:"42760",err:"",time:"稀有"},{name:"大型剑(马刀)",skill:"格斗(刀剑)",dam:"1D8+1+DB",tho:1,range:"接触",round:"1",num:"",price:"30/75",err:"",time:"1920s，现代"},{name:"中型剑(佩剑、重剑)",skill:"格斗(刀剑)",dam:"1D6+1+DB",tho:1,range:"接触",round:"1",num:"",price:"15/100",err:"",time:"1920s，现代"},{name:"轻型剑(花剑、剑杖)",skill:"格斗(刀剑)",dam:"1D6+DB",tho:1,range:"接触",round:"1",num:"",price:"25/100",err:"",time:"1920s，现代"},{name:"电棍",skill:"格斗(斗殴)",dam:"1D3+晕",tho:0,range:"接触",round:"1",num:"",price:"-/200",err:"97",time:"现代"},{name:"电击枪",skill:"射击(手枪)",dam:"1D3+晕",tho:0,range:"5",round:"1",num:"3",price:"-/400",err:"95",time:"现代"},{name:"战斗回力镖",skill:"投掷",dam:"1D8+半DB",tho:0,range:"STR/5m",round:"1",num:"",price:"2/4",err:"",time:"稀有"},{name:"伐木斧",skill:"格斗(斧)",dam:"1D8+2+DB",tho:1,range:"接触",round:"1",num:"",price:"5/10",err:"",time:"1920s，现代"},{name:"燧发手枪",skill:"射击(手枪)",dam:"1D6+1",tho:1,range:"10",round:"1/4",num:"1",price:"30/300",err:"95",time:"稀有"},{name:".22(5.6mm)小型自动手枪",skill:"射击(手枪)",dam:"1D6",tho:1,range:"10",round:"1(3)",num:"6",price:"25/190",err:"100",time:"1920s，现代"},{name:".25(6.35mm)短口手枪(单管)",skill:"射击(手枪)",dam:"1D6",tho:1,range:"3",round:"1",num:"1",price:"12/55",err:"100",time:"1920s"},{name:".32(7.65mm)左轮",skill:"射击(手枪)",dam:"1D8",tho:1,range:"15",round:"1(3)",num:"6",price:"15/200",err:"100",time:"1920s，现代"},{name:".32(7.65mm)自动手枪",skill:"射击(手枪)",dam:"1D8",tho:1,range:"15",round:"1(3)",num:"8",price:"20/350",err:"99",time:"1920s，现代"},{name:".357马格南左轮",skill:"射击(手枪)",dam:"1D8+1D4",tho:1,range:"15",round:"1(3)",num:"6",price:"425",err:"100",time:"现代"},{name:".38(9mm)左轮",skill:"射击(手枪)",dam:"1D10",tho:1,range:"15",round:"1(3)",num:"6",price:"25/200",err:"100",time:"1920s，现代"},{name:".38(9mm)自动手枪",skill:"射击(手枪)",dam:"1D10",tho:1,range:"15",round:"1(3)",num:"8",price:"30/375",err:"99",time:"1920s，现代"},{name:"贝瑞塔M9",skill:"射击(手枪)",dam:"1D10",tho:1,range:"15",round:"1(3)",num:"15",price:"-/500",err:"98",time:"现代"},{name:"9mm格洛克17",skill:"射击(手枪)",dam:"1D10",tho:1,range:"15",round:"1(3)",num:"17",price:"-/500",err:"98",time:"现代"},{name:"9mm鲁格P08",skill:"射击(手枪)",dam:"1D10",tho:1,range:"15",round:"1(3)",num:"8",price:"75/600",err:"99",time:"1920s，现代"},{name:".41(10.4mm)左轮",skill:"射击(手枪)",dam:"1D10",tho:1,range:"15",round:"1(3)",num:"8",price:"30/-",err:"100",time:"1920s稀有"},{name:".44(11.2mm)马格南左轮",skill:"射击(手枪)",dam:"1D10+1D4+2",tho:1,range:"15",round:"1(3)",num:"6",price:"-/475",err:"100",time:"现代"},{name:".45(11.43mm)左轮",skill:"射击(手枪)",dam:"1D10+2",tho:1,range:"15",round:"1(3)",num:"6",price:"30/300",err:"100",time:"1920s，现代"},{name:".45(11.43mm)自动手枪",skill:"射击(手枪)",dam:"1D10+2",tho:1,range:"15",round:"1(3)",num:"7",price:"40/375",err:"100",time:"1920s，现代"},{name:"IMI 沙漠之鹰",skill:"射击(手枪)",dam:"1D10+1D6+3",tho:1,range:"15",round:"1(3)",num:"7",price:"-/650",err:"94",time:"现代"},{name:".58 (14.7mm)1855年式春田步枪",skill:"射击(步/霰)",dam:"1D10+4",tho:1,range:"60",round:"1/4",num:"1",price:"25/350",err:"95",time:"稀有"},{name:".22 (5.6mm)栓式枪机步枪",skill:"射击(步/霰)",dam:"1D6+1",tho:1,range:"30",round:"1",num:"6",price:"13/70",err:"99",time:"1920s，现代"},{name:".30 (7.62mm)杠杆式枪机步枪",skill:"射击(步/霰)",dam:"2D6",tho:1,range:"50",round:"1",num:"6",price:"19/150",err:"98",time:"1920s，现代"},{name:".45 (11.43mm)马蒂尼-亨利步枪",skill:"射击(步/霰)",dam:"1D8+1D6+3",tho:1,range:"80",round:"1/3",num:"1",price:"20/200",err:"100",time:"1920s"},{name:"莫兰上校的气动步枪③",skill:"射击(步/霰)",dam:"2D6+1",tho:1,range:"20",round:"1/3",num:"1",price:"200/-",err:"88",time:"1920s"},{name:"加兰德M1、M2步枪",skill:"射击(步/霰)",dam:"2D6+4",tho:1,range:"110",round:"1",num:"8",price:"-/400",err:"100",time:"二战及以后"},{name:"SKS半自动步枪(56半)",skill:"射击(步/霰)",dam:"2D6+1",tho:1,range:"90",round:"1(2)",num:"10",price:"-/500",err:"97",time:"现代"},{name:".303(7.7mm)李-恩菲尔德",skill:"射击(步/霰)",dam:"2D6+4",tho:1,range:"110",round:"1",num:"5",price:"50/300",err:"100",time:"1920s，现代"},{name:".30-06(7.62mm)手动枪机步枪",skill:"射击(步/霰)",dam:"2D6+4",tho:1,range:"110",round:"1",num:"5",price:"75/175",err:"100",time:"1920s，现代"},{name:".30-06(7.62mm)半自动步枪",skill:"射击(步/霰)",dam:"2D6+4",tho:1,range:"110",round:"1",num:"5",price:"-/275",err:"100",time:"现代"},{name:".444(11.28mm)马林步枪",skill:"射击(步/霰)",dam:"2D8+4",tho:1,range:"110",round:"1",num:"5",price:"-/400",err:"98",time:"现代"},{name:"猎象枪(双管)",skill:"射击(步/霰)",dam:"3D6+4",tho:1,range:"100",round:"1或2",num:"2",price:"400/1000",err:"100",time:"1920s，现代"},{name:"AK-47或AKM",skill:"射击(步/霰)",dam:"2D6+1",tho:1,range:"100",round:"1(2)或全自动",num:"30",price:"200",err:"100",time:"现代"},{name:"AK-74",skill:"射击(步/霰)",dam:"2D6+1",tho:1,range:"110",round:"1(2)或全自动",num:"30",price:"1000",err:"97",time:"现代"},{name:"M1918式勃朗宁自动步枪",skill:"射击(机枪)",dam:"2D6+4",tho:1,range:"90",round:"1(2)或全自动",num:"20",price:"800/1500",err:"100",time:"1920s"},{name:"FN FAL 突击步枪",skill:"射击(步/霰)",dam:"2D6+4",tho:1,range:"110",round:"1-3发点射",num:"20",price:"1500",err:"97",time:"现代"},{name:"加利尔突击步枪",skill:"射击(步/霰)",dam:"2D6",tho:1,range:"110",round:"1(2)或全自动",num:"20",price:"2000",err:"98",time:"现代"},{name:"M16A2",skill:"射击(步/霰)",dam:"2D6",tho:1,range:"110",round:"1-3发点射",num:"30",price:"",err:"97",time:"现代"},{name:"M4",skill:"射击(步/霰)",dam:"2D6",tho:1,range:"90",round:"1或3发点射",num:"30",price:"",err:"97",time:"现代"},{name:"斯泰尔AUG",skill:"射击(步/霰)",dam:"2D6",tho:1,range:"110",round:"1(2)或全自动",num:"30",price:"1100",err:"99",time:"现代"},{name:"贝雷塔AR70/90",skill:"射击(步/霰)",dam:"2D6",tho:1,range:"110",round:"1或全自动",num:"30",price:"2800",err:"99",time:"现代"},{name:"20号霰弹枪(双管)",skill:"射击(步/霰)",dam:"2D6/1D6/1D3",tho:0,range:"10/20/50",round:"1或2",num:"2",price:"35/稀",err:"100",time:"1920s"},{name:"16号霰弹枪(双管)",skill:"射击(步/霰)",dam:"2D6+2/1D6+1/1D4",tho:0,range:"10/20/50",round:"1或2",num:"2",price:"40/稀",err:"100",time:"1920s"},{name:"12号霰弹枪(双管)",skill:"射击(步/霰)",dam:"4D6/2D6/1D6",tho:0,range:"10/20/50",round:"1或2",num:"2",price:"40/200",err:"100",time:"1920s，现代"},{name:"12号霰弹枪(手压式)",skill:"射击(步/霰)",dam:"4D6/2D6/1D6",tho:0,range:"10/20/50",round:"1",num:"5",price:"45/100",err:"100",time:"现代"},{name:"12号霰弹枪(半自动)",skill:"射击(步/霰)",dam:"4D6/2D6/1D6",tho:0,range:"10/20/50",round:"1(2)",num:"5",price:"45/100",err:"100",time:"现代"},{name:"12号霰弹枪(双管,锯短)",skill:"射击(步/霰)",dam:"4D6/1D6",tho:0,range:"5/10",round:"1或2",num:"2",price:"",err:"100",time:"1920s"},{name:"10号霰弹枪(双管)",skill:"射击(步/霰)",dam:"4D6+2/2D6+1/1D4",tho:0,range:"10/20/50",round:"1或2",num:"2",price:"稀",err:"100",time:"1920s稀有"},{name:"12号贝里尼M3(折叠式枪托)",skill:"射击(步/霰)",dam:"4D6/2D6/1D6",tho:0,range:"10/20/50",round:"1(2)",num:"7",price:"-/895",err:"100",time:"现代"},{name:"12号SPAS (折叠式枪托)",skill:"射击(步/霰)",dam:"4D6/2D6/1D6",tho:0,range:"10/20/50",round:"1",num:"8",price:"-/600",err:"98",time:"现代"},{name:"MP18I/M现代28II",skill:"射击(冲锋枪)",dam:"1D10",tho:1,range:"20",round:"1(2)或全自动",num:"20/30/32",price:"1000/20000",err:"96",time:"1920s"},{name:"MP5",skill:"射击(冲锋枪)",dam:"1D10",tho:1,range:"20",round:"1(2)或全自动",num:"15/30",price:"",err:"97",time:"现代"},{name:"MAC-11",skill:"射击(冲锋枪)",dam:"1D10",tho:1,range:"15",round:"1(3)或全自动",num:"32",price:"-/750",err:"96",time:"现代"},{name:"蝎式",skill:"射击(冲锋枪)",dam:"1D8",tho:1,range:"15",round:"1(3)或全自动",num:"20",price:"",err:"96",time:"现代"},{name:"汤普森",skill:"射击(冲锋枪)",dam:"1D10+2",tho:1,range:"20",round:"1或全自动",num:"20/30/50",price:"200+/1600",err:"96",time:"1920s"},{name:"乌兹",skill:"射击(冲锋枪)",dam:"1D10",tho:1,range:"20",round:"1(2)或全自动",num:"32",price:"-/1000",err:"98",time:"现代"},{name:"巴雷特M82",skill:"射击(步/霰)",dam:"2D10+1D8+6",tho:1,range:"250",round:"1",num:"11",price:"3000",err:"96",time:"现代"},{name:"PTRD-41反坦克步枪",skill:"射击(步/霰)",dam:"2D10+1D10+8",tho:1,range:"230",round:"1",num:"5",price:"1500",err:"94",time:"现代"},{name:"1882年式加特林",skill:"射击(机枪)",dam:"2D6+4",tho:1,range:"100",round:"全自动",num:"200",price:"2000/14000",err:"96",time:"1920s稀有"},{name:"勃朗宁M1917A1(7.62mm)",skill:"射击(机枪)",dam:"2D6+4",tho:1,range:"150",round:"全自动",num:"250",price:"3000/3万",err:"96",time:"1920s"},{name:"布伦轻机枪",skill:"射击(机枪)",dam:"2D6+4",tho:1,range:"110",round:"1或全自动",num:"30/100",price:"3000/5万",err:"96",time:"1920s"},{name:"路易斯Ⅰ型机枪",skill:"射击(机枪)",dam:"2D6+4",tho:1,range:"110",round:"全自动",num:"27/97",price:"3000/2万",err:"96",time:"1920s"},{name:"GE M134式7.62mm速射机枪",skill:"射击(机枪)",dam:"2D6+4",tho:1,range:"200",round:"全自动",num:"4000",price:"",err:"98",time:"现代"},{name:"FN 米尼米，弹夹/弹带",skill:"射击(机枪)",dam:"2D6",tho:1,range:"110",round:"全自动",num:"30/200",price:"",err:"99",time:"现代"},{name:"维克斯.303机枪",skill:"射击(机枪)",dam:"2D6+4",tho:1,range:"110",round:"全自动",num:"250",price:"",err:"99",time:"1920s"},{name:"莫洛托夫鸡尾酒",skill:"投掷",dam:"2D6 烧",tho:1,range:"STRft",round:"1/2",num:"一次性",price:"",err:"95",time:"1920s，现代"},{name:"信号枪(信号弹枪)",skill:"射击(手枪)",dam:"1D10+1D3 烧",tho:1,range:"10",round:"1/2",num:"1",price:"15/75",err:"100",time:"1920s，现代"},{name:"M79式40mm榴弹发射器",skill:"射击(重武器)",dam:"3D10/2码",tho:1,range:"20",round:"1/3",num:"1",price:"",err:"99",time:"现代"},{name:"炸药棒",skill:"投掷",dam:"4D10/3码",tho:1,range:"STRft",round:"1/2",num:"一次性",price:"2/5",err:"99",time:"1920s，现代"},{name:"雷管",skill:"电气维修",dam:"2D10/1码",tho:1,range:"",round:"",num:"一次性",price:"20/整盒",err:"100",time:"1920s，现代"},{name:"爆破筒",skill:"爆破",dam:"1D10/3码",tho:1,range:"即地",round:"1",num:"一次性",price:"　",err:"95",time:"1920s，现代"},{name:"塑胶炸弹(C-4)，4盎司",skill:"爆破",dam:"6D10/3码",tho:1,range:"即地",round:"1",num:"一次性",price:"",err:"99",time:"现代"},{name:"手榴弹",skill:"投掷",dam:"4D10/3码",tho:1,range:"STRft",round:"1/2",num:"一次性",price:"",err:"99",time:"1920s，现代"},{name:"81mm迫击炮",skill:"炮术",dam:"6D10/6码",tho:1,range:"500",round:"1",num:"独立装弹",price:"",err:"100",time:"现代"},{name:"75mm野战火炮",skill:"炮术",dam:"10D10/2码",tho:1,range:"500",round:"1/4",num:"独立装弹",price:"1500/-",err:"99",time:"1920s，现代"},{name:"120mm坦克主炮",skill:"炮术",dam:"10D10/2码",tho:1,range:"2000",round:"1",num:"独立装弹",price:"",err:"100",time:"现代"},{name:"5英寸(127mm)舰炮",skill:"炮术",dam:"15D10/4码",tho:1,range:"3000",round:"1",num:"自动上弹",price:"",err:"98",time:"1920s，现代"},{name:"反步兵地雷",skill:"爆破",dam:"4D10/5码",tho:1,range:"即地",round:"1",num:"一次性",price:"",err:"99",time:"现代"},{name:"阔剑地雷",skill:"爆破",dam:"6D6/20码",tho:1,range:"即地",round:"1",num:"一次性",price:"",err:"99",time:"现代"},{name:"火焰喷射器",skill:"射击(喷射器)",dam:"2D6+烧",tho:1,range:"25",round:"1",num:"至少10",price:"",err:"93",time:"1920s，现代"},{name:"M72式单发轻型反坦克炮",skill:"射击(重武器)",dam:"8D10/1码",tho:1,range:"150",round:"1",num:"1",price:"",err:"98",time:"现代"}],La={cg:["徒手格斗","弓箭","黄铜指虎","长鞭","燃烧的火把","链锯","包革金属棒(大头棍、护身棒)","大棒(棒球棒、拨火棍)","小型棍棒(警棍)","弩","绞索","手斧/手镰","大型刀(甘蔗刀等)","中型刀(切肉餐刀等)","小型刀(弹簧折叠刀等)","220V通电导线","催泪喷雾","双节棍","投石","手里剑","矛、骑士长枪","投矛","大型剑(马刀)","中型剑(佩剑、重剑)","轻型剑(花剑、剑杖)","电棍","电击枪","战斗回力镖","伐木斧"],sq:["燧发手枪",".22(5.6mm)小型自动手枪",".25(6.35mm)短口手枪(单管)",".32(7.65mm)左轮",".32(7.65mm)自动手枪",".357马格南左轮",".38(9mm)左轮",".38(9mm)自动手枪","贝瑞塔M9","9mm格洛克17","9mm鲁格P08",".41(10.4mm)左轮",".44(11.2mm)马格南左轮",".45(11.43mm)左轮",".45(11.43mm)自动手枪","IMI 沙漠之鹰"],bbq:[".58 (14.7mm)1855年式春田步枪",".22 (5.6mm)栓式枪机步枪",".30 (7.62mm)杠杆式枪机步枪",".45 (11.43mm)马蒂尼-亨利步枪","莫兰上校的气动步枪③","加兰德M1、M2步枪","SKS半自动步枪(56半)",".303(7.7mm)李-恩菲尔德",".30-06(7.62mm)手动枪机步枪",".30-06(7.62mm)半自动步枪",".444(11.28mm)马林步枪","猎象枪(双管)"],tsq:["AK-47或AKM","AK-74","FN FAL 突击步枪","加利尔突击步枪","M16A2","M4","斯泰尔AUG","贝雷塔AR70/90"],xdq:["20号霰弹枪(双管)","16号霰弹枪(双管)","12号霰弹枪(双管)","12号霰弹枪(手压式)","12号霰弹枪(半自动)","12号霰弹枪(双管,锯短)","10号霰弹枪(双管)","12号贝里尼M3(折叠式枪托)","12号SPAS (折叠式枪托)"],cfq:["MP18I/M现代28II","MP5","MAC-11","蝎式","汤普森","乌兹"],jjbq:["巴雷特M82","PTRD-41反坦克步枪"],jq:["1882年式加特林","M1918式勃朗宁自动步枪","勃朗宁M1917A1(7.62mm)","布伦轻机枪","路易斯Ⅰ型机枪","GE M134式7.62mm速射机枪","FN 米尼米，弹夹/弹带","维克斯.303机枪"],qt:["莫洛托夫鸡尾酒","信号枪(信号弹枪)","M79式40mm榴弹发射器","炸药棒","雷管","爆破筒","塑胶炸弹(C-4)，4盎司","手榴弹","81mm迫击炮","75mm野战火炮","120mm坦克主炮","5英寸(127mm)舰炮","反步兵地雷","阔剑地雷","火焰喷射器","M72式单发轻型反坦克炮"]},Wa=[["cg","常规"],["sq","手枪"],["bbq","半自动步枪"],["tsq","全自动步枪"],["xdq","霰弹枪"],["cfq","冲锋枪"],["jjbq","狙击步枪"],["jq","机枪"],["qt","其它"]];function Mn(t){return{name:"",skill:"",dam:"",tho:0,range:"",round:"",num:"",err:"",...t}}function Xr(t){return{name:"",playerName:"",time:"",job:"",age:"",gender:"",location:"",hometown:"",attributes:{},battleAttributes:{},pointValues:{pro:"",interest:""},proSkills:[],skillPoints:[],weapons:[Mn(cr[0])],stories:{app:"",belief:"",IPerson:"",IPlace:"",IItem:"",trait:"",scar:"",mad:"",desc:""},assets:{cash:"",consumption:"",assets:"",items:"",magicItems:"",magics:"",touches:""},experiencedModules:"",friends:"",...t}}function Rs(t){Ze(()=>t.value.attributes,()=>{let e="",r="";const{con:n,siz:a,pow:o}=t.value.attributes||{};n&&a&&(e=`${Math.floor((n+a)/10)}`),o&&(r=`${o/5}`),t.value.deriveAttributes={sanity:{start:`${o||""}`},hp:{start:e},mp:{start:r}}},{deep:!0})}const Fs=[{name:"会计师",point:[[["edu",4]]],wealth:[30,70],skills:["会计","法律","图书馆使用","聆听","说服","侦查"]},{name:"杂技演员",point:[[["edu",2]],[["dex",2]]],wealth:[9,20],skills:["攀爬","闪避","投掷","跳跃","侦查","游泳"]},{name:"戏剧演员",point:[[["edu",2]],[["app",2]]],wealth:[9,40],skills:[{技艺:""},"乔装",{格斗:""},"历史","心理学",["取悦","话术","恐吓","说服"],["取悦","话术","恐吓","说服"]]},{name:"电影演员",point:[[["edu",2]],[["app",2]]],wealth:[20,90],skills:[{技艺:""},"乔装","汽车驾驶","心理学",["取悦","话术","恐吓","说服"],["取悦","话术","恐吓","说服"]]},{name:"中介调查员",point:[[["edu",2]],[["str",2],["dex",2]]],wealth:[20,45],skills:[{格斗:"斗殴"},{射击:""},"法律","图书馆使用","心理学","潜行","追踪",["取悦","话术","恐吓","说服"]]},{name:"精神病医生(古典)",point:[[["edu",4]]],wealth:[10,60],skills:["法律","聆听","医学",{外语:""},"精神分析","心理学",{科学:"生物学"},{科学:"化学"}]},{name:"动物训练师",point:[[["edu",2]],[["app",2],["pow",2]]],wealth:[10,40],skills:["跳跃","聆听","博物学","心理学",{科学:"动物学"},"潜行","追踪"]},{name:"文物学家(原作向)",point:[[["edu",4]]],wealth:[30,70],skills:["估价",{技艺:""},"历史","图书馆使用",{外语:""},"侦查",["取悦","话术","恐吓","说服"]]},{name:"古董商",point:[[["edu",4]]],wealth:[30,50],skills:["会计","估价","汽车驾驶","历史","图书馆使用","导航",["取悦","话术","恐吓","说服"],["取悦","话术","恐吓","说服"]]},{name:"考古学家(原作向)",point:[[["edu",4]]],wealth:[10,40],skills:["估价","考古学","历史",{外语:""},"图书馆使用","侦查","机械维修",["导航",{科学:""}]]},{name:"建筑师",point:[[["edu",4]]],wealth:[30,70],skills:["会计",{技艺:""},"法律",{母语:""},"说服","心理学",{科学:"数学"},["计算机使用Ω","图书馆使用"]]},{name:"艺术家",point:[[["edu",2]],[["dex",2],["pow",2]]],wealth:[9,50],skills:[{技艺:""},{外语:""},"心理学","侦查",["历史","博物学"],["取悦","话术","恐吓","说服"]]},{name:"精神病院护工",point:[[["edu",2]],[["str",2],["dex",2]]],wealth:[8,20],skills:["闪避",{格斗:"斗殴"},"急救","聆听","心理学","潜行",["取悦","话术","恐吓","说服"],["取悦","话术","恐吓","说服"]]},{name:"运动员",point:[[["edu",2]],[["str",2],["dex",2]]],wealth:[9,70],skills:["攀爬","跳跃",{格斗:"斗殴"},"骑术","游泳","投掷",["取悦","话术","恐吓","说服"]]},{name:"作家(原作向)",point:[[["edu",4]]],wealth:[9,30],skills:[{技艺:"文学"},"历史",{外语:""},{母语:""},"心理学","图书馆使用",["博物学","神秘学"]]},{name:"酒保",point:[[["edu",2]],[["app",2]]],wealth:[8,25],skills:["会计",{格斗:"斗殴"},"聆听","心理学","侦查",["取悦","话术","恐吓","说服"],["取悦","话术","恐吓","说服"]]},{name:"猎人",point:[[["edu",2]],[["str",2],["dex",2]]],wealth:[20,50],skills:[{射击:""},"博物学","导航",{科学:"动物学"},"潜行","追踪",["聆听","侦查"],[{外语:""},{生存:""}]]},{name:"书商",point:[[["edu",4]]],wealth:[20,40],skills:["会计","估价","汽车驾驶","历史","图书馆使用",{母语:""},{外语:""},["取悦","话术","恐吓","说服"]]},{name:"赏金猎人",point:[[["edu",2]],[["str",2],["dex",2]]],wealth:[9,30],skills:["汽车驾驶","法律","心理学","追踪","潜行",["电气维修","电子学Ω"],[{格斗:""},{射击:""}],["取悦","话术","恐吓","说服"]]},{name:"拳击手、摔跤手",point:[[["edu",2]],[["str",2]]],wealth:[9,60],skills:["闪避",{格斗:"斗殴"},"恐吓","跳跃","心理学","侦查"]},{name:"管家、佣人",point:[[["edu",4]]],wealth:[9,40],skills:[{"技艺(生活类，如烹饪、裁缝、理发)":""},"急救","聆听",{外语:""},"心理学","侦查",["会计","估价"]]},{name:"神职人员",point:[[["edu",4]]],wealth:[9,60],skills:["会计","历史","图书馆使用","聆听",{外语:""},"心理学",["取悦","话术","恐吓","说服"]]},{name:"程序员",point:[[["edu",4]]],wealth:[10,70],skills:["计算机使用Ω","电气维修","电子学Ω","图书馆使用",{科学:""},"侦查"]},{name:"黑客",point:[[["edu",4]]],wealth:[10,70],skills:["计算机使用Ω","电气维修","电子学Ω","图书馆使用","侦查",["取悦","话术","恐吓","说服"]]},{name:"牛仔",point:[[["edu",2]],[["str",2],["dex",2]]],wealth:[9,20],skills:["闪避","跳跃","骑术",{生存:""},"投掷","追踪",[{格斗:""},{射击:""}],["急救","博物学"]]},{name:"工匠",point:[[["edu",2]],[["dex",2]]],wealth:[10,40],skills:["会计",{技艺:""},{技艺:""},"机械维修","博物学","侦查"]},{name:"刺客",point:[[["edu",2]],[["str",2],["dex",2]]],wealth:[30,60],skills:["乔装","电气维修",{格斗:""},{射击:""},"锁匠","机械维修","潜行","心理学"]},{name:"银行劫匪",point:[[["edu",2]],[["str",2],["dex",2]]],wealth:[5,75],skills:["汽车驾驶",{格斗:""},{射击:""},"恐吓","锁匠","操作重型机械",["电气维修","机械维修"]]},{name:"打手、暴徒",point:[[["edu",2]],[["str",2]]],wealth:[5,30],skills:["汽车驾驶",{格斗:""},{射击:""},"心理学","潜行","侦查",["取悦","话术","恐吓","说服"],["取悦","话术","恐吓","说服"]]},{name:"窃贼",point:[[["edu",2]],[["dex",2]]],wealth:[5,40],skills:["估价","攀爬","聆听","锁匠","妙手","潜行","侦查",["电气维修","机械维修"]]},{name:"欺诈师",point:[[["edu",2]],[["app",2]]],wealth:[10,65],skills:["估价",{技艺:"表演"},"聆听","心理学","妙手",["取悦","话术","恐吓","说服"],["取悦","话术","恐吓","说服"],["法律",{外语:""}]]},{name:"独行罪犯",point:[[["edu",2]],[["dex",2],["app",2]]],wealth:[5,65],skills:["估价","潜行","心理学","侦查",[{技艺:"表演"},"乔装"],[{格斗:""},{射击:""}],["锁匠","机械维修"],["取悦","话术","恐吓","说服"]]},{name:"女飞贼(古典)",point:[[["edu",2]],[["app",2]]],wealth:[10,80],skills:[{技艺:""},"汽车驾驶","聆听","潜行",["取悦","话术","恐吓","说服"],["取悦","话术","恐吓","说服"],[{格斗:"斗殴"},{射击:""}]]},{name:"赃物贩子",point:[[["edu",2]],[["app",2]]],wealth:[20,40],skills:["会计","估价",{技艺:"伪造"},"历史","图书馆使用","侦查",["取悦","话术","恐吓","说服"]]},{name:"赝造者",point:[[["edu",4]]],wealth:[20,60],skills:["会计","估价",{技艺:"伪造"},"历史","图书馆使用","侦查","妙手"]},{name:"走私者",point:[[["edu",2]],[["dex",2],["app",2]]],wealth:[20,60],skills:[{射击:""},"聆听","导航","心理学","妙手","侦查",["汽车驾驶",{驾驶:"飞行器"},{驾驶:"船"}],["取悦","话术","恐吓","说服"]]},{name:"混混",point:[[["edu",2]],[["str",2],["dex",2]]],wealth:[3,10],skills:["攀爬",{格斗:""},{射击:""},"跳跃","妙手","潜行","投掷",["取悦","话术","恐吓","说服"]]},{name:"教团首领",point:[[["edu",4]]],wealth:[30,60],skills:["会计","神秘学","心理学","侦查",["取悦","话术","恐吓","说服"],["取悦","话术","恐吓","说服"]]},{name:"除魅师(现代)",point:[[["edu",4]]],wealth:[20,50],skills:["汽车驾驶","历史","神秘学","心理学","潜行",["取悦","话术","恐吓","说服"],["取悦","话术","恐吓","说服"],[{格斗:"斗殴"},{射击:""}]]},{name:"设计师",point:[[["edu",4]]],wealth:[20,60],skills:["会计",{技艺:"摄影"},{技艺:""},"机械维修","心理学","侦查",["计算机使用Ω","图书馆使用"]]},{name:"业余艺术爱好者(原作向)",point:[[["edu",2]],[["app",2]]],wealth:[50,99],skills:[{技艺:""},{射击:""},{外语:""},"骑术",["取悦","话术","恐吓","说服"]]},{name:"潜水员",point:[[["edu",2]],[["dex",2]]],wealth:[9,30],skills:["潜水","急救","机械维修",{驾驶:"船"},{科学:"生物学"},"侦查","游泳"]},{name:"医生(原作向)",point:[[["edu",4]]],wealth:[30,80],skills:["急救","医学",{外语:"拉丁语"},"心理学",{科学:"生物学"},{科学:"制药"}]},{name:"流浪者",point:[[["edu",2]],[["dex",2],["app",2],["str",2]]],wealth:[0,5],skills:["攀爬","跳跃","聆听","导航","潜行",["取悦","话术","恐吓","说服"]]},{name:"私人司机",point:[[["edu",2]],[["dex",2]]],wealth:[10,40],skills:["汽车驾驶","聆听","机械维修","导航","侦查",["取悦","话术","恐吓","说服"],["取悦","话术","恐吓","说服"]]},{name:"司机",point:[[["edu",2]],[["str",2],["dex",2]]],wealth:[9,20],skills:["会计","汽车驾驶","聆听","机械维修","导航","心理学",["取悦","话术","恐吓","说服"]]},{name:"出租车司机",point:[[["edu",2]],[["dex",2]]],wealth:[9,30],skills:["会计","汽车驾驶","电气维修","话术","机械维修","导航","侦查"]},{name:"编辑",point:[[["edu",4]]],wealth:[10,30],skills:["会计","历史",{母语:""},"心理学","侦查",["取悦","话术","恐吓","说服"],["取悦","话术","恐吓","说服"]]},{name:"政府官员",point:[[["edu",2]],[["app",2]]],wealth:[50,90],skills:["取悦","历史","恐吓","话术","聆听",{母语:""},"说服","心理学"]},{name:"工程师",point:[[["edu",4]]],wealth:[30,60],skills:[{技艺:"技术制图"},"电气维修","图书馆使用","机械维修","操作重型机械",{科学:"工程学"},{科学:"物理"}]},{name:"艺人",point:[[["edu",2]],[["app",2]]],wealth:[9,70],skills:[{"技艺(表演类，如表演、演唱、喜剧等)":""},"乔装","聆听","心理学",["取悦","话术","恐吓","说服"],["取悦","话术","恐吓","说服"]]},{name:"探险家(古典)",point:[[["edu",2]],[["dex",2],["app",2],["str",2]]],wealth:[55,80],skills:[{射击:""},"历史","跳跃","博物学","导航",{外语:""},{生存:""},["攀爬","游泳"]]},{name:"农民",point:[[["edu",2]],[["str",2],["dex",2]]],wealth:[9,30],skills:[{技艺:"耕作"},["汽车驾驶",{驾驶:"马车"}],"机械维修","博物学","操作重型机械","追踪",["取悦","话术","恐吓","说服"]]},{name:"司法人员",point:[[["edu",4]]],wealth:[20,40],skills:["汽车驾驶",{格斗:"斗殴"},{射击:""},"法律","说服","潜行","侦查"]},{name:"消防员",point:[[["edu",2]],[["str",2],["dex",2]]],wealth:[9,30],skills:["攀爬","闪避","汽车驾驶","急救","跳跃","机械维修","操作重型机械","投掷"]},{name:"驻外记者",point:[[["edu",4]]],wealth:[10,40],skills:["历史",{外语:""},{母语:""},"聆听","心理学",["取悦","话术","恐吓","说服"],["取悦","话术","恐吓","说服"]]},{name:"法医",point:[[["edu",4]]],wealth:[40,60],skills:[{外语:""},"图书馆使用","医学","说服",{科学:"生物学"},{科学:"鉴证"},{科学:"制药"},"侦查"]},{name:"赌徒",point:[[["edu",2]],[["dex",2],["app",2]]],wealth:[8,50],skills:["会计",{技艺:"表演"},"聆听","心理学","妙手","侦查",["取悦","话术","恐吓","说服"],["取悦","话术","恐吓","说服"]]},{name:"黑帮老大",point:[[["edu",2]],[["app",2]]],wealth:[60,95],skills:[{格斗:""},{射击:""},"法律","聆听","心理学","侦查",["取悦","话术","恐吓","说服"],["取悦","话术","恐吓","说服"]]},{name:"黑帮马仔",point:[[["edu",2]],[["str",2],["dex",2]]],wealth:[9,20],skills:["汽车驾驶",{格斗:""},{射击:""},"心理学",["取悦","话术","恐吓","说服"],["取悦","话术","恐吓","说服"]]},{name:"绅士/淑女",point:[[["edu",2]],[["app",2]]],wealth:[40,90],skills:[{技艺:""},{射击:"步/霰"},"历史",{外语:""},"导航","骑术",["取悦","话术","恐吓","说服"],["取悦","话术","恐吓","说服"]]},{name:"游民",point:[[["edu",2]],[["dex",2],["app",2]]],wealth:[0,5],skills:[{技艺:""},"攀爬","跳跃","聆听","导航","潜行",["锁匠","妙手"]]},{name:"勤杂护工",point:[[["edu",2]],[["str",2]]],wealth:[6,15],skills:["电气维修",{格斗:"斗殴"},"急救","聆听","机械维修","心理学","潜行",["取悦","话术","恐吓","说服"]]},{name:"调查记者(原作向)",point:[[["edu",4]]],wealth:[9,30],skills:[[{技艺:"艺术"},{技艺:"摄影"}],"历史","图书馆使用",{母语:""},"心理学",["取悦","话术","恐吓","说服"]]},{name:"通讯记者(原作向)",point:[[["edu",4]]],wealth:[9,30],skills:[{技艺:"表演"},"历史","聆听",{母语:""},"心理学","潜行","侦查",["取悦","话术","恐吓","说服"]]},{name:"法官",point:[[["edu",4]]],wealth:[50,80],skills:["历史","恐吓","法律","图书馆使用","聆听",{母语:""},"说服","心理学"]},{name:"实验室助理",point:[[["edu",4]]],wealth:[10,30],skills:["电气维修",{外语:""},{科学:"化学"},{科学:""},{科学:""},"侦查",["计算机使用Ω","图书馆使用"]]},{name:"伐木工",point:[[["edu",2]],[["str",2],["dex",2]]],wealth:[9,30],skills:["攀爬","闪避",{格斗:"链锯"},"急救","跳跃","机械维修","投掷",["博物学",{科学:"生物学"},{科学:"植物学"}]]},{name:"矿工",point:[[["edu",2]],[["str",2],["dex",2]]],wealth:[9,30],skills:["攀爬",{科学:"地质学"},"跳跃","机械维修","操作重型机械","潜行","侦查"]},{name:"律师",point:[[["edu",4]]],wealth:[30,80],skills:["会计","法律","图书馆使用","心理学",["取悦","话术","恐吓","说服"],["取悦","话术","恐吓","说服"]]},{name:"图书馆管理员(原作向)",point:[[["edu",4]]],wealth:[9,35],skills:["会计","图书馆使用",{外语:""},{母语:""}]},{name:"技工",point:[[["edu",4]]],wealth:[9,40],skills:[{"技艺(木工、焊接、管道工等)":""},"攀爬","汽车驾驶","电气维修","机械维修","操作重型机械"]},{name:"军官",point:[[["edu",2]],[["str",2],["dex",2]]],wealth:[20,70],skills:["会计",{射击:""},"导航","急救","心理学",["取悦","话术","恐吓","说服"],["取悦","话术","恐吓","说服"]]},{name:"传教士",point:[[["edu",2]],[["app",2]]],wealth:[0,30],skills:[{技艺:""},"急救","机械维修","医学","博物学",["取悦","话术","恐吓","说服"]]},{name:"登山家",point:[[["edu",2]],[["str",2],["dex",2]]],wealth:[30,60],skills:["攀爬","急救","跳跃","聆听","导航",{外语:""},{生存:"高山/冰山"},"追踪"]},{name:"博物馆管理员",point:[[["edu",4]]],wealth:[10,30],skills:["会计","估价","考古学","历史","图书馆使用","神秘学",{外语:""},"侦查"]},{name:"音乐家",point:[[["edu",2]],[["dex",2],["pow",2]]],wealth:[9,30],skills:[{技艺:"音乐"},"聆听","心理学",["取悦","话术","恐吓","说服"]]},{name:"护士",point:[[["edu",4]]],wealth:[9,30],skills:["急救","聆听","医学","心理学",{科学:"生物学"},{科学:"化学"},"侦查",["取悦","话术","恐吓","说服"]]},{name:"神秘学家",point:[[["edu",4]]],wealth:[9,65],skills:["人类学","历史","图书馆使用","神秘学",{外语:""},{科学:"天文学"},["取悦","话术","恐吓","说服"]]},{name:"旅行家",point:[[["edu",2]],[["str",2],["dex",2]]],wealth:[5,20],skills:[{射击:""},"急救","聆听","博物学","导航","侦查",{生存:""},"追踪"]},{name:"药剂师",point:[[["edu",4]]],wealth:[35,75],skills:["会计","急救",{外语:"拉丁语"},"图书馆使用","心理学",{科学:"化学"},{科学:"制药"},["取悦","话术","恐吓","说服"]]},{name:"摄影师",point:[[["edu",4]]],wealth:[9,30],skills:[{技艺:"摄影"},"心理学",{科学:"化学"},"潜行","侦查",["取悦","话术","恐吓","说服"]]},{name:"摄影记者",point:[[["edu",4]]],wealth:[10,30],skills:[{技艺:"摄影"},"攀爬",{外语:""},"心理学",{科学:"化学"},["取悦","话术","恐吓","说服"]]},{name:"飞行员",point:[[["edu",2]],[["dex",2]]],wealth:[20,70],skills:["电气维修","机械维修","导航","操作重型机械",{驾驶:"飞行器"},{科学:"天文学"}]},{name:"特技飞行员(古典)",point:[[["edu",4]]],wealth:[30,60],skills:["会计","电气维修","聆听","机械维修","导航",{驾驶:"飞行器"},"侦查"]},{name:"警探(原作向)",point:[[["edu",2]],[["str",2],["dex",2]]],wealth:[20,50],skills:[{射击:""},"法律","聆听","心理学","侦查",[{技艺:"表演"},"乔装"],["取悦","话术","恐吓","说服"]]},{name:"巡警(原作向)",point:[[["edu",2]],[["str",2],["dex",2]]],wealth:[9,30],skills:[{格斗:"斗殴"},{射击:""},"急救","法律","心理学","侦查",["汽车驾驶","骑术"],["取悦","话术","恐吓","说服"]]},{name:"私家侦探",point:[[["edu",2]],[["str",2],["dex",2]]],wealth:[9,30],skills:[{技艺:"摄影"},"乔装","法律","图书馆使用","心理学","侦查",["取悦","话术","恐吓","说服"],[{格斗:""},{射击:""},"锁匠","计算机使用Ω"]]},{name:"教授(原作向)",point:[[["edu",4]]],wealth:[20,70],skills:["图书馆使用",{外语:""},{母语:""},"心理学"]},{name:"淘金客",point:[[["edu",2]],[["str",2],["dex",2]]],wealth:[0,10],skills:["攀爬","急救","历史","机械维修","导航",{科学:"地质学"},"侦查"]},{name:"性工作者",point:[[["edu",2]],[["app",2]]],wealth:[5,50],skills:[{技艺:""},"闪避","心理学","妙手","潜行",["取悦","话术","恐吓","说服"],["取悦","话术","恐吓","说服"]]},{name:"精神病学家",point:[[["edu",4]]],wealth:[30,80],skills:[{外语:""},"聆听","医学","说服","精神分析","心理学",{科学:"生物学"},{科学:"化学"}]},{name:"心理学家",point:[[["edu",4]]],wealth:[10,40],skills:["会计","图书馆使用","聆听","说服","精神分析","心理学"]},{name:"研究员",point:[[["edu",4]]],wealth:[9,30],skills:["历史","图书馆使用",{外语:""},"侦查",{科学:""},{科学:""},{科学:""},["取悦","话术","恐吓","说服"]]},{name:"海军",point:[[["edu",4]]],wealth:[9,30],skills:[{格斗:""},{射击:""},"急救","导航",{驾驶:"船"},{生存:"海上"},"游泳",["电气维修","机械维修"]]},{name:"渔民",point:[[["edu",4]]],wealth:[20,40],skills:["急救","机械维修","博物学","导航",{驾驶:"船"},"侦查","游泳",["取悦","话术","恐吓","说服"]]},{name:"推销员",point:[[["edu",2]],[["app",2]]],wealth:[9,40],skills:["会计","汽车驾驶","聆听","心理学",["取悦","话术","恐吓","说服"],["取悦","话术","恐吓","说服"],["潜行","妙手"]]},{name:"科学家",point:[[["edu",4]]],wealth:[9,50],skills:[{科学:""},{科学:""},{科学:""},{外语:""},{母语:""},"侦查",["计算机使用Ω","图书馆使用"],["取悦","话术","恐吓","说服"]]},{name:"秘书",point:[[["edu",2]],[["dex",2],["app",2]]],wealth:[9,30],skills:["会计",[{技艺:"打字"},{技艺:"速记"}],{母语:""},"心理学",["取悦","话术","恐吓","说服"],["取悦","话术","恐吓","说服"],["计算机使用Ω","图书馆使用"]]},{name:"店老板",point:[[["edu",2]],[["dex",2],["app",2]]],wealth:[20,40],skills:["会计","电气维修","聆听","机械维修","心理学","侦查",["取悦","话术","恐吓","说服"],["取悦","话术","恐吓","说服"]]},{name:"士兵",point:[[["edu",2]],[["str",2],["dex",2]]],wealth:[9,30],skills:["闪避",{格斗:""},{射击:""},"潜行",{生存:""},"急救",["攀爬","游泳"],["机械维修",{外语:""}]]},{name:"间谍",point:[[["edu",2]],[["dex",2],["app",2]]],wealth:[20,60],skills:[{射击:""},"聆听",{外语:""},"心理学","妙手","潜行",[{技艺:"表演"},"乔装"],["取悦","话术","恐吓","说服"]]},{name:"学生/实习生",point:[[["edu",4]]],wealth:[5,10],skills:["图书馆使用","聆听",[{母语:""},{外语:""}]]},{name:"替身演员",point:[[["edu",2]],[["str",2],["dex",2]]],wealth:[10,50],skills:["攀爬","闪避",{格斗:""},"急救","跳跃","游泳",["电气维修","机械维修"],["潜水","汽车驾驶",{驾驶:""},"骑术"]]},{name:"部落成员",point:[[["edu",2]],[["str",2],["dex",2]]],wealth:[0,15],skills:["攀爬","聆听","博物学","神秘学","侦查","游泳",{生存:""},[{格斗:""},"投掷"]]},{name:"殡葬师",point:[[["edu",4]]],wealth:[20,40],skills:["会计","汽车驾驶","历史","神秘学","心理学",{科学:"生物学"},{科学:"化学"},["取悦","话术","恐吓","说服"]]},{name:"工会活动家",point:[[["edu",4]]],wealth:[5,50],skills:["会计",{格斗:"斗殴"},"法律","聆听","操作重型机械","心理学",["取悦","话术","恐吓","说服"],["取悦","话术","恐吓","说服"]]},{name:"服务生",point:[[["edu",2]],[["dex",2],["app",2]]],wealth:[9,20],skills:["会计",{技艺:""},"闪避","聆听","心理学",["取悦","话术","恐吓","说服"],["取悦","话术","恐吓","说服"]]},{name:"职员/主管",point:[[["edu",4]]],wealth:[9,20],skills:["会计","法律","聆听",[{母语:""},{外语:""}],["图书馆使用","计算机使用Ω"],["取悦","话术","恐吓","说服"]]},{name:"中高层管理人员",point:[[["edu",4]]],wealth:[20,80],skills:["会计",{外语:""},"法律","心理学",["取悦","话术","恐吓","说服"],["取悦","话术","恐吓","说服"]]},{name:"狂热者",point:[[["edu",2]],[["pow",2],["app",2]]],wealth:[0,30],skills:["历史","心理学","潜行",["取悦","话术","恐吓","说服"],["取悦","话术","恐吓","说服"]]},{name:"饲养员",point:[[["edu",4]]],wealth:[9,40],skills:["驯兽","会计","闪避","急救","博物学","医学",{科学:"制药"},{科学:"动物学"}]}],Us=[[["文艺工作","wenyigongzuo"],[["作家(原作向)","zuojia"],["编辑","bianji"],["设计师","shejishi"],["音乐家","yinyuejia"],["电影演员","dianyingyanyuan"],["戏剧演员","xijuyanyuan"],["替身演员","tishenyanyuan"],["杂技演员","zajiyanyuan"],["摄影师","sheyingshi"],["摄影记者","sheyingjizhe"],["艺人","yiren"],["业余艺术爱好者(原作向)","yeyuyishuaihaozhe"]]],[["工农商","gongnongshang"],[["工程师","gongchengshi"],["建筑师","jianzhushi"],["伐木工","famugong"],["工匠","gongjiang"],["技工","jigong"],["矿工","kuanggong"],["农民","nongmin"],["渔民","yumin"],["猎人","lieren"],["牛仔","niuzai"],["书商","shushang"],["古董商","gudongshang"],["店老板","dianlaoban"]]],[["职工","zhigong"],[["会计师","kuaijishi"],["中介调查员","zhongjiediaochayuan"],["职员/主管","zhiyuanzhuguan"],["中高层管理人员","zhonggaocengguanlirenyuan"],["秘书","mishu"],["推销员","tuixiaoyuan"],["图书馆管理员(原作向)","tushuguanguanliyuanyuanzuoxiang"],["博物馆管理员","bowuguanguanliyuan"],["律师","lvshi"],["程序员","chengxuyuan"],["司机","siji"],["私人司机","sirensiji"],["出租车司机","chuzuchesiji"]]],[["学者","xuezhe"],[["文物学家(原作向)","wenwuxuejiayuanzuoxiang"],["考古学家(原作向)","kaoguxuejiayuanzuoxiang"],["教授(原作向)","jiaoshouyuanzuoxiang"],["科学家","kexuejia"],["研究员","yanjiuyuan"],["实验室助理","shiyanshizhuli"],["学生/实习生","xueshengshixisheng"],["艺术家","yishujia"]]],[["医疗系统","yiliaoxitong"],[["医生(原作向)","yishengyuanzuoxiang"],["护士","hushi"],["法医","fayi"],["心理学家","xinlixuejia"],["精神病学家","jingshenbingxuejia"],["精神病医生(古典)","jingshenbingyishenggudian"],["精神病院护工","jingshenbingyuanhugong"],["药剂师","yaojishi"]]],[["运动/探险","yundongtanxian"],[["运动员","yundongyuan"],["拳击手、摔跤手","shuaijiaoshouquanjishou"],["潜水员","qianshuiyuan"],["调查记者(原作向)","diaochajizheyuanzuoxiang"],["通讯记者(原作向)","tongxunjizheyuanzuoxiang"],["驻外记者","zhuwaijizhe"],["登山家","dengshanjia"],["旅行家","lvxingjia"],["探险家(古典)","tanxianjiagudian"],["飞行员","feixingyuan"],["特技飞行员(古典)","tejifeixingyuangudian"]]],[["服务业","fuwuye"],[["酒保","jiubao"],["服务生","fuwusheng"],["管家、佣人","guanjiayongren"],["勤杂护工","qinzahugong"],["殡葬师","binzangshi"],["饲养员","siyangyuan"],["动物训练师","dongwuxunlianshi"]]],[["宗教相关","zongjiaoxiangguan"],[["神秘学家","shenmixuejia"],["神职人员","shenzhirenyuan"],["教团首领","jiaotuanshouling"],["传教士","chuanjiaoshi"],["除魅师(现代)","chumeishixiandai"],["狂热者","kuangrezhe"],["部落成员","buluochengyuan"]]],[["灰色/无职","huisewuzhi"],[["私家侦探","sijiazhentan"],["黑客","heike"],["黑帮老大","heibanglaoda"],["黑帮马仔","heibangmazai"],["性工作者","xinggongzuozhe"],["赏金猎人","shangjinlieren"],["赌徒","dutu"],["游民","youmin"],["流浪者","liulangzhe"],["淘金客","taojinke"],["绅士/淑女","shenshishunv"]]],[["罪犯","zuifan"],[["刺客","cike"],["银行劫匪","yinhangjiefei"],["打手、暴徒","dashoubaotu"],["窃贼","qiezei"],["欺诈师","qizhashi"],["独行罪犯","duxingzuifan"],["女飞贼(古典)","nvfeizeigudian"],["赃物贩子","zangwufanzi"],["赝造者","yanzaozhe"],["走私者","zousizhe"],["混混","hunhun"]]],[["军警政","junjingzheng"],[["军官","junguan"],["海军","haijun"],["间谍","jiandie"],["士兵","shibing"],["警探(原作向)","jingtanyuanzuoxiang"],["巡警(原作向)","xunjingyuanzuoxiang"],["消防员","xiaofangyuan"],["法官","faguan"],["司法人员","sifarenyuan"],["政府官员","zhengfuguanyuan"],["工会活动家","gonghuihuodongjia"]]]],Ln={1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"},Vs={str:"力量",dex:"敏捷",con:"体质",app:"外貌",pow:"意志",siz:"体型",edu:"教育",int:"智力"};function Os(t,e){const r=new Map;t.forEach(a=>{r.set(a.name,a)});const n=e.map(a=>{const[o,i]=a[0],l=a[1].map(([s,u])=>({name:s,pinyin:u}));return{name:o,pinyin:i,jobs:l}});return{jobs:r,jobGroups:n}}const Rt=Os(Fs,Us);function Ga(t,e){const r={text:"",point:0},n=Rt.jobs.get(t||"");if(!n)return r;const a=[];return n.point.forEach(o=>{const i=[],l=[];o.forEach(([u,c])=>{i.push(`${Vs[u]}×${c}`),e&&l.push((e[u]||0)*c)});let s=i.join(" 或 ");i.length>1&&(s=`(${s})`),a.push(s),r.point+=Math.max(...l)}),r.text=a.join(" + "),r}function Bs(t){return{wealth:[-1,-1],text:"",multiSkills:[],multiSkillTexts:[],...t}}function za(t){const{jobs:e}=Rt,r=Bs(),n=e.get(t),a=new Map;if(!n)return r;r.wealth=[...n.wealth],n.skills.forEach(i=>{if(typeof i=="string")a.set(i,0);else if(Array.isArray(i))r.multiSkills.push(i.map(l=>{if(typeof l=="string")return l;const[s,u]=Object.entries(l)[0];return{name:s,childName:u}}));else{const[l,s]=Object.entries(i)[0];let u=l;const c=l.includes("(");c&&(u=u.split("(")[0]);let m=u;s&&(m=`${u}(${s})`),c&&(m=l),a.set(m,c||s?0:(a.get(m)||0)+1)}});const o=8-n.skills.length;return r.text=[...a.entries(),...o?[["其他个人或时代特长",o]]:[]].map(([i,l])=>`${i}${l?`(任${Ln[`${l}`]})`:""}`).join("、"),r.multiSkillTexts=Ts(r),r}function Ts(t){const e=[];return t.multiSkills.forEach(n=>{const a=e.findIndex(([o])=>o.every((l,s)=>{const u=n[s];return typeof l=="string"?l===u:typeof u=="string"?!1:l.name===u.name&&l.childName===u.childName}));a===-1?e.push([n,1,Ln[`${n.length}`]]):e[a][1]+=1}),e.map(n=>{const o=n[0].map(i=>{let l=i;return typeof i!="string"&&(l=`${i.name}:${i.childName||"任一"}`,i.name==="母语"&&(l="母语")),l});return`${n[2]}选${Ln[`${n[1]}`]}(${o})`})}const pr=[{name:"信用评级",init:0,intro:"衡量了调查员表现出来的富裕程度以及经济上的自信度。如果调查员尝试用他的经济地位来达成某个目标，那么也许使用信用评级技能会比较合适。信用评级可以被用来取代外貌APP来评估第一印象。（请将技能提升至调查员职业信用范围之内）"},{name:"克苏鲁神话",init:0,intro:"“我认为，人的思维缺乏将已知事物联系起来的能力，这是世上最仁慈的事了。人类居住在幽暗的海洋中一个名为无知的小岛上，这海洋浩淼无垠、蕴藏无穷秘密，但我们并不应该航行过远，探究太深。”——H·P·爱手艺"},{name:"侦查",init:25,intro:"这技能允许使用者发现密门或者秘密隔间，注意到隐藏的闯入者，发现并不明显的线索，发现重新涂过漆的汽车，意识到埋伏，注意到鼓出的口袋，或者任何类似的事情。对于调查员来说，这是一个很重要的技能。"},{name:"聆听",init:20,intro:"衡量一名调查员理解声音的能力，包括偶然听到的对话，一扇关着的门后的轻声嘀咕，以及咖啡厅里的私语。KP可以用这来决定一场即将发生的遭遇的形式。甚至此外，一个较高的聆听技能可以指一名角色有着高度的泛察觉能力"},{name:"取悦",init:15,intro:"取悦允许通过许多形式来使用，包括肉体魅力、诱惑、奉承或是单纯的人格魅力。取悦可能可以被用于迫使某人进行特定的行动。取悦或是心理学技能可以用于对抗取悦技能。取悦技能可以被用于讨价还价。"},{name:"话术",init:5,intro:"话术特别限定于言语上的哄骗，欺骗以及误导。这技能的对立技能为心理学或者话术。经过一段时间的相信期后，对方会意识到自己被欺骗了，话术的效果总是暂时性的。也可用于砍价。"},{name:"恐吓",init:15,intro:"恐吓可以以许多形式使用，包括武力威慑，心理操控，以及威胁。这通常被用来使某人害怕，并迫使其进行某种特定的行为。恐吓的对抗技能为恐吓或者心理学。同样也能拿来砍价。"},{name:"说服",init:10,intro:"使用说服来通过一场论述、争辩以及讨论让目标相信一个确切的想法，概念，或者信仰。说服并不一定需要涉及真实的内容。成功的说服技能的运用将花费不少的时间：至少半小时。另外说服还可以被用于讨价还价。"},{name:"心理学",init:10,intro:"对所有人来说都很通用的察觉方面的技能，允许使用者研究个人并且形成对于其他某人动机和人格的了解。在玩家的支持下，KP可能会选择进行一个心理学技能检定的暗骰，仅仅对使用这个技能的玩家声明获得的信息，真或假。"},{name:"母语",init:0,initPlaceholder:"教育",intro:"当选择这项技能时，必须明确一门具体的语言并且写在技能的后面。在婴儿期或者童年早期，大多数人使用一门语言。",group:{show:[""],skills:[{name:"汉语"},{name:"英语"},{name:"日语"},{name:"法语"},{name:"俄语"},{name:"德语"},{name:"韩语"},{name:"粤语"},{name:"拉丁语"},{name:"荷兰语"},{name:"挪威语"},{name:"丹麦语"},{name:"印度语"},{name:"西班牙语"},{name:"葡萄牙语"},{name:"阿拉伯语"}]}},{name:"外语",init:1,intro:"当选择这项技能时，必须明确一个具体的语言并且写在技能后面。一个人可以了解任何数量的语言。这技能代表使用者可以了解，说，读以及写一门不是他母语的语言的可能性。",group:{show:["",""],skills:[{name:"汉语"},{name:"英语"},{name:"日语"},{name:"法语"},{name:"俄语"},{name:"德语"},{name:"韩语"},{name:"粤语"},{name:"拉丁语"},{name:"荷兰语"},{name:"挪威语"},{name:"丹麦语"},{name:"印度语"},{name:"西班牙语"},{name:"葡萄牙语"},{name:"阿拉伯语"}]}},{name:"估价",init:5,intro:"用来估计某种物品的价值，包括质量，使用的材料以及工艺。相关的，调查员可以准确地辨认出物品的年龄，评估它的历史关联性以及发现赝品。"},{name:"乔装",init:5,intro:"使用在当调查员想要演出自己外的其它人时。使用者改变了态度，习惯，以及/或声音来进行一个乔装，以另一个人或者另一类人的形象出现。戏剧化妆品可能会有所帮助，还有伪造的身份证件。"},{name:"潜行",init:20,intro:"安静地移动或躲藏的技巧，不惊扰那些可能在听或看的人们。与这项技能相关的能力意味着角色能够安静地移动或在伪装技巧上有所长。潜行也同样意味着角色可以长时间维持一定程度的谨慎冷静来使自己保持静止和隐秘。"},{name:"追踪",init:10,intro:"使调查员可以凭借追踪技能来通过土壤上的脚印，或是物体通过植被时留下的印记来追踪别人，或者是交通工具以及地球上的动物。时间的经过，雨，以及土地的种类都可能会影响追踪的难度等级。"},{name:"读唇",init:1,intro:"非常规技能，这个技能允许好奇的探索者不需要听到说话者的声音，就能知道他们的对话内容。必须保持视线，如果只看到一个说话者的嘴唇，对话的另外一半就听不到。读唇也可以用于与另一个人进行安静沟通（如果两人都有此技能），允许相对复杂的语意传达。"},{name:"人类学",init:1,intro:"使调查员能够通过观察来辨认和理解一个人的生活方式。如过持续观察一个其他的文化一段时间，那么他可以对文化方式以及道德习惯进行简单的预测。结合心理学可以预测目标行为和信仰。"},{name:"图书馆使用",init:20,intro:"图书馆使用使一名调查员能在图书馆找到一些信息，例如特定的一本书，新闻，文件或资料库，但是需要数小时的连续调查。这个技能可以定位寻找一件隐藏案例或一本稀有书籍，但是首先需要获得阅读的许可。"},{name:"生存",init:5,intro:"提供专业的如何在极端环境下生存的知识和技巧。内容包括狩猎的知识，搭建住所，可能遇到的危险的知识（例如如何避开有毒性的植物）等等，取决于所处的环境。你可以花费技能点来获得任何的专业化技能。",group:{show:["","",""],skills:[{name:"沙漠",init:5},{name:"森林",init:5},{name:"荒岛",init:5},{name:"高山",init:5},{name:"海上",init:5}]}},{name:"攀爬",init:20,intro:"这技能允许一名角色借助或者不借助绳索或者登山工具进行爬树、墙以及其他垂直表面。这技能也同样包括用绳索下降。许多因素将会影响难度等级。"},{name:"跳跃",init:20,intro:"如果成功，调查员可以在垂直方向上跳起或跳下，或者从一个站立点或起步点水平向外跳。当从高处跌落时，一次成功的跳跃鉴定可以将跌落伤害减半。"},{name:"游泳",init:20,intro:"有能力在水或者其他液体中漂浮以及移动。只有在遭遇危险时需要进行游泳技能检定，或当KP认为合适的时候。当游泳的孤注一骰失败时，可能会导致生命值损失。也可能导致人物顺着水流向下冲走，被水半淹或完全淹没。"},{name:"潜水",init:1,intro:"非常规技能，使用者接受过在深海游泳的使用以及维持潜水设备的训练，水下导航，合适的下潜配重，以及应对紧急情况的方法。"},{name:"技艺",init:5,intro:"该技能可能能使你制作/修理一样东西，或者制造一个复制品/赝品。对一个物品进行一次成功的鉴定可能可以提供关于该物品的相关信息",group:{show:["","",""],skills:[{name:"表演",init:5},{name:"音乐",init:5},{name:"绘画",init:5},{name:"艺术",init:5},{name:"摄影",init:5},{name:"写作",init:5},{name:"书法",init:5},{name:"打字",init:5},{name:"速记",init:5},{name:"伪造",init:5},{name:"烹饪",init:5},{name:"裁缝",init:5},{name:"理发",init:5},{name:"技术制图",init:5},{name:"耕作",init:5},{name:"木工",init:5},{name:"铁匠",init:5},{name:"焊接",init:5},{name:"管道工",init:5}]}},{name:"妙手",init:10,intro:"允许对物体进行视觉上的遮住，藏匿，或者掩盖，也许通过残害，衣服或者其他的干涉或促成错觉的材料。任何种类的巨大物件应当增加藏匿的难度。妙手包括偷窃，卡牌魔术，以及秘密使用手机。"},{name:"锁匠",init:1,intro:"锁匠技能可以打开车门，热线自动装置，用铁撬撬开窗子，解决中国机关箱，以及穿过常规的商用警报系统。使用者可能会修锁，制作钥匙，或者在其他工具的帮助下打开锁。特别困难的锁可能会需要一个更高的难度等级。"},{name:"电气维修",init:10,intro:"使调查员能够修理或者改装电气设备。在现代，这技能对现代电子器件几乎做不到什么。为了维修电气设备，可能需要特殊的部件或者工具。也可用于现代的爆破作业。"},{name:"机械维修",init:10,intro:"这技能允许调查员修理破损的机器或制造一个新的。基础的木工手艺，管道项目，制作物品也同样可以。这技能可以用来打开普通的锁，但更加专业的就不能。机械维修通常与电气维修相伴，修理一个复杂的设备往往两者皆需。"},{name:"导航",init:10,intro:"允许使用者认清自己的路。有着更高技能的人将熟悉各种定位装置。一名角色可以用这技能来测量并对某区域进行绘图（制图学），使用工具可以降低甚至取消难度等级。若角色对某区域十分熟悉，那么在检定上可以得到奖励。"},{name:"骑术",init:5,intro:"这技能被用于驾驭马，驴子或者骡子，以及获得对这些骑乘动物的基础照料知识，如何在疾驰中或困难地形上操纵坐骑。当坐骑意外地抬起身子或失足时，骑手保持自己在坐骑上不摔落的几率等同于他的骑术技能。"},{name:"操作重型机械",init:1,intro:"当驾驶以及操纵一辆坦克，挖土机或者其他巨型建造机械时需要这个技能。对于种类非常不同的机械，KP可以决定难度等级。"},{name:"汽车驾驶",init:20,intro:"任何有着这技能的人都可以驾驶一辆汽车或者轻型卡车，进行常规的移动，并且处理机动车的一般毛病。如果调查员想要甩掉一名追踪者或者追踪某人，则需要一个汽车驾驶检定。"},{name:"驾驶",init:1,intro:"这是操控飞行器或船只或其他的技能，汽车驾驶在上面。驾驶（飞行器）：了解并能够日益掌握一类飞行器。着陆时，就算在最佳的状况，也必须进行驾驶掷骰。失败的结果视情况而定。驾驶（船）：了解小型马达船和帆船在风中、暴风雨中、海潮中的各种行为，并可以从波浪与风的表现中读出暗礁及迫近的暴风雨。在风中，新水手连停艘小船都是困难的。",group:{show:[""],skills:[{name:"船",init:1},{name:"马车",init:1},{name:"飞行器",init:1}]}},{name:"驯兽",init:5,intro:"非常规技能，用于命令、训练驯服动物进行简单任务的技能。这技能最常用在狗身上，但也不排除鸟、猫、猴子，或是其他（由KP判定）。"},{name:"计算机使用Ω",init:5,intro:"这技能允许调查员用各种不同的电脑语言进行编程；恢复或者分析隐藏的数据；解除被加了保护的系统；探索一个复杂的网络；或者发现别人的骇入、后门程序、病毒。对电脑系统的特殊操作可能会需要这个检定。仅在现代可用。"},{name:"格斗",init:0,intro:"格斗技能指的是一名角色在近距离战斗上的技能。你可以花费一定的点数来获得任何的专业化技能。",group:{show:["斗殴","",""],skills:[{name:"斗殴",init:25},{name:"刀剑",init:20},{name:"矛",init:20},{name:"斧",init:15},{name:"绞索",init:15},{name:"链锯",init:10},{name:"链枷",init:10},{name:"鞭",init:5}]}},{init:0,intro:"包括了各种形式的火器，也包括了弓箭和弩。",name:"射击",group:{show:["手枪","步/霰",""],skills:[{name:"手枪",init:20},{name:"步/霰",init:25},{name:"冲锋枪",init:15},{name:"弓弩",init:15},{name:"机枪",init:10},{name:"重武器",init:10}]}},{name:"闪避",init:0,initPlaceholder:"1/2敏捷",intro:"允许调查员本能地闪避攻击，投掷过来的投射物以及诸如此类的。闪避可以通过经验来提升，就像其他的技能一样。如果一次攻击可以被看见，调查员可以尝试闪避开它。无法躲避子弹。"},{name:"投掷",init:20,intro:"当需要用物体击中目标或者用物件的正确部分击中目标（例如小刀或者短柄小斧的刃）时，使用投掷技能。一件有着合理平衡构架的可以藏于手中大小的物品可以被投掷至多等同于STR码的距离。"},{name:"爆破",init:1,intro:"非常规技能，调查员可以使用此技能安全的设置/拆除爆破装置。给予足够的时间和资源，调查员可以装设炸药来摧毁一幢建筑，清除一个被堵住的隧道，以及赋予炸药不同用处。"},{name:"炮术",init:1,intro:"非常规技能，这技能呈现出对一些形式的军事训练和经历。使用者具有在战争中操作战地武器的经验。这些武器通常过于巨大以至于无法单人进行操作，并且个人无法再没有工作队支援的情况下使用这武器，或者应当提高难度等级。"},{name:"急救",init:30,intro:"使用者有能力可以提供紧急的医疗处理，唤醒昏迷者。急救不能用于治疗疾病，但是只有急救技能可以拯救一名濒死角色的生命。急救可以由多人共同实施，只需一人成功即可。"},{name:"医学",init:1,intro:"使用者可以诊断并治疗事故创伤，疾病，毒药。提供相关药品的信息。用本技能进行治疗最少要花费1小时，可在造成了伤害后的任何时间进行，但若未在当天进行难度将会上升。成功的医学技能可唤醒一名昏迷的角色。"},{name:"精神分析",init:1,intro:"这技能指广泛的情感上的治疗。精神分析可以恢复一名调查员的理智。单独的精神分析并不能加速不定时疯狂的恢复，但允许一名角色处理他人短期内的恐惧症状。心理治疗专家的治疗可以在不定式疯狂期间内回复理智。"},{name:"催眠",init:1,intro:"非常规技能，调查员可以在一名自愿并经历过高度暗示、放松的目标身上引出出神似的状态，并且可能回忆起忘却的记忆。对那些遭受了精神创伤的人，这技能可以当做催眠疗法来使用，减轻一名病人的恐惧或者躁狂。"},{name:"会计",init:5,intro:"使调查员理解会计工作的流程。通过检查账簿，调查员可以了解过去的资金的得与失，以及这些资金流通渠道。也能发现做假账的员工，对资金的偷偷挪用，对行贿或者敲诈的款项支付，以及经济状况是否比表面陈述的更好或者更差。"},{name:"法律",init:5,intro:"代表你对法律、早期事件、法庭辩术或法院程序的了解。一个法律专家可能会获得奖励以及事务所，但这可能需要几年的申请和一个较高的信用评级。在国外时，技能的难度等级相应上升，除非该角色花费时间学习该国的法律。"},{name:"历史",init:5,intro:"让一名调查员能够记住一个国家，城市，区域或者个人及其相关的重要情报。一个成功的检定可以用来帮助辨认先祖所熟悉的工具，科技，或者想法，但是对当下的所知甚少。"},{name:"考古学",init:1,intro:"允许辨别以及鉴定一件古董，以及用来发现赝品。使调查员获得建立以及开掘一个挖掘遗址的专业知识。推断留下遗址的生物的目的和生活方式。人类学可能对此会有所帮助。考古学还有助于辨认已消失的人类语言的书面形式。"},{name:"博物学",init:10,intro:"指对于自然环境中的植物和动物生命的研究。它可以对物种，栖息地进行辨认，并能辨认踪迹、足迹和叫声，也允许对什么事物可能对某种特定物种来说很重要进行猜测。自然学可能准确也可能不准确。"},{name:"神秘学",init:5,intro:"使用者可以识别神秘学道具，用语和概念，以及民间传统，并且可以辨认魔法书以及神秘学记号。理解特定的书籍可能可以增加神秘学技能的百分比。这技能不能运用于与克苏鲁神话相关的咒术，书本，以及魔法。"},{name:"电子学Ω",init:1,intro:"用来发现并对电子设备的故障进行维修。允许制作简单的电子设备。这是个现代技能—在1920年代则是使用物理学以及电气维修来应对电子设备。仅在现代可用。"},{name:"科学",init:1,intro:"科学专业上的理论和实践的能力，拥有这个技能的人接受过一定程度的正式的教育或者训练。对于知识的理解和认识受到时代的限制。你可以花费点数来获得任何你想要的专业技能，每个专业化技能包括了一门专门的学科。",group:{show:["","",""],skills:[{name:"数学",init:10},{name:"物理",init:1},{name:"化学",init:1},{name:"药学",init:1},{name:"地质学",init:1},{name:"生物学",init:1},{name:"动物学",init:1},{name:"植物学",init:1},{name:"天文学",init:1},{name:"密码学",init:1},{name:"气象学",init:1},{name:"工程学",init:1},{name:"鉴证",init:1},{name:"制药",init:1}]}},{init:0,intro:"自定义技能",name:"",group:{show:["","",""],skills:[]}}],Hr={信用评级:["信用","信誉"],克苏鲁神话:["克苏鲁"],取悦:["魅惑"],汽车驾驶:["汽车","驾驶"],图书馆使用:["图书馆"],计算机使用Ω:["计算机","电脑"],"步/霰":["步枪","霰弹枪"],锁匠:["开锁","撬锁"],博物学:["自然学"],导航:["领航"],操作重型机械:["重型机械","重型操作","重型"]};function Ns(t,e){Qr(e);const{jobs:r}=Rt,n=Z(()=>za(t.value.job));return Ze(()=>t.value.job,()=>{const a=r.get(t.value.job);if(!a)return;e.jobSkills=[...a.skills],Qr(e),t.value.proSkills=[];const o={};a.skills.forEach(i=>{if(typeof i=="string")t.value.proSkills.push(i);else if(!Array.isArray(i)){const[l,s]=Object.entries(i)[0];let u=l;l.includes("(")&&(u=u.split("(")[0]);const m=e.showingChildSkills.get(u);if(!m)return;let d=-1;if(s)d=m.findIndex(f=>f===s),d===-1&&(d=m.findIndex(f=>!f),m[d]=s);else{const f=o[u]||0;let A=f;d=m.findIndex(k=>k?!1:A--===0),o[u]=f+1}if(d===-1)return;t.value.proSkills.push([u,s,d])}}),delete e.jobSkills}),n}function Qr(t){pr.forEach(e=>{e.group&&t.showingChildSkills.set(e.name,[...e.group.show])})}var dr={exports:{}};dr.exports;(function(t){var e=function(){var r=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={};function i(s,u){if(!o[s]){o[s]={};for(var c=0;c<s.length;c++)o[s][s.charAt(c)]=c}return o[s][u]}var l={compressToBase64:function(s){if(s==null)return"";var u=l._compress(s,6,function(c){return n.charAt(c)});switch(u.length%4){default:case 0:return u;case 1:return u+"===";case 2:return u+"==";case 3:return u+"="}},decompressFromBase64:function(s){return s==null?"":s==""?null:l._decompress(s.length,32,function(u){return i(n,s.charAt(u))})},compressToUTF16:function(s){return s==null?"":l._compress(s,15,function(u){return r(u+32)})+" "},decompressFromUTF16:function(s){return s==null?"":s==""?null:l._decompress(s.length,16384,function(u){return s.charCodeAt(u)-32})},compressToUint8Array:function(s){for(var u=l.compress(s),c=new Uint8Array(u.length*2),m=0,d=u.length;m<d;m++){var f=u.charCodeAt(m);c[m*2]=f>>>8,c[m*2+1]=f%256}return c},decompressFromUint8Array:function(s){if(s==null)return l.decompress(s);for(var u=new Array(s.length/2),c=0,m=u.length;c<m;c++)u[c]=s[c*2]*256+s[c*2+1];var d=[];return u.forEach(function(f){d.push(r(f))}),l.decompress(d.join(""))},compressToEncodedURIComponent:function(s){return s==null?"":l._compress(s,6,function(u){return a.charAt(u)})},decompressFromEncodedURIComponent:function(s){return s==null?"":s==""?null:(s=s.replace(/ /g,"+"),l._decompress(s.length,32,function(u){return i(a,s.charAt(u))}))},compress:function(s){return l._compress(s,16,function(u){return r(u)})},_compress:function(s,u,c){if(s==null)return"";var m,d,f={},A={},k="",I="",S="",C=2,E=3,D=2,V=[],y=0,v=0,w;for(w=0;w<s.length;w+=1)if(k=s.charAt(w),Object.prototype.hasOwnProperty.call(f,k)||(f[k]=E++,A[k]=!0),I=S+k,Object.prototype.hasOwnProperty.call(f,I))S=I;else{if(Object.prototype.hasOwnProperty.call(A,S)){if(S.charCodeAt(0)<256){for(m=0;m<D;m++)y=y<<1,v==u-1?(v=0,V.push(c(y)),y=0):v++;for(d=S.charCodeAt(0),m=0;m<8;m++)y=y<<1|d&1,v==u-1?(v=0,V.push(c(y)),y=0):v++,d=d>>1}else{for(d=1,m=0;m<D;m++)y=y<<1|d,v==u-1?(v=0,V.push(c(y)),y=0):v++,d=0;for(d=S.charCodeAt(0),m=0;m<16;m++)y=y<<1|d&1,v==u-1?(v=0,V.push(c(y)),y=0):v++,d=d>>1}C--,C==0&&(C=Math.pow(2,D),D++),delete A[S]}else for(d=f[S],m=0;m<D;m++)y=y<<1|d&1,v==u-1?(v=0,V.push(c(y)),y=0):v++,d=d>>1;C--,C==0&&(C=Math.pow(2,D),D++),f[I]=E++,S=String(k)}if(S!==""){if(Object.prototype.hasOwnProperty.call(A,S)){if(S.charCodeAt(0)<256){for(m=0;m<D;m++)y=y<<1,v==u-1?(v=0,V.push(c(y)),y=0):v++;for(d=S.charCodeAt(0),m=0;m<8;m++)y=y<<1|d&1,v==u-1?(v=0,V.push(c(y)),y=0):v++,d=d>>1}else{for(d=1,m=0;m<D;m++)y=y<<1|d,v==u-1?(v=0,V.push(c(y)),y=0):v++,d=0;for(d=S.charCodeAt(0),m=0;m<16;m++)y=y<<1|d&1,v==u-1?(v=0,V.push(c(y)),y=0):v++,d=d>>1}C--,C==0&&(C=Math.pow(2,D),D++),delete A[S]}else for(d=f[S],m=0;m<D;m++)y=y<<1|d&1,v==u-1?(v=0,V.push(c(y)),y=0):v++,d=d>>1;C--,C==0&&(C=Math.pow(2,D),D++)}for(d=2,m=0;m<D;m++)y=y<<1|d&1,v==u-1?(v=0,V.push(c(y)),y=0):v++,d=d>>1;for(;;)if(y=y<<1,v==u-1){V.push(c(y));break}else v++;return V.join("")},decompress:function(s){return s==null?"":s==""?null:l._decompress(s.length,32768,function(u){return s.charCodeAt(u)})},_decompress:function(s,u,c){var m=[],d=4,f=4,A=3,k="",I=[],S,C,E,D,V,y,v,w={val:c(0),position:u,index:1};for(S=0;S<3;S+=1)m[S]=S;for(E=0,V=Math.pow(2,2),y=1;y!=V;)D=w.val&w.position,w.position>>=1,w.position==0&&(w.position=u,w.val=c(w.index++)),E|=(D>0?1:0)*y,y<<=1;switch(E){case 0:for(E=0,V=Math.pow(2,8),y=1;y!=V;)D=w.val&w.position,w.position>>=1,w.position==0&&(w.position=u,w.val=c(w.index++)),E|=(D>0?1:0)*y,y<<=1;v=r(E);break;case 1:for(E=0,V=Math.pow(2,16),y=1;y!=V;)D=w.val&w.position,w.position>>=1,w.position==0&&(w.position=u,w.val=c(w.index++)),E|=(D>0?1:0)*y,y<<=1;v=r(E);break;case 2:return""}for(m[3]=v,C=v,I.push(v);;){if(w.index>s)return"";for(E=0,V=Math.pow(2,A),y=1;y!=V;)D=w.val&w.position,w.position>>=1,w.position==0&&(w.position=u,w.val=c(w.index++)),E|=(D>0?1:0)*y,y<<=1;switch(v=E){case 0:for(E=0,V=Math.pow(2,8),y=1;y!=V;)D=w.val&w.position,w.position>>=1,w.position==0&&(w.position=u,w.val=c(w.index++)),E|=(D>0?1:0)*y,y<<=1;m[f++]=r(E),v=f-1,d--;break;case 1:for(E=0,V=Math.pow(2,16),y=1;y!=V;)D=w.val&w.position,w.position>>=1,w.position==0&&(w.position=u,w.val=c(w.index++)),E|=(D>0?1:0)*y,y<<=1;m[f++]=r(E),v=f-1,d--;break;case 2:return I.join("")}if(d==0&&(d=Math.pow(2,A),A++),m[v])k=m[v];else if(v===f)k=C+C.charAt(0);else return null;I.push(k),m[f++]=C+k.charAt(0),d--,C=k,d==0&&(d=Math.pow(2,A),A++)}}};return l}();t!=null?t.exports=e:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return e})})(dr);var js=dr.exports;const Zr=Kn(js);var Ms=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,r=[],n=0;n<t.rangeCount;n++)r.push(t.getRangeAt(n));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||r.forEach(function(a){t.addRange(a)}),e&&e.focus()}},Ls=Ms,Yr={"text/plain":"Text","text/html":"Url",default:"Text"},Ws="Copy to clipboard: #{key}, Enter";function Gs(t){var e=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function zs(t,e){var r,n,a,o,i,l,s=!1;e||(e={}),r=e.debug||!1;try{a=Ls(),o=document.createRange(),i=document.getSelection(),l=document.createElement("span"),l.textContent=t,l.ariaHidden="true",l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",function(c){if(c.stopPropagation(),e.format)if(c.preventDefault(),typeof c.clipboardData>"u"){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var m=Yr[e.format]||Yr.default;window.clipboardData.setData(m,t)}else c.clipboardData.clearData(),c.clipboardData.setData(e.format,t);e.onCopy&&(c.preventDefault(),e.onCopy(c.clipboardData))}),document.body.appendChild(l),o.selectNodeContents(l),i.addRange(o);var u=document.execCommand("copy");if(!u)throw new Error("copy command was unsuccessful");s=!0}catch(c){r&&console.error("unable to copy using execCommand: ",c),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),s=!0}catch(m){r&&console.error("unable to copy using clipboardData: ",m),r&&console.error("falling back to prompt"),n=Gs("message"in e?e.message:Ws),window.prompt(n,t)}}finally{i&&(typeof i.removeRange=="function"?i.removeRange(o):i.removeAllRanges()),l&&document.body.removeChild(l),a()}return s}var qs=zs;const qa=Kn(qs),Js=L({__name:"ActionButton",props:{fullWidth:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},tag:{default:"button"}},emits:["click"],setup(t){return(e,r)=>(b(),te(ha(e.tag),{class:ee(["action-button",{"action-button-full-width":e.fullWidth}]),onClick:r[0]||(r[0]=n=>e.$emit("click",n)),disabled:e.disabled},{default:T(()=>[dt(e.$slots,"default",{},void 0,!0)]),_:3},8,["class","disabled"]))}}),Wn=M(Js,[["__scopeId","data-v-61670b32"]]),Ks=L({__name:"ControlButton",props:{label:{},icon:{}},emits:["click"],setup(t){return(e,r)=>{const n=ue("el-icon");return b(),te(Wn,{class:"control-button",onClick:r[0]||(r[0]=a=>e.$emit("click",a))},{default:T(()=>[h(n,{size:"0.9em"},{default:T(()=>[(b(),te(ha(e.icon)))]),_:1}),re(" "+O(e.label),1)]),_:1})}}}),Ae=M(Ks,[["__scopeId","data-v-ee2a6ea2"]]),He=L({__name:"ControlDialog",props:{title:{},modelValue:{type:Boolean}},emits:["update:modelValue"],setup(t){return(e,r)=>{const n=ue("el-dialog");return b(),te(n,{class:"coc-card-control-dialog","append-to-body":"","align-center":"",title:e.$props.title,modelValue:e.$props.modelValue,"onUpdate:modelValue":r[0]||(r[0]=a=>e.$emit("update:modelValue",a))},{default:T(()=>[dt(e.$slots,"default")]),_:3},8,["title","modelValue"])}}});function Ja(t,e){const r=document.createElement("a");r.href=t,r.download=e,r.click()}function Xs(t){return new Promise(e=>{const r=document.createElement("img");r.onload=()=>{r.remove(),e({width:r.width,height:r.height})},r.src=t})}function Hs(t,e="image"){Ja(t,e)}const Qs={class:"downloader-item"},Zs={class:"downloader-item-preview"},Ys=["src"],eu={key:1,class:"downloader-item-file"},tu={key:2},nu={class:"downloader-item-info"},ru={class:"downloader-item-title"},au={class:"preview-full-image-container"},ou=["src"],iu=L({__name:"DownloaderItem",props:{title:{},previewImage:{},refreshable:{type:Boolean},download:{}},emits:["refresh"],setup(t){const e=t,r=H(!1),n=Z(()=>{if(!e.download)return"";const{name:i,type:l}=e.download;return`${i}${e.title}.${l}`});function a(){if(!e.download)return;const{url:i}=e.download;Hs(i,n.value)}function o(){r.value=!0}return(i,l)=>{var s;return b(),P("div",Qs,[p("div",Zs,[i.previewImage?(b(),P("img",{key:0,class:"downloader-item-image",src:i.previewImage,onClick:o},null,8,Ys)):((s=i.download)==null?void 0:s.type)==="txt"?(b(),P("div",eu,O(n.value),1)):(b(),P("div",tu,"预览图加载失败，这不应该，请尝试刷新"))]),p("div",nu,[p("div",ru,O(i.title),1),p("div",{class:"downloader-item-button",onClick:a}," 下载 "),i.refreshable?(b(),P("div",{key:0,class:"downloader-item-button",onClick:l[0]||(l[0]=u=>i.$emit("refresh"))}," 重新生成 ")):G("",!0)]),h(He,{modelValue:r.value,"onUpdate:modelValue":l[1]||(l[1]=u=>r.value=u),title:"预览大图"},{default:T(()=>[p("div",au,[i.previewImage?(b(),P("img",{key:0,class:"preview-full-image",src:i.previewImage},null,8,ou)):G("",!0)])]),_:1},8,["modelValue"])])}}}),In=M(iu,[["__scopeId","data-v-76bceb39"]]),lu={},Ka=t=>(ce("data-v-92aad31b"),t=t(),pe(),t),su={class:"issue-row"},uu=Ka(()=>p("img",{class:"issue-icon",src:"https://github.githubassets.com/favicons/favicon-dark.png"},null,-1)),cu=Ka(()=>p("a",{class:"issue-link",href:"https://github.com/masquevil/trpg-saikou#商业使用",target:"_blank"}," 交流 反馈 商业合作：Github ",-1)),pu=[uu,cu];function du(t,e){return b(),P("div",su,pu)}const fu=M(lu,[["render",du],["__scopeId","data-v-92aad31b"]]),mu=yo('<div class="guide-group-title" data-v-beb7feb9>基本说明：</div><ol class="guide-ol" data-v-beb7feb9><li data-v-beb7feb9>COC 7版人物卡，也是在线车卡工具。</li><li data-v-beb7feb9> 可以生成 A4 纸大小的正反面两张图。也可以直接生成空白卡，打印后手写。 </li><li data-v-beb7feb9>除了生成图片外，也可以直接打印（Ctrl + P）</li><li data-v-beb7feb9>推荐 PC 端使用，移动端存在性能问题。</li><li data-v-beb7feb9>提供了预设的 1000+ 头像，也可以自定义。</li></ol><div class="guide-group-title" data-v-beb7feb9>以下为目前已有的功能介绍：</div><ol class="guide-ol" data-v-beb7feb9><li data-v-beb7feb9> 花式加点：在属性栏中。可以选择“枫笛式”、“天命式”、“购点式”多种方式加点。 </li><li data-v-beb7feb9>天命一：随机生成一组属性。</li><li data-v-beb7feb9>翻面：正面为调查员属性，背面为调查员故事。</li><li data-v-beb7feb9> 保存：生成 A4 纸大小的正反面两张图，可以手动保存。 还有当前人物卡全部数据的 txt，可以通过“导入”再次使用。 </li><li data-v-beb7feb9> 快速年龄修正：根据你的年龄自动进行教育成长判定，同时按照规则随机调整基础属性。 </li><li data-v-beb7feb9>重置人物卡：清空当前填写的全部内容。</li><li data-v-beb7feb9><div data-v-beb7feb9>导入/导出数据：</div><ol class="guide-ol" data-v-beb7feb9><li data-v-beb7feb9>导出：将当前所填写的全部内容压缩后以文本形式储存到本地。</li><li data-v-beb7feb9>导入：将数据导入回来继续修改。</li></ol></li><li data-v-beb7feb9>开启灌铅模式：每次天命一会选取天命五中最高的一次结果。</li><li data-v-beb7feb9>骰娘相关：方便网团录卡，提供对应指令。</li><li data-v-beb7feb9> 下载空白卡 PDF：方便面团打印使用和开店使用。以后也许会加上直接生成 PDF 的功能。 </li><li data-v-beb7feb9> 切换成功率模式：在 “全面模式”（显示所有技能的“普通|困难|极难”成功率）和 “极简模式”（仅显示加过的技能的总成功率）两种模式之间切换。 </li><li data-v-beb7feb9> 职业列表：展示所有预设职业，可以快速选择职业。可以看到每个职业根据当前属性计算出的职业点数。 </li><li data-v-beb7feb9> 武器列表：展示所有预设武器，可以快速选择武器。点击“使用”后，再点击数字将这个武器填到对应的位置。 </li></ol><div class="guide-group-title" data-v-beb7feb9>其它说明：</div><ol class="guide-ol" data-v-beb7feb9><li data-v-beb7feb9>支持 iOS 设备的“添加到主屏幕”功能。</li></ol>',6),yu=L({__name:"GuidePaneContent",setup(t){return(e,r)=>(b(),P("div",null,[mu,h(fu)]))}}),hu=M(yu,[["__scopeId","data-v-beb7feb9"]]),vu="/trpg-saikou/assets/group-qr-wechat-BixWIYBQ.jpg",gu=t=>(ce("data-v-f28ea355"),t=t(),pe(),t),bu={class:"qun-section"},wu=gu(()=>p("div",{class:"qun-section-title"},"扫码加入交流群，报 Bug，提需求，约团！",-1)),ku={class:"qun-list"},_u={class:"qun-item"},Su=["src"],Au=L({__name:"QunSection",setup(t){return(e,r)=>(b(),P("div",bu,[wu,p("div",ku,[p("div",_u,[p("img",{class:"qun-image",src:g(vu)},null,8,Su)])])]))}}),$u=M(Au,[["__scopeId","data-v-f28ea355"]]);function ae(){return It("pc")}function xe(){return It("pageData")}function fr(){return It("viewData")}function Xa(){return It("suggestion")}const Pu={class:"jobs-container"},Iu={class:"job-card-header"},Eu=["onClick"],xu={class:"job-card-row"},Du={key:0},Cu={class:"job-card-row"},Ru=L({__name:"JobList",props:{label:{}},setup(t){const{jobGroups:e,jobs:r}=Rt,n=ae(),a=H([]),o=Z(()=>e.map(l=>({name:l.name,items:l.jobs.map(s=>{const u=r.get(s.name),c=za(u.name),m=c.multiSkillTexts.map(A=>`${A}、`).join("")+c.text,{point:d,text:f}=Ga(u.name,n==null?void 0:n.value.attributes);return{name:u.name,wealth:u.wealth,skillText:m,pointText:f,pointValue:d}})})));function i(l){n&&(n.value.job=l)}return(l,s)=>{const u=ue("el-icon"),c=ue("el-collapse-item"),m=ue("el-collapse");return b(),P("div",null,[h(m,{class:"job-list",modelValue:a.value,"onUpdate:modelValue":s[0]||(s[0]=d=>a.value=d)},{default:T(()=>[(b(!0),P(X,null,Y(o.value,d=>(b(),te(c,{key:d.name,title:d.name,name:d.name},{default:T(()=>[p("div",Pu,[(b(!0),P(X,null,Y(d.items,f=>(b(),P("div",{key:f.name,class:"job-card"},[p("div",Iu,[p("span",null,O(f.name),1),p("span",null,"信用评级："+O(f.wealth[0])+"~"+O(f.wealth[1]),1),p("a",{class:"job-card-action-use",onClick:()=>i(f.name)},[h(u,{size:"0.9em"},{default:T(()=>[h(g(va))]),_:1}),re(" 使用 ")],8,Eu)]),p("div",xu,[p("span",null,"职业点数："+O(f.pointText),1),f.pointValue?(b(),P("span",Du," (当前结果: "+O(f.pointValue)+") ",1)):G("",!0)]),p("div",Cu,"本职技能："+O(f.skillText),1)]))),128))])]),_:2},1032,["title","name"]))),128))]),_:1},8,["modelValue"])])}}}),Fu=M(Ru,[["__scopeId","data-v-6425fe8f"]]),Uu={class:"weapons-container"},Vu={class:"weapon-card-header"},Ou={class:"weapon-card-row"},Bu={class:"weapon-card-row"},Tu={class:"weapon-card-row weapon-card-row-4"},Nu=["onClick"],ju=L({__name:"WeaponList",props:{label:{}},setup(t){const e=ho,r=ae(),n=H([]),a=Z(()=>{const d=new Map(cr.map(f=>[f.name,{...f,range:`${Number(f.range)}`===f.range?`${f.range}m`:f.range}]));return Wa.map(([f,A])=>({name:A,groupKey:f,items:La[f].map(k=>d.get(k))}))});function o(d){return`${Number(d)}`===d?`${d}m`:d||"N/A"}const i=H([]),l=H(-1),s=H(!1);function u(d){const f=d.target,A=i.value.findIndex(k=>k.el===f);A!==-1&&(l.value=A,s.value=!0)}function c(){s.value=!1}function m(d,f){!r||!f||(r.value.weapons[d]=f)}return(d,f)=>{var C;const A=ue("el-icon"),k=ue("el-collapse-item"),I=ue("el-collapse"),S=ue("el-popover");return b(),P("div",null,[h(I,{class:"weapon-list",modelValue:n.value,"onUpdate:modelValue":f[0]||(f[0]=E=>n.value=E)},{default:T(()=>[(b(!0),P(X,null,Y(a.value,E=>(b(),te(k,{key:E.groupKey,title:E.name,name:E.groupKey},{default:T(()=>[p("div",Uu,[(b(!0),P(X,null,Y(E.items,D=>(b(),P("div",{key:D.name,class:"weapon-card"},[p("div",Vu,[p("span",null,"【"+O(D.name)+"】"+O(D.skill),1),Ye((b(),P("a",{class:"job-card-action job-card-action-use",ref_for:!0,ref:V=>{i.value.push({el:V,weapon:D})},onClick:u},[h(A,{size:"0.9em",class:"job-card-action-use-icon"},{default:T(()=>[h(g(va))]),_:1}),re(" 使用 ")])),[[g(e),c]])]),p("div",Ou,[p("span",null,"伤害："+O(D.dam),1),p("span",null,"次数："+O(D.round||"N/A"),1),p("span",null,O(D.tho?"贯穿":"非贯穿"),1)]),p("div",Bu,[p("span",null,"射程："+O(o(D.range)),1),p("span",null,"装弹量："+O(D.num||"N/A"),1),p("span",null,"故障率："+O(D.err||"N/A"),1)]),p("div",Tu,[p("span",null,"年代："+O(D.time),1),p("span",null,"价格："+O(D.price||"N/A"),1)])]))),128))])]),_:2},1032,["title","name"]))),128))]),_:1},8,["modelValue"]),h(S,{placement:"left-start","popper-class":"weapon-card-places-container",trigger:"click","virtual-triggering":"",visible:s.value,width:200,"virtual-ref":(C=i.value[l.value])==null?void 0:C.el},{default:T(()=>[(b(),P(X,null,Y(5,E=>p("a",{key:E,class:"job-card-action",onClick:D=>{var V;return m(E-1,(V=i.value[l.value])==null?void 0:V.weapon)}},O(E),9,Nu)),64))]),_:1},8,["visible","virtual-ref"])])}}}),Mu=M(ju,[["__scopeId","data-v-7f79e323"]]),Lu={特殊:["信用评级","克苏鲁神话"],探索:["侦查","聆听","图书馆使用","计算机使用Ω","潜行","追踪","导航"],社交:["话术","说服","取悦","恐吓","心理学","母语","外语"],战斗:["闪避","格斗","射击","投掷"],医疗:["急救","医学","精神分析"],运动:["攀爬","跳跃","游泳"],知识:["博物学","神秘学","考古学","人类学","估价","会计","法律","历史","电子学Ω","科学"],技术:["乔装","妙手","锁匠","机械维修","电气维修","驯兽","技艺","生存"],操纵:["汽车驾驶","骑术","驾驶","操作重型机械"],其它:[""]},Wu=["特殊","探索","社交","战斗","医疗","运动","知识","技术","操纵","其它"];function Gu({skills:t,groups:e,groupOrder:r}){const n=new Map;return t.forEach(o=>{n.set(o.name,o)}),r.map(o=>{const l=e[o].map(s=>n.get(s));return{groupName:o,groupSkills:l}})}const Gn=Gu({skills:pr,groups:Lu,groupOrder:Wu}),nn={母语:t=>t.attributes.edu||0,闪避:t=>Math.floor((t.attributes.dex||0)/2)};function zu(t,e){const{attributes:r,deriveAttributes:n,skillPoints:a}=t,{str:o=0,con:i=0,siz:l=0,dex:s=0,app:u=0,int:c=0,pow:m=0,edu:d=0,luc:f=0}=r,{hp:A={start:0},mp:k={start:0},sanity:I={start:0}}=n||{},S=`力量${o}str${o}敏捷${s}dex${s}体质${i}con${i}外貌${u}app${u}智力${c}灵感${c}int${c}意志${m}pow${m}体型${l}siz${l}教育${d}edu${d}幸运${f}运气${f}luck${f}`,C=`hp${A.start}体力${A.start}mp${k.start}魔法${k.start}san${I.start}理智${I.start}理智值${I.start}san值${I.start}`;let E="";const D={};return a.forEach(([V,y])=>{let v,w,_;Array.isArray(V)?([v,,_]=V,w=e.showingChildSkills.get(v)[_]):v=V;const $=w?`${v}-${w}`:v;D[$]=y}),pr.forEach(V=>{const{name:y,init:v,group:w}=V;let _=nn[y]?nn[y](t):v;const $=y.includes("Ω")?y.slice(0,-1):y;if(w){let R=0;if(e.showingChildSkills.get(y).forEach(U=>{var x,N;if(!U)return;const B=`${y}-${U}`,j=D[B];if(y&&(_=((N=(x=V.group)==null?void 0:x.skills.find(W=>W.name===U))==null?void 0:N.init)||_),j){const{b:W=y?_:0,p:Q=0,i:z=0,g:ne=0}=j;R=W+Q+z+ne}else w.show.includes(U)&&(R=_);E+=`${U}${R}`;const F=Hr[U];F&&(E+=F.map(W=>`${W}${R}`).join("")),delete D[B]}),y==="母语")if(R)E+=`母语${R}`;else{const U=D[y];if(U){const{b:B=y?_:0,p:j=0,i:F=0,g:x=0}=U;E+=`母语${B+j+F+x}`}else E+=`母语${_}`}}else{const R=D[y];let U=0;if(R){const{b:j=y?_:0,p:F=0,i:x=0,g:N=0}=R;U=j+F+x+N}else U=_;E+=`${$}${U}`;const B=Hr[y];B&&(E+=B.map(j=>`${j}${U}`).join("")),delete D[y]}}),`${S}${C}${E}`}const qu=t=>(ce("data-v-98af2d38"),t=t(),pe(),t),Ju={class:"modal-body"},Ku={class:"group"},Xu=qu(()=>p("div",null,"录卡指令",-1)),Hu=L({__name:"DiceMaid",setup(t){const e=ae(),r=fr(),n=Z(()=>".st "+(e&&r?zu(e.value,r):"")),a=H(!1);function o(l){var s;(s=l.target)==null||s.select()}function i(){qa(n.value),ke.success("已复制录卡指令")}return(l,s)=>{const u=ue("el-input");return b(),P(X,null,[h(Ae,{label:"骰娘相关",icon:g(vo),onClick:s[0]||(s[0]=c=>a.value=!0)},null,8,["icon"]),h(He,{title:"骰娘相关",modelValue:a.value,"onUpdate:modelValue":s[1]||(s[1]=c=>a.value=c)},{default:T(()=>[p("div",Ju,[p("div",Ku,[p("div",{class:"label"},[Xu,p("div",null,[p("a",{class:"link",onClick:i},"复制")])]),h(u,{type:"textarea",rows:5,value:n.value,readonly:"",onFocus:o},null,8,["value"])])])]),_:1},8,["modelValue"])],64)}}}),Qu=M(Hu,[["__scopeId","data-v-98af2d38"]]);function Qe(t,e=1,r=0){return Array.from({length:e}).reduce(n=>{const a=Math.floor(Math.random()*t)+1;return n+a},r)}function je(t,e=1){if(e<1)return t;let r=t;return Qe(100)>t&&(r+=Qe(10)),je(r,e-1)}const Zu=["str","dex","con","app","pow"],Yu=["siz","edu","int"],ec=["luc"];function zn(){const t={};return Zu.forEach(e=>{t[e]=Qe(6,3)*5}),Yu.forEach(e=>{t[e]=Qe(6,2,6)*5}),ec.forEach(e=>{t[e]=Qe(6,3)*5}),t}function tc(t,e){let r=kt(t);return e<15||(e<20?(r=Me(r,["str","siz"],5),r.luc=Math.max(r.luc,Qe(6,3)*5)):e<40?r.edu=je(r.edu):e<50?(r=Me(r,["str","con","dex"],5),r.app=r.app-5,r.edu=je(r.edu,2)):e<60?(r=Me(r,["str","con","dex"],10),r.app=r.app-10,r.edu=je(r.edu,3)):e<70?(r=Me(r,["str","con","dex"],20),r.app=r.app-15,r.edu=je(r.edu,4)):e<80?(r=Me(r,["str","con","dex"],40),r.app=r.app-20,r.edu=je(r.edu,4)):e<90&&(r=Me(r,["str","con","dex"],80),r.app=r.app-25,r.edu=je(r.edu,4))),r.app=Math.max(r.app,5),r.edu=Math.min(r.edu,99),r}function Pt(t){const{str:e,con:r,dex:n,app:a,pow:o,siz:i,edu:l,int:s}=t;return[e,r,n,a,o,i,l,s].reduce((c,m)=>c+m,0)}function En(t){const{luc:e}=t;return Pt(t)+e}function kt(t){return{str:0,dex:0,con:0,app:0,pow:0,siz:0,edu:0,int:0,luc:0,...t}}function Me(t,e,r){const n={...t};if(e.reduce((i,l)=>i+n[l],0)<r+e.length*5)return e.forEach(i=>n[i]=5),n;let o=r;return e.forEach((i,l)=>{if(l===e.length-1){if(n[i]-o<5)return Me(n,e,o);n[i]=n[i]-o}else{let s=Qe(o+1)-1;n[i]-s<5&&(s=n[i]-5),o=o-s,n[i]=n[i]-s}}),n}function nc(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const r=document.implementation.createHTMLDocument(),n=r.createElement("base"),a=r.createElement("a");return r.head.appendChild(n),r.body.appendChild(a),e&&(n.href=e),a.href=t,a.href}const rc=(()=>{let t=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${e()}${t}`)})();function Ee(t){const e=[];for(let r=0,n=t.length;r<n;r++)e.push(t[r]);return e}function rn(t,e){const n=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return n?parseFloat(n.replace("px","")):0}function ac(t){const e=rn(t,"border-left-width"),r=rn(t,"border-right-width");return t.clientWidth+e+r}function oc(t){const e=rn(t,"border-top-width"),r=rn(t,"border-bottom-width");return t.clientHeight+e+r}function Ha(t,e={}){const r=e.width||ac(t),n=e.height||oc(t);return{width:r,height:n}}function ic(){let t,e;try{e=process}catch{}const r=e&&e.env?e.env.devicePixelRatio:null;return r&&(t=parseInt(r,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const we=16384;function lc(t){(t.width>we||t.height>we)&&(t.width>we&&t.height>we?t.width>t.height?(t.height*=we/t.width,t.width=we):(t.width*=we/t.height,t.height=we):t.width>we?(t.height*=we/t.width,t.width=we):(t.width*=we/t.height,t.height=we))}function an(t){return new Promise((e,r)=>{const n=new Image;n.decode=()=>e(n),n.onload=()=>e(n),n.onerror=r,n.crossOrigin="anonymous",n.decoding="async",n.src=t})}async function sc(t){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function uc(t,e,r){const n="http://www.w3.org/2000/svg",a=document.createElementNS(n,"svg"),o=document.createElementNS(n,"foreignObject");return a.setAttribute("width",`${e}`),a.setAttribute("height",`${r}`),a.setAttribute("viewBox",`0 0 ${e} ${r}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),a.appendChild(o),o.appendChild(t),sc(a)}const be=(t,e)=>{if(t instanceof e)return!0;const r=Object.getPrototypeOf(t);return r===null?!1:r.constructor.name===e.name||be(r,e)};function cc(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}function pc(t){return Ee(t).map(e=>{const r=t.getPropertyValue(e),n=t.getPropertyPriority(e);return`${e}: ${r}${n?" !important":""};`}).join(" ")}function dc(t,e,r){const n=`.${t}:${e}`,a=r.cssText?cc(r):pc(r);return document.createTextNode(`${n}{${a}}`)}function ea(t,e,r){const n=window.getComputedStyle(t,r),a=n.getPropertyValue("content");if(a===""||a==="none")return;const o=rc();try{e.className=`${e.className} ${o}`}catch{return}const i=document.createElement("style");i.appendChild(dc(o,r,n)),e.appendChild(i)}function fc(t,e){ea(t,e,":before"),ea(t,e,":after")}const ta="application/font-woff",na="image/jpeg",mc={woff:ta,woff2:ta,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:na,jpeg:na,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function yc(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}function mr(t){const e=yc(t).toLowerCase();return mc[e]||""}function hc(t){return t.split(/,/)[1]}function qn(t){return t.search(/^(data:)/)!==-1}function Qa(t,e){return`data:${e};base64,${t}`}async function Za(t,e,r){const n=await fetch(t,e);if(n.status===404)throw new Error(`Resource "${n.url}" not found`);const a=await n.blob();return new Promise((o,i)=>{const l=new FileReader;l.onerror=i,l.onloadend=()=>{try{o(r({res:n,result:l.result}))}catch(s){i(s)}},l.readAsDataURL(a)})}const xn={};function vc(t,e,r){let n=t.replace(/\?.*/,"");return r&&(n=t),/ttf|otf|eot|woff2?/i.test(n)&&(n=n.replace(/.*\//,"")),e?`[${e}]${n}`:n}async function yr(t,e,r){const n=vc(t,e,r.includeQueryParams);if(xn[n]!=null)return xn[n];r.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());let a;try{const o=await Za(t,r.fetchRequestInit,({res:i,result:l})=>(e||(e=i.headers.get("Content-Type")||""),hc(l)));a=Qa(o,e)}catch(o){a=r.imagePlaceholder||"";let i=`Failed to fetch resource: ${t}`;o&&(i=typeof o=="string"?o:o.message),i&&console.warn(i)}return xn[n]=a,a}async function gc(t){const e=t.toDataURL();return e==="data:,"?t.cloneNode(!1):an(e)}async function bc(t,e){if(t.currentSrc){const o=document.createElement("canvas"),i=o.getContext("2d");o.width=t.clientWidth,o.height=t.clientHeight,i==null||i.drawImage(t,0,0,o.width,o.height);const l=o.toDataURL();return an(l)}const r=t.poster,n=mr(r),a=await yr(r,n,e);return an(a)}async function wc(t){var e;try{if(!((e=t==null?void 0:t.contentDocument)===null||e===void 0)&&e.body)return await un(t.contentDocument.body,{},!0)}catch{}return t.cloneNode(!1)}async function kc(t,e){return be(t,HTMLCanvasElement)?gc(t):be(t,HTMLVideoElement)?bc(t,e):be(t,HTMLIFrameElement)?wc(t):t.cloneNode(!1)}const _c=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT";async function Sc(t,e,r){var n,a;let o=[];return _c(t)&&t.assignedNodes?o=Ee(t.assignedNodes()):be(t,HTMLIFrameElement)&&(!((n=t.contentDocument)===null||n===void 0)&&n.body)?o=Ee(t.contentDocument.body.childNodes):o=Ee(((a=t.shadowRoot)!==null&&a!==void 0?a:t).childNodes),o.length===0||be(t,HTMLVideoElement)||await o.reduce((i,l)=>i.then(()=>un(l,r)).then(s=>{s&&e.appendChild(s)}),Promise.resolve()),e}function Ac(t,e){const r=e.style;if(!r)return;const n=window.getComputedStyle(t);n.cssText?(r.cssText=n.cssText,r.transformOrigin=n.transformOrigin):Ee(n).forEach(a=>{let o=n.getPropertyValue(a);a==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),be(t,HTMLIFrameElement)&&a==="display"&&o==="inline"&&(o="block"),a==="d"&&e.getAttribute("d")&&(o=`path(${e.getAttribute("d")})`),r.setProperty(a,o,n.getPropertyPriority(a))})}function $c(t,e){be(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),be(t,HTMLInputElement)&&e.setAttribute("value",t.value)}function Pc(t,e){if(be(t,HTMLSelectElement)){const r=e,n=Array.from(r.children).find(a=>t.value===a.getAttribute("value"));n&&n.setAttribute("selected","")}}function Ic(t,e){return be(e,Element)&&(Ac(t,e),fc(t,e),$c(t,e),Pc(t,e)),e}async function Ec(t,e){const r=t.querySelectorAll?t.querySelectorAll("use"):[];if(r.length===0)return t;const n={};for(let o=0;o<r.length;o++){const l=r[o].getAttribute("xlink:href");if(l){const s=t.querySelector(l),u=document.querySelector(l);!s&&u&&!n[l]&&(n[l]=await un(u,e,!0))}}const a=Object.values(n);if(a.length){const o="http://www.w3.org/1999/xhtml",i=document.createElementNS(o,"svg");i.setAttribute("xmlns",o),i.style.position="absolute",i.style.width="0",i.style.height="0",i.style.overflow="hidden",i.style.display="none";const l=document.createElementNS(o,"defs");i.appendChild(l);for(let s=0;s<a.length;s++)l.appendChild(a[s]);t.appendChild(i)}return t}async function un(t,e,r){return!r&&e.filter&&!e.filter(t)?null:Promise.resolve(t).then(n=>kc(n,e)).then(n=>Sc(t,n,e)).then(n=>Ic(t,n)).then(n=>Ec(n,e))}const Ya=/url\((['"]?)([^'"]+?)\1\)/g,xc=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Dc=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Cc(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function Rc(t){const e=[];return t.replace(Ya,(r,n,a)=>(e.push(a),r)),e.filter(r=>!qn(r))}async function Fc(t,e,r,n,a){try{const o=r?nc(e,r):e,i=mr(e);let l;if(a){const s=await a(o);l=Qa(s,i)}else l=await yr(o,i,n);return t.replace(Cc(e),`$1${l}$3`)}catch{}return t}function Uc(t,{preferredFontFormat:e}){return e?t.replace(Dc,r=>{for(;;){const[n,,a]=xc.exec(r)||[];if(!a)return"";if(a===e)return`src: ${n};`}}):t}function eo(t){return t.search(Ya)!==-1}async function to(t,e,r){if(!eo(t))return t;const n=Uc(t,r);return Rc(n).reduce((o,i)=>o.then(l=>Fc(l,i,e,r)),Promise.resolve(n))}async function jt(t,e,r){var n;const a=(n=e.style)===null||n===void 0?void 0:n.getPropertyValue(t);if(a){const o=await to(a,null,r);return e.style.setProperty(t,o,e.style.getPropertyPriority(t)),!0}return!1}async function Vc(t,e){await jt("background",t,e)||await jt("background-image",t,e),await jt("mask",t,e)||await jt("mask-image",t,e)}async function Oc(t,e){const r=be(t,HTMLImageElement);if(!(r&&!qn(t.src))&&!(be(t,SVGImageElement)&&!qn(t.href.baseVal)))return;const n=r?t.src:t.href.baseVal,a=await yr(n,mr(n),e);await new Promise((o,i)=>{t.onload=o,t.onerror=i;const l=t;l.decode&&(l.decode=o),l.loading==="lazy"&&(l.loading="eager"),r?(t.srcset="",t.src=a):t.href.baseVal=a})}async function Bc(t,e){const n=Ee(t.childNodes).map(a=>no(a,e));await Promise.all(n).then(()=>t)}async function no(t,e){be(t,Element)&&(await Vc(t,e),await Oc(t,e),await Bc(t,e))}function Tc(t,e){const{style:r}=t;e.backgroundColor&&(r.backgroundColor=e.backgroundColor),e.width&&(r.width=`${e.width}px`),e.height&&(r.height=`${e.height}px`);const n=e.style;return n!=null&&Object.keys(n).forEach(a=>{r[a]=n[a]}),t}const ra={};async function aa(t){let e=ra[t];if(e!=null)return e;const n=await(await fetch(t)).text();return e={url:t,cssText:n},ra[t]=e,e}async function oa(t,e){let r=t.cssText;const n=/url\(["']?([^"')]+)["']?\)/g,o=(r.match(/url\([^)]+\)/g)||[]).map(async i=>{let l=i.replace(n,"$1");return l.startsWith("https://")||(l=new URL(l,t.url).href),Za(l,e.fetchRequestInit,({result:s})=>(r=r.replace(i,`url(${s})`),[i,s]))});return Promise.all(o).then(()=>r)}function ia(t){if(t==null)return[];const e=[],r=/(\/\*[\s\S]*?\*\/)/gi;let n=t.replace(r,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const s=a.exec(n);if(s===null)break;e.push(s[0])}n=n.replace(a,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,i="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",l=new RegExp(i,"gi");for(;;){let s=o.exec(n);if(s===null){if(s=l.exec(n),s===null)break;o.lastIndex=l.lastIndex}else l.lastIndex=o.lastIndex;e.push(s[0])}return e}async function Nc(t,e){const r=[],n=[];return t.forEach(a=>{if("cssRules"in a)try{Ee(a.cssRules||[]).forEach((o,i)=>{if(o.type===CSSRule.IMPORT_RULE){let l=i+1;const s=o.href,u=aa(s).then(c=>oa(c,e)).then(c=>ia(c).forEach(m=>{try{a.insertRule(m,m.startsWith("@import")?l+=1:a.cssRules.length)}catch(d){console.error("Error inserting rule from remote css",{rule:m,error:d})}})).catch(c=>{console.error("Error loading remote css",c.toString())});n.push(u)}})}catch(o){const i=t.find(l=>l.href==null)||document.styleSheets[0];a.href!=null&&n.push(aa(a.href).then(l=>oa(l,e)).then(l=>ia(l).forEach(s=>{i.insertRule(s,a.cssRules.length)})).catch(l=>{console.error("Error loading remote stylesheet",l)})),console.error("Error inlining remote css file",o)}}),Promise.all(n).then(()=>(t.forEach(a=>{if("cssRules"in a)try{Ee(a.cssRules||[]).forEach(o=>{r.push(o)})}catch(o){console.error(`Error while reading CSS rules from ${a.href}`,o)}}),r))}function jc(t){return t.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>eo(e.style.getPropertyValue("src")))}async function Mc(t,e){if(t.ownerDocument==null)throw new Error("Provided element is not within a Document");const r=Ee(t.ownerDocument.styleSheets),n=await Nc(r,e);return jc(n)}async function Lc(t,e){const r=await Mc(t,e);return(await Promise.all(r.map(a=>{const o=a.parentStyleSheet?a.parentStyleSheet.href:null;return to(a.cssText,o,e)}))).join(`
`)}async function Wc(t,e){const r=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await Lc(t,e);if(r){const n=document.createElement("style"),a=document.createTextNode(r);n.appendChild(a),t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)}}async function Gc(t,e={}){const{width:r,height:n}=Ha(t,e),a=await un(t,e,!0);return await Wc(a,e),await no(a,e),Tc(a,e),await uc(a,r,n)}async function zc(t,e={}){const{width:r,height:n}=Ha(t,e),a=await Gc(t,e),o=await an(a),i=document.createElement("canvas"),l=i.getContext("2d"),s=e.pixelRatio||ic(),u=e.canvasWidth||r,c=e.canvasHeight||n;return i.width=u*s,i.height=c*s,e.skipAutoScale||lc(i),i.style.width=`${u}`,i.style.height=`${c}`,e.backgroundColor&&(l.fillStyle=e.backgroundColor,l.fillRect(0,0,i.width,i.height)),l.drawImage(o,0,0,i.width,i.height),i}async function qc(t,e={}){return(await zc(t,e)).toDataURL("image/jpeg",e.quality||1)}async function la(t){return t?await qc(t,{canvasWidth:210*8,canvasHeight:297*8,pixelRatio:1,quality:.5,skipFonts:!0}):""}async function Jc({paperEls:t,paperKey:e}){return new Promise(r=>{ga(async()=>{const n={};(e===void 0||e==="front")&&(n.front=await la(t.front)),(e===void 0||e==="back")&&(n.back=await la(t.back)),r(n)})})}function Kc(t){const e=Fe({front:"",back:""});async function r(n){if(!t.front||!t.back)throw"Setup Error: `paperEls` not exists";return Jc({paperEls:t,paperKey:n}).then(a=>(Object.assign(e,a),e))}return{paperImages:e,printPaper:r}}const sa="/trpg-saikou/assets/qr-wechat-DiAmb7iW.jpg",ua="/trpg-saikou/assets/qr-alipay-BgFrBFLc.jpg",Xc="/trpg-saikou/assets/coc-card-empty-B5KHWtCw.pdf",ro=t=>(ce("data-v-e73a696c"),t=t(),pe(),t),Hc={class:"control-section"},Qc={class:"main-controls"},Zc={class:"more-controls"},Yc={class:"downloader-body"},ep={class:"downloader-items"},tp=ro(()=>p("div",{class:"downloader-hints"},[p("div",null,"建议 PC 端使用，移动端兼容性较差："),p("div",null,"· 如果头像未加载，重新生成几次即可")],-1)),np={class:"in-out-modal-body"},rp={class:"in-out-modal-panel"},ap={class:"in-out-modal-panel"},op={class:"reward-modal-body"},ip=ro(()=>p("div",{class:"reward-texts"},[p("div",null,"喜欢这个工具？欢迎投喂！"),p("div",null,"本项目为 github pages 纯前端项目，所以不用担心停运哦！")],-1)),lp={class:"reward-qr-container"},sp=["src"],up={class:"reward-qr-container"},cp=["src"],pp=L({__name:"ControlSection",props:{paperEls:{}},emits:["switch-paper","reset-card"],setup(t,{emit:e}){const r=t,n=ae(),a=fr(),o=xe(),i=H(""),l=Z(()=>{const _={};a==null||a.showingChildSkills.forEach((U,B)=>{_[B]=U});const $=JSON.stringify({pc:n==null?void 0:n.value,viewData:{...a,showingChildSkills:_}});return Zr.compressToEncodedURIComponent($)}),s=Z(()=>{const _=new Blob([l.value],{type:"text/plain;charset=utf-8"});return URL.createObjectURL(_)}),u=H(!1),c=H(!1),m=H(!1),d=H(!1),f=H("features"),A=H(0);function k(){if(!n)return;const _=Array.from({length:A.value%3+1}).map(()=>zn()).sort(($,R)=>Pt(R)-Pt($))[0];n.value.attributes=_,ke.success("已为您生成一组数据，看看符不符合心意吧！"),A.value++}const{paperImages:I,printPaper:S}=Kc(r.paperEls),C=Z(()=>{const{name:_,playerName:$}=(n==null?void 0:n.value)||{},R="【TRPG赛高】",U=[_,$].filter(B=>B).join("-");return`${R}${U}${U?"-":""}`});function E(_){if(o){if(o.printing){ke.info("已经在运行啦，请不要同时多次生成图片");return}o.printing=!0,ke.info({message:"图片生成中，页面会有轻微抖动，请稍候…",duration:1e3,onClose(){S(_).then(()=>{c.value=!0,o.printing=!1})}})}}function D(){if(n!=null&&n.value){if(!n.value.age||n.value.age==="0"){ke.error("请先在人物卡中填写年龄");return}n.value.attributes=tc(n.value.attributes,Number(n.value.age||0)),ke.success("已为您进行年龄修正！")}}function V(){qa(l.value),ke.success("已复制到剪贴板")}function y(){const _=Zr.decompressFromEncodedURIComponent(i.value),$=JSON.parse(_);if($&&$.viewData&&$.pc&&a&&n)try{n.value=$.pc,a.showingChildSkills=new Map(Object.entries($.viewData.showingChildSkills)),["jobSkills"].forEach(U=>{a[U]=$.viewData[U]}),ke.success("已成功导入"),u.value=!1}catch{ke.error("数据有误，无法导入。页面可能因此受损，建议刷新")}else ke.error("数据有误，无法导入")}function v(){o&&(o.showTotalSeparation=!o.showTotalSeparation,ke.info(`已切换成功率显示方式为：${o.showTotalSeparation?"全面（普通 | 困难 | 极难）":"极简"}`))}const w=Ze(d,_=>{if(_){const $=new Image;$.src=sa,ga(()=>{$.src=ua}),w()}});return(_,$)=>{const R=ue("el-tab-pane"),U=ue("el-tabs"),B=ue("el-input"),j=ue("el-button");return b(),P("div",Hc,[p("div",Qc,[h(Ae,{label:"天命一",icon:g(go),onClick:k},null,8,["icon"]),h(Ae,{label:"翻面",icon:g(bo),onClick:$[0]||($[0]=F=>_.$emit("switch-paper"))},null,8,["icon"]),h(Ae,{label:"保存",icon:g(wo),onClick:$[1]||($[1]=()=>E())},null,8,["icon"]),h(Ae,{label:"更多",icon:g(ko),onClick:$[2]||($[2]=F=>d.value=!d.value)},null,8,["icon"])]),d.value?(b(),te(U,{key:0,class:"more-container",modelValue:f.value,"onUpdate:modelValue":$[7]||($[7]=F=>f.value=F)},{default:T(()=>[h(R,{class:"more-pane",label:"更多功能",name:"features"},{default:T(()=>[p("div",Zc,[h(Ae,{label:"快速年龄修正",icon:g(_o),onClick:D},null,8,["icon"]),h(Ae,{label:"重置人物卡",icon:g(ba),onClick:$[3]||($[3]=F=>_.$emit("reset-card"))},null,8,["icon"]),h(Ae,{label:"导入/导出数据",icon:g(So),onClick:$[4]||($[4]=F=>u.value=!0)},null,8,["icon"]),h(Qu),h(Ae,{label:"下载空白卡PDF",icon:g(Ao),onClick:$[5]||($[5]=F=>g(Ja)(g(Xc),"【TRPG 赛高】空白卡.pdf"))},null,8,["icon"]),h(Ae,{label:"切换成功率模式",icon:g($o),onClick:v},null,8,["icon"]),h(Ae,{label:"投喂作者",icon:g(Po),onClick:$[6]||($[6]=F=>m.value=!0)},null,8,["icon"])]),h($u)]),_:1}),h(R,{class:"more-pane more-pane-less",label:"职业列表",name:"jobs"},{default:T(()=>[h(Fu)]),_:1}),h(R,{class:"more-pane more-pane-less",label:"武器列表",name:"weapons"},{default:T(()=>[h(Mu)]),_:1}),h(R,{class:"more-pane",label:"使用指南",name:"guide"},{default:T(()=>[h(hu)]),_:1})]),_:1},8,["modelValue"])):G("",!0),h(He,{modelValue:c.value,"onUpdate:modelValue":$[10]||($[10]=F=>c.value=F),title:"下载图片/数据"},{default:T(()=>[p("div",Yc,[p("div",ep,[h(In,{title:"正面",refreshable:"",previewImage:g(I).front,download:{url:g(I).front,name:C.value,type:"jpg"},onRefresh:$[8]||($[8]=()=>E("front"))},null,8,["previewImage","download"]),h(In,{title:"背面",refreshable:"",previewImage:g(I).back,download:{url:g(I).back,name:C.value,type:"jpg"},onRefresh:$[9]||($[9]=()=>E("back"))},null,8,["previewImage","download"]),h(In,{title:"车卡数据",download:{url:s.value,name:C.value,type:"txt"}},null,8,["download"])]),tp])]),_:1},8,["modelValue"]),h(He,{modelValue:u.value,"onUpdate:modelValue":$[12]||($[12]=F=>u.value=F),title:"导入/导出数据",onClosed:$[13]||($[13]=F=>i.value="")},{default:T(()=>[p("div",np,[p("div",rp,[h(B,{type:"textarea",value:l.value,rows:16,readonly:!0,resize:"none"},null,8,["value"]),h(j,{type:"primary",onClick:V},{default:T(()=>[re(" 复制以上内容 ")]),_:1})]),p("div",ap,[h(B,{type:"textarea",modelValue:i.value,"onUpdate:modelValue":$[11]||($[11]=F=>i.value=F),rows:16,placeholder:"将文本粘贴到这里",resize:"none"},null,8,["modelValue"]),h(j,{type:"primary",onClick:y},{default:T(()=>[re(" 导入以上内容 ")]),_:1})])])]),_:1},8,["modelValue"]),h(He,{modelValue:m.value,"onUpdate:modelValue":$[14]||($[14]=F=>m.value=F),title:"投喂作者"},{default:T(()=>[p("div",op,[ip,p("div",lp,[p("img",{class:"reward-qr",src:g(sa)},null,8,sp)]),p("div",up,[p("img",{class:"reward-qr",src:g(ua)},null,8,cp)])])]),_:1},8,["modelValue"])])}}}),dp=M(pp,[["__scopeId","data-v-e73a696c"]]),fp=L({__name:"PaperLayout",props:{setRef:{}},setup(t){const e=xe();return(r,n)=>{var a;return b(),P("div",{class:ee(["paper theme-light",{"printing-image":(a=g(e))==null?void 0:a.printing}])},[p("div",{class:"paper-content",ref:r.setRef},[dt(r.$slots,"default",{},void 0,!0)],512)],2)}}}),ao=M(fp,[["__scopeId","data-v-55bb5c66"]]),mp={class:"paper-section"},yp={class:"heading"},hp={class:"title"},vp={class:"subtitle"},gp={class:"body"},bp=L({__name:"PaperSection",props:{title:{},subTitle:{},centered:{type:Boolean,default:!0}},setup(t){return(e,r)=>(b(),P("div",mp,[p("div",{class:ee(["header",{"header-centered":e.centered}])},[dt(e.$slots,"header",{},()=>[p("h1",yp,[p("span",hp,O(e.title),1),p("span",vp,O(e.subTitle),1)])],!0)],2),p("div",gp,[dt(e.$slots,"default",{},void 0,!0)])]))}}),ve=M(bp,[["__scopeId","data-v-02b334f4"]]),wp={class:"label"},kp={class:"label-title"},_p={key:0,class:"label-hint"},Sp=["placeholder","readonly","value"],Ap=L({__name:"WritableRow",props:{label:{},hint:{},placeholder:{},char:{default:5},modelValue:{default:""},readonly:{type:Boolean}},emits:["update:modelValue","focus","blur"],setup(t){const e=t,r=xe(),n=Fe({width:`${e.char}em`});return(a,o)=>{var i,l;return b(),P("div",{class:ee(["writable-row",{"writable-row-with-hint":!!a.hint,"printing-image":(i=g(r))==null?void 0:i.printing}])},[p("div",wp,[p("div",kp,O(a.label),1),a.hint?(b(),P("div",_p,O(a.hint),1)):G("",!0)]),p("input",{type:"text",class:"input",style:$t(n),placeholder:(l=g(r))!=null&&l.printing?"":a.placeholder,readonly:a.readonly,value:a.modelValue,onInput:o[0]||(o[0]=s=>a.$emit("update:modelValue",s.target.value)),onFocus:o[1]||(o[1]=s=>a.$emit("focus")),onBlur:o[2]||(o[2]=s=>a.$emit("blur"))},null,44,Sp)],2)}}}),oe=M(Ap,[["__scopeId","data-v-94c60336"]]),$p={class:"flatten-tree"},Pp={class:"group-label"},Ip={class:"options"},Ep=["onClick"],xp=L({__name:"FlattenTree",props:{tree:{}},emits:["select"],setup(t){return(e,r)=>(b(),P("div",$p,[(b(!0),P(X,null,Y(e.tree,n=>(b(),P("div",{class:"group",key:n.key},[p("div",Pp,O(n.label),1),p("div",Ip,[(b(!0),P(X,null,Y(n.children,a=>(b(),P("a",{class:"option",key:a.key,onClick:o=>e.$emit("select",a,n)},O(a.label),9,Ep))),128))])]))),128))]))}}),oo=M(xp,[["__scopeId","data-v-7cc86512"]]),hr={mounted(t,e){t._clickOutsideEvent=function(r){t===r.target||t.contains(r.target)||e.value(r,t)},document.addEventListener("click",t._clickOutsideEvent),document.addEventListener("focus",t._clickOutsideEvent,!0)},unmounted:function(e){document.removeEventListener("click",e._clickOutsideEvent),document.removeEventListener("focus",e._clickOutsideEvent,!0)}},Dp={class:"rel only-wide"},Cp={key:0,class:"job-selector"},Rp={class:"job-selector-header"},Fp={class:"only-compact"},Up={class:"info-row"},Vp={class:"info-row"},Op=L({__name:"InvestigatorSection",setup(t){const e=ae(),r=xe(),{jobGroups:n}=Rt,a=H(!1),o=H("");function i(){a.value=!0}function l(){a.value=!1}Ze(()=>a.value,()=>{o.value=""});const s=Z(()=>{const c=o.value;return n.reduce((d,f)=>{const{name:A,pinyin:k,jobs:I}=f,S=I.reduce((C,E)=>((!c||A.includes(c)||k.includes(c)||E.name.includes(c)||E.pinyin.includes(c))&&C.push({label:E.name,key:E.name}),C),[]);return S.length&&d.push({label:A,key:A,children:S}),d},[])});function u(c){e&&(e.value.job=c,l())}return(c,m)=>g(e)?(b(),te(ve,{key:0,title:"调查员",subTitle:"Investigator"},{default:T(()=>{var d;return[p("div",{class:ee(["info-section",{"printing-image":(d=g(r))==null?void 0:d.printing}])},[h(oe,{label:"姓名",placeholder:"角色姓名",modelValue:g(e).name,"onUpdate:modelValue":m[0]||(m[0]=f=>g(e).name=f)},null,8,["modelValue"]),h(oe,{label:"玩家",placeholder:"玩家昵称",modelValue:g(e).playerName,"onUpdate:modelValue":m[1]||(m[1]=f=>g(e).playerName=f)},null,8,["modelValue"]),h(oe,{label:"时代",modelValue:g(e).time,"onUpdate:modelValue":m[2]||(m[2]=f=>g(e).time=f)},null,8,["modelValue"]),Ye((b(),P("div",Dp,[h(oe,{label:"职业",modelValue:g(e).job,"onUpdate:modelValue":m[3]||(m[3]=f=>g(e).job=f),placeholder:"自定义职业或选择预设职业",onFocus:i},null,8,["modelValue"]),h(Xn,{name:"slide-up"},{default:T(()=>[a.value?(b(),P("div",Cp,[p("div",Rp,[Ye(p("input",{class:"job-search-input",type:"text",placeholder:"输入职业名称或拼音可以进行搜索","onUpdate:modelValue":m[4]||(m[4]=f=>o.value=f)},null,512),[[Io,o.value]])]),h(oo,{tree:s.value,onSelect:m[5]||(m[5]=f=>u(f.label))},null,8,["tree"])])):G("",!0)]),_:1})])),[[g(hr),l]]),p("div",Fp,[h(oe,{label:"职业",modelValue:g(e).job,"onUpdate:modelValue":m[6]||(m[6]=f=>g(e).job=f),placeholder:"自定义或从“更多”→“职业列表”中选择"},null,8,["modelValue"])]),p("div",Up,[h(oe,{label:"年龄",char:6,modelValue:g(e).age,"onUpdate:modelValue":m[7]||(m[7]=f=>g(e).age=f)},null,8,["modelValue"]),h(oe,{label:"性别",char:6,modelValue:g(e).gender,"onUpdate:modelValue":m[8]||(m[8]=f=>g(e).gender=f)},null,8,["modelValue"])]),p("div",Vp,[h(oe,{label:"住地",char:6,modelValue:g(e).location,"onUpdate:modelValue":m[9]||(m[9]=f=>g(e).location=f)},null,8,["modelValue"]),h(oe,{label:"故乡",char:6,modelValue:g(e).hometown,"onUpdate:modelValue":m[10]||(m[10]=f=>g(e).hometown=f)},null,8,["modelValue"])])],2)]}),_:1})):G("",!0)}}),Bp=M(Op,[["__scopeId","data-v-81d21179"]]),Oe=t=>(ce("data-v-cdaf828e"),t=t(),pe(),t),Tp=Oe(()=>p("div",{class:"ponits-button-text"},"花式加点",-1)),Np=[Tp],jp={class:"modal-body"},Mp={class:"method-section"},Lp={class:"method-section-header"},Wp=Oe(()=>p("div",{class:"method-section-title"},"枫笛式",-1)),Gp={class:"header-action"},zp={class:"method-section-content"},qp={class:"kaede-desc-row"},Jp={class:"kaede-desc-col"},Kp={key:0,class:"kaede-value-column"},Xp={class:"kaede-desc-col"},Hp={key:0,class:"kaede-value-column"},Qp={key:0,class:"column-section-content"},Zp={class:"column-section-content-column"},Yp={class:"kaede-choice-row-label"},ed={class:"column-section-content-column"},td={class:"kaede-choice-row-label"},nd={class:"column-section-content-column-actions"},rd={class:"method-section"},ad={class:"method-section-header"},od=Oe(()=>p("div",{class:"method-section-title"},"天命式",-1)),id={class:"header-action"},ld=Oe(()=>p("div",{class:"header-action-label"},"组数",-1)),sd={class:"method-section-content"},ud=Oe(()=>p("div",null,"点击“生成”后，点击数据组卡片使用",-1)),cd=["onClick"],pd={class:"action-roll-result-item action-roll-result-item-sum"},dd={class:"method-section"},fd={class:"method-section-header"},md=Oe(()=>p("div",{class:"method-section-title"},"购点式",-1)),yd={class:"header-action"},hd=Oe(()=>p("div",{class:"header-action-label"},"总点数",-1)),vd={class:"method-section-content"},gd=Oe(()=>p("div",null,"点击“购点”，填写，点击“应用”",-1)),bd={key:0,class:"column-section-content"},wd={class:"column-section-content-column"},kd={class:"column-section-content-column"},_d={class:"column-section-content-column-actions"},Sd=L({__name:"BuyPointsButton",props:{cheating:{type:Boolean}},setup(t){const e=ae(),r=H(!1);function n($){e!=null&&e.value&&(Object.entries($).forEach(([R,U])=>{e.value.attributes[R]=U||void 0}),r.value=!1,y())}const a=H(kt({})),o=H(!1),i=H(0),l=H({});function s(){y(),a.value=zn(),l.value.luc="luc",o.value=!0,i.value++}function u(){if(Object.values(l.value).filter(U=>U).length<9){ke.error("请完成所有选择");return}const R=kt({});Object.entries(l.value).forEach(([U,B])=>{B&&(R[U]=a.value[B])}),n(R)}function c($){return Object.values(l.value).some(R=>R===$)}const m=H(5),d=H(0),f=H([]);function A(){y(),f.value=Array.from({length:m.value},()=>zn()),d.value++}function k($){n($)}const I=H(460),S=H(!1),C=H(kt({})),E=Z(()=>I.value-En(C.value));function D(){y(),S.value=!0,C.value=kt({})}function V(){n(C.value)}function y(){o.value=!1,f.value=[],S.value=!1}const v=[{key:"str",label:"力量",hint:"STR"},{key:"con",label:"体质",hint:"CON"},{key:"dex",label:"敏捷",hint:"DEX"},{key:"app",label:"外貌",hint:"APP"},{key:"pow",label:"意志",hint:"POW"}],w=[{key:"siz",label:"体型",hint:"SIZ"},{key:"edu",label:"教育",hint:"知识 EDU"},{key:"int",label:"智力",hint:"灵感 INT"}],_=[{key:"luc",label:"幸运",hint:"Luck"}];return($,R)=>{const U=ue("el-button"),B=ue("el-option"),j=ue("el-select"),F=ue("el-input");return b(),P(X,null,[p("button",{class:"ponits-button web-only",onClick:R[0]||(R[0]=x=>r.value=!0)},Np),h(He,{modelValue:r.value,"onUpdate:modelValue":R[3]||(R[3]=x=>r.value=x),title:"花式加点"},{default:T(()=>[p("div",jp,[p("div",Mp,[p("div",Lp,[Wp,p("div",Gp,[h(U,{size:"small",type:"default",onClick:s},{default:T(()=>[re(" 生成 "),i.value?(b(),P(X,{key:0},[re(" (已生成 "+O(i.value)+" 次) ",1)],64)):G("",!0)]),_:1})])]),p("div",zp,[p("div",qp,[p("div",Jp,[re(" 分配 5组 3D6×5 到左侧 "),o.value?(b(),P("span",Kp,[re(" · "),(b(),P(X,null,Y(v,x=>p("span",{key:x.key},O(a.value[x.key]),1)),64))])):G("",!0)]),p("div",Xp,[re(" 分配 3组 (2D6+6)×5 到右侧 "),o.value?(b(),P("span",Hp,[re(" · "),(b(),P(X,null,Y(w,x=>p("span",{key:x.key},O(a.value[x.key]),1)),64))])):G("",!0)])]),o.value?(b(),P("div",Qp,[p("div",Zp,[(b(),P(X,null,Y(v,x=>p("div",{key:x.key,class:"kaede-choice-row"},[p("div",Yp,O(x.label),1),h(j,{modelValue:l.value[x.key],"onUpdate:modelValue":N=>l.value[x.key]=N,placeholder:"请选择",size:"small",clearable:""},{default:T(()=>[(b(),P(X,null,Y(v,N=>h(B,{key:N.key,label:a.value[N.key],value:N.key,disabled:c(N.key)},null,8,["label","value","disabled"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])])),64))]),p("div",ed,[(b(),P(X,null,Y(w,x=>p("div",{key:x.key,class:"kaede-choice-row"},[p("div",td,O(x.label),1),h(j,{modelValue:l.value[x.key],"onUpdate:modelValue":N=>l.value[x.key]=N,placeholder:"请选择",size:"small",clearable:""},{default:T(()=>[(b(),P(X,null,Y(w,N=>h(B,{key:N.key,label:a.value[N.key],value:N.key,disabled:c(N.key)},null,8,["label","value","disabled"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])])),64)),p("div",null,[p("span",null,"总点数 "+O(g(Pt)(a.value)),1),p("span",null,"("+O(g(En)(a.value))+")",1)]),p("div",nd,[h(U,{size:"small",type:"default",onClick:u},{default:T(()=>[re(" 应用 (幸运 "+O(a.value.luc)+") ",1)]),_:1})])])])):G("",!0)])]),p("div",rd,[p("div",ad,[od,p("div",id,[ld,h(F,{size:"small",type:"number",min:1,max:10,modelValue:m.value,"onUpdate:modelValue":R[1]||(R[1]=x=>m.value=x)},null,8,["modelValue"]),h(U,{size:"small",type:"default",onClick:A},{default:T(()=>[re(" 生成 "),d.value?(b(),P(X,{key:0},[re(" (已生成 "+O(d.value)+" 次) ",1)],64)):G("",!0)]),_:1})])]),p("div",sd,[ud,(b(!0),P(X,null,Y(f.value,(x,N)=>(b(),P("div",{key:N,class:"action-roll-result"},[(b(!0),P(X,null,Y([...v,...w,..._],W=>(b(),P("div",{key:W.key,class:"action-roll-result-item",onClick:Q=>k(x)},O(W.label)+" "+O(x[W.key]),9,cd))),128)),p("div",pd," 总点数 "+O(g(Pt)(x))+" / 含运 "+O(g(En)(x)),1)]))),128))])]),p("div",dd,[p("div",fd,[md,p("div",yd,[hd,h(F,{size:"small",type:"number",min:0,max:720,modelValue:I.value,"onUpdate:modelValue":R[2]||(R[2]=x=>I.value=x)},null,8,["modelValue"]),h(U,{size:"small",type:"default",onClick:D},{default:T(()=>[re(" 购点 "),S.value?(b(),P(X,{key:0},[re(" (剩余 "+O(E.value)+") ",1)],64)):G("",!0)]),_:1})])]),p("div",vd,[gd,S.value?(b(),P("div",bd,[p("div",wd,[(b(),P(X,null,Y(v,x=>h(oe,{key:x.key,label:x.label,hint:x.hint,modelValue:`${C.value[x.key]??""}`,"onUpdate:modelValue":N=>C.value[x.key]=Number(N)},null,8,["label","hint","modelValue","onUpdate:modelValue"])),64))]),p("div",kd,[(b(),P(X,null,Y(w,x=>h(oe,{key:x.key,label:x.label,hint:x.hint,modelValue:`${C.value[x.key]??""}`,"onUpdate:modelValue":N=>C.value[x.key]=Number(N)},null,8,["label","hint","modelValue","onUpdate:modelValue"])),64)),(b(),P(X,null,Y(_,x=>h(oe,{key:x.key,label:x.label,hint:x.hint,modelValue:`${C.value[x.key]||""}`,placeholder:"不含运请忽略","onUpdate:modelValue":N=>C.value[x.key]=Number(N)},null,8,["label","hint","modelValue","onUpdate:modelValue"])),64)),p("div",_d,[h(U,{size:"small",type:"default",onClick:V},{default:T(()=>[re(" 应用 ")]),_:1})])])])):G("",!0)])])])]),_:1},8,["modelValue"])],64)}}}),Ad=M(Sd,[["__scopeId","data-v-cdaf828e"]]),vr=t=>(ce("data-v-ba95d2f9"),t=t(),pe(),t),$d={class:"info-section"},Pd={class:"attributes-group"},Id=vr(()=>p("div",{class:"dice-hint"},"🎲 3D6×5",-1)),Ed=vr(()=>p("div",{class:"divider"},null,-1)),xd={class:"attributes-group"},Dd=vr(()=>p("div",{class:"dice-hint"},"🎲 (2D6+6)×5",-1)),Cd={class:"attributes-actions"},Rd={key:0,class:"ponits-sum"},Fd={class:"web-only"},Ud=L({__name:"AttributesSection",setup(t){const e=ae(),r=[{key:"str",label:"力量",hint:"STR"},{key:"con",label:"体质",hint:"CON"},{key:"dex",label:"敏捷",hint:"DEX"},{key:"app",label:"外貌",hint:"APP"},{key:"pow",label:"意志",hint:"POW"}],n=[{key:"siz",label:"体型",hint:"SIZ"},{key:"edu",label:"教育",hint:"知识 EDU"},{key:"int",label:"智力",hint:"灵感 INT"}],a=Z(()=>{if(!e)return 0;const{str:i,con:l,dex:s,app:u,pow:c,siz:m,edu:d,int:f}=e.value.attributes,A=[i,l,s,u,c,m,d,f];return A.every(I=>I)?A.reduce((I,S)=>I+(S||0),0):0});function o(i,l){e&&(e.value.attributes[i]=l?+l:void 0)}return(i,l)=>g(e)?(b(),te(ve,{key:0,title:"属性",subTitle:"Characteristics"},{default:T(()=>[p("div",$d,[p("div",Pd,[Id,(b(),P(X,null,Y(r,s=>{var u;return h(oe,{key:s.key,label:s.label,hint:s.hint,modelValue:`${((u=g(e))==null?void 0:u.attributes[s.key])??""}`,"onUpdate:modelValue":c=>o(s.key,c)},null,8,["label","hint","modelValue","onUpdate:modelValue"])}),64))]),Ed,p("div",xd,[Dd,(b(),P(X,null,Y(n,s=>{var u;return h(oe,{key:s.key,label:s.label,hint:s.hint,modelValue:`${((u=g(e))==null?void 0:u.attributes[s.key])??""}`,"onUpdate:modelValue":c=>o(s.key,c)},null,8,["label","hint","modelValue","onUpdate:modelValue"])}),64)),p("div",Cd,[a.value?(b(),P("div",Rd,"总点数 "+O(a.value),1)):G("",!0),p("div",Fd,[h(Ad)])])])])]),_:1})):G("",!0)}}),Vd=M(Ud,[["__scopeId","data-v-ba95d2f9"]]),Od="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAAG+xJREFUeF7tXXuwzdUX3wh5/Sg9kEd5JnmFEuJKF1Oe08MjNV4jaUIxI5Q0lUncGJlKec3QlfSkyZSJROOVd1Qq8m5Q8rpRHr/5HN0z957vWut8977f7znnstbM+Ws/vvu7vvtz1t5rr/1ZBYwxF0w+li+//NKkp6cH9ganT582xYoVC6w/dNSjRw+TmZlJ9pmRkWGGDx/Olj399NPWY7nrrrvMypUryXa//PKLqVatmnWfLg3wbdq1a+fSNGXaFFCA5P4WCpDg5qYCJDhdOvekFsSrOrUgztPJ01AtSIxK1IIEN7nUggSnS+ee1IKoBXGePD4aqgVRC+JjmrhVUQvipjfrVrNmzTJ9+vQh233xxRembdu21n1yDVyXWC1btjTffPMN2W337t3NvHnz1IsV2FcKtqMDBw6YChUqkJ2yFuSGG24w+/btC3Ykjr0BHLNnzw4UIFdffbU5evSo1YiqV69ufv75Z7INwNGqVSur/lAZbly4em0FoJs/fz47FmzUky3482rfvj05DHzTmTNnJnuIkecDHAcPHlSA5NSAAiT8uakACV/HkSeoBfEqWi1IcJNPLQihS7UgwU0wrie1IOHrWC0Io2O1IMFNPrUgakGCm00WPV3SFqRixYpm7969pDpOnDhh1q9fb6Gqi1ULFChgLlygYyOrVq1qKleuTPbZr18/1uPhelDYqVMng/eIFWmM8OzNnTuXHOOWLVvMkCFDrHXSrFkzNthSGsuHH35ovv/+e/J5U6ZMMXXr1rUeS9ANlixZwrrg8U2nT59OPnL37t1m165d1sOR9NWoUSNTqlQpsk/M9f3795NlTm7e7777zjRp0sT6BaQGL7/8shk1ahRZJYxNeqCDz0Nnr732mhk2bJh1D++9957p1q2bdbtENnC1IJgLzz77bKBDxZwFSCgJfImlAAnu2ylAvLpUgBDzSy2IHejUgtjpSy2Inb5SprZaELUgviajWhBfaopWUgtipy+1IHb6SpnaakHyqQWR3LxhbNLHjRtnRo4cSU5cVzfvunXrzKlTp8g+09LSAgXJsWPHzMaNG2lXoeDeXr16tYG3h5KdO3eaPXv2kGVjxowxrVu3tn6Hpk2bmiuvvJJsh4DL8+fPe8ok92nJkiVN48aNyf5c3byJ3qRftm7eW2+91Wzbto38eH/++ae56qqrrCcY12DFihUGIe+2AhfvxIkTyWaI9J00aZJtl2J9ibQBZBUI97cRnLfgDIgSdfPaaDJO3TD2IAoQr9IVIF6dXLbnIAoQBUi2BnSTTlgoBYgCRAEiXLlVgChAFCAKEKudoO5BAtqDJNrNK23SXd288LBwEa9wKRctWtSjrcKFC7NBk7jDjkhZTrhIZXjSPvjgA7IZaEcnTJjAeoFWrVpFlknRvAju5CKjCxYsyEZUjx071gpsqFyvXj2zefNmsp3EatK3b18zY8YMsl2i3byI0gZxAyWXdDSvBBBuJsDVmZWVRRbj37dGjRpkGUgSOFYTMJr07NmTbJdo0gYQT/z666/WQOAaqJuX0EwYB4VhuHkVIN6PpwAJaIkl0f4oQLxKVgvi1YkeFAZmqI1RC2KnTNc76WpB1IJENaBLLF1iqZtXcPMqQBQgoQFEcvPCJfb222/brQni1G7Tpo3h6DJd3bxvvPGGOXToEO2+YyJs4eYdPXo02QYBjpybFxGvnMDNu2DBArK4efPmLGkDsjMh+pYSZK3CnRBKoK9KlSqRZa+//rr5448/yDLcAy9UqJDVd73++uvN448/TrZxdfPCG7h06VKr74bKUtTxgAEDWP7dwN28VhoMoHJ+IG1wjeaV1IO7Ik899ZQ1QFxVzp3juPbnukl3fZ5ru8CDFV0H4tpOAeLVnGRBXPWsAPFqzumg0PUDuLZTgChAXOeOn3ZqQfxoKY91dInlVaAusfI4qfw2VwuiFsTvXHGppxbERWuWbdSCXGYWpHTp0qwHRXKnhVG2cOFCs2HDBtaVmJ6eTpa9+eabrJt3xIgRLHnBCy+8QPaHlAlPPvkkWSYBBBGvXbt2JdtJpA2uXixEynJu3qlTp7JuXm6Tjnvq48ePJ8cPN+/AgQPZbwNXNSW33XabAT8yJWHMIalP6Pn48eP0WIwxNJu05T9osqpL5NUuF6b+/vtvU7x4cfJ1qlWrZhDRS4mUgi2MHIWuoSZ4B7ClUIJ3pxhPcP5TtmxZsg10vHXrVmuAJGu+2D73ks5yqwDxTgcFiB1EFCAx+lIL4uXMUgtiB6qUqq1LLO/nwHKPC9tRC2I3fdWCqAWJakD3IF7wKEAUIAoQwagUWLZsGenFcnW1SQbMtU+pXf369VkKURduXrg0cS+dEni3br/9drJMSkv38MMPs6nbQC2Ke+mUoGzo0KFk2fbt21kXdsOGDQ3c9JTgTj3niePcvH/99RerY+h/06ZN5LNAcsEROkjfNIw55NznhaAj1OyWeClXWwKI62ARWJiZmUk2z8jIMGA2oQRlHHhcx5LIPYjrGFOpXQEFSO7PoQAJzouVShPddSwKkBjNKUAUIDmnhAJEARLaJt31XzuV2ilAFCAKEAGRChAFiAJEAkhaWpp1sGLt2rUNCBGClJkzZ5o5c+aQXYJPlkoNhspS2axZs8yNN95I9tm5c2cygrNIkSJsKjhXV6HEzQsCjB07dpBd16xZkyUakFKwwTXMuVcl13fQbl7X+TF37lyWt1f63uBWa9asmetjyXZOB4VNmjQxa9euDXQgYNTACwYpIK6uU6cO2SXSr8G/HyuIZsWJcpAC9hG4eoMUKcstUsEh/N5WOIC4xmLZPj+7vit59aeffsqG0LuORQESozkFiHcqKUAs4aUWxE5hakHs9KUWhNCXLrHsJpEusbz60iWW3RyKJM/RPYh/pekexKurfL8HwX2Qtm3bkrMAV0Fxq5CS/LBJx11pLhYLSXlw7ZYSaZOO5DmIx6Ik6HB3/9DMXVNaYoFngKM6/eSTTwy8k0GKE0CkAXTp0sV8/PHHZBW4hp944gmy7KWXXmI5caXnARxLlixJCEBcM0y5fjCAAxG9lLgCxGUsIKvg+HzxJwRSCkrwbcCNRQlc8CCXsBUAhCOJwNzDMstW4GovX7482UwBEqMWyYulAPHOIQWIJRzVglgqTKiuFsSrHLUglvNLl1hehbkeFHKq1yWW5aTUPYhXA1KOQlf1qgVRCxLVgG7SvZNBAZJPAYKTdAS9UQI3G9xtlKgXy86WJBogRYsWNWfOnPEMEi5xhJtQEsYmHYfG+MPk5hDn5pW8WMjM3LhxY7LP/fv3s0GhCQ13dwUI3IFwC9qKdFDI9eVKHGc7tuz6OOsYNmyYa3PrdjgHqVq1qlW7MGKxwnDzWr2Uz8oKkBhFKUC8M0cB4hNNea2mFsSrQbUgdrNKcvPa9eSvtloQtSBxZ4pakLgqCqaCWhC1INka0D0IgSkFiAIk3wHEhXr0f//7n0GGIEqOHDkSCTOnBJmiuOC7cePGsXfBX331VbN48WKyT7gZuUA6yYv17bffmn///dfT57lz51gXIxLO4740JceOHTMbN24ky5CFCff4KZGoRyW7jTD+a6+9lqwi0XoOHjyYpRFNS0sj+wOtKpcNSsowhRN4LpAR3xPflZI9e/awSX7g+u7YsSPZrm7dumyiH9c1kFOwonSjENGU8EfbCkKcR40aZdssEuqeqGheaXCuGaZcN+nShSlpnC7Uo1J/rucgUp+X9I1CBYj300sp2BQgXn0pQIi/D7UgdsZTLYhXX/niyq1aELUg2RqQLkzpEsvuDzHCiaV7EP9KUwuiFsTXbNFNui81RSvpJt1OX05eLGRZWrNmDfkkaYlVsWJFU716dbJdmzZtTIsWLazdliNGjGBZHl2oR5FF6tSpU+Q4EKfFvTdck1xAJd4NEaqULFiwgKVxldy1EvWoNAV69eplEL1KybJly9imX3/9NVl2+PBhdvz41siuRQnugNeqVYssk6hHJZ24Uo+uWrWKjGLG4JwAIrl5EeretWtX8sURpsxx+obBi2X3X3GxNtKvZWVlkU0TfSfdZfxhtHENNQFhQ/v27ckh9enTx4CPORWkQoUK5uDBg/SfszHGmrxaAeLVZRg3ClNh8mAMChDLL6EAkQGCZUAyJKx0kwoQy6+pAFGAZGsAxHw4TadEl1iEVnQPYoxakIsTQwGiAIlqIOceRAFyCQGEyzAludNuvvlmg5tdlEhuXtCOTp06lWw3Y8YMNlJWGotrGee2lNy8uM/NualbtWplsvtMNkA2bdpEJgeC4iV9cSvtkydPshG0iNblslkhiJTjTb7vvvvY/PDSil/KuiW1W79+vUFUMiUPPfSQgbuaksBvFLousSy3QXmu7kJe7dfNm2yABE0cJykbIeZbtmwhq4BYvF27dnn+Vjk7cL1yi30zmE1sRQESo7EguHkVIBeVqgAJcA9ii+y81lcLklcNXmyvFsRSj7rESr4XS5dY3kmrSyxLICfSghQuXNj89ttv0RF+/vnnkcQ43KYx9lVKlSplcLHq3nvvjRYhvXXsleHsg0IFiALEEg7e6okCCFgMV69e7bk/DopP7Hf8yOnTpw1oQXMKvC5NmzbNdXdbAcJr09mCjB07lozFktyBIC/o378/OZoff/zR4K4CJdLm1dVd+8gjj1hTaWJs48ePJ/Oh499+9OjR5PgRcjFlyhSyrEqVKgYBeJCc7wmiCo5kgCNCiH0A+qBk0aJFucgUsgGCqOLdu3eTbeBm50guEDBaqFAhTzsAFPqiRHLzwi0+Z84csh1c0Vw2KFjA1q1bk+0KFixouJCaeC5sl1CcwKN5pX9EuOgGDRrk50/Tdx14StLT033XT0RFvwDJ61g4gEj9utwHcY3FksaBSN5+/fqRVfAHxZFXY/5wZ3DS8+DibdSokbXKFSDWKovfwC9AevfuzbKmZz8F1DmzZ8+2siAKEK8GFCDx523CavgFyBVXXGHAwyUJljxnz55VgPynAbUgltM41ZdYeJ0NGzYYhEiUKFEisn7GkgVRsL///ruvty1XrlyEjA/WBODDjccdO3Z4yPv8rLF1ieVL5dFKusSy05ev2pQz4rHHHou4aeG9AoskNqk20qBBgwipBbxZcBNPmzbN01wBwmtUl1g2sy3kuskONdE9SIB7kOeff5508yKCMyMjg9S1RNogfRzJi+VK2iBNRqxXOf5a8MKChCFW4Obl6IeOHj0qunmx6YakMkDgpubSqUnjllyr3Dd3dbvG0x83lvfff9/88MMP5HAkC4JDWO7Qlg1WBPMFWEgoQa43LkehBBBXdnepz0TS/uSXaF5XA4mDS9schdgbIR7LVpBWD1ccKIGL97nnniPLMIe4HIXIj8mdGWG+cjkKRdKGCwwcFSDe76MA8epEAULgWC2IVymXwo1CtSDe76pLrBidXAr3QWyXO9n1FSAKkKgGEhWs6DpZXdr5cfNK/SpAFCAKEAEhChALgKAqR2wgpWBDajOOhxYnx4j2pURKwTZhwoTI4Rgljz76qLnpppvIMriVDx06RJY988wznhByVERoB/YTlEjcvGXKlDE4zIPEc1O6WAc/bbItyNChQ1kihczMTANeXEqQJev8+fOeIri+mzdvTrbBqT7n0ZTcvCB6wOU6SqRoXqRuW7t2Ldlu+/bt7PeW3LwiNy/nxfLzQag6YeQHQRg5F7AH7iWOOQPhHNu2bSNfBWcBWGaFIckGCAC+cuVK8tXgiUO4SbIl30TzKkCCnyoKkPg6VYDE11GuGlICHbUg/pSZvcRSC+LVl3MslloQf5PPppZakPjaUgsSX0eXrAWxfPXAq6sFUQsS1UAqbtIDn/GWHSpAAgQIx82LKFhER9qK5MVC5qnBgweTXYL9o3LlymTZTz/9xGYAql+/PuuNQhAdYoUoQWQuXLM2cuDAATalGMYxefJkm+7i1oWbmvsGUgq2tLQ0s3z5crL/Zs2amSJFipBl8aJv4w44pgIIFii3MarB/Q63LCWgNMKPkg4dOrB3y6GTFStWkO0QHlWyZEmyTBone2EKzCX79u2z1UnEt+2Sgs36QT4aBO3m9Rus6GNovqqAO2vSpElk3Xnz5pnu3buTZYnkxfL1IgFWkrh5u3TpwjKluA5BAWKhOQWIhbJCqqoACVCxakECVGaKdKUACfBDKEACVGaKdKUACfBDKEACVGaKdKUACfBDKEACVGaKdJUyAClWrJi54447SLXUrl3b4G4wJUeOHGFdq0iD9dlnn1m72iQ3nFQmkTYgQjgrK8szFoR8I2KUEr8p2Gzm0oIFC1hd7tq1i+XYBf9xt27dyEe5pmDj+HCl90Hg4/Tp08kq+N7Dhw8ny6QUbHPnzmXvqyP9H3jCKOnRo0eEf8xWxBRsxhiS1UR6iJQGWmoXBjev9DycgdSpU4esEuaFKZsPBEaNYcOG2TSJ1JUAYt3Zfw3wpwiiahuREui4ZrlFXB53ZUIaG87g/BKC5+xHJG1QgORWeRBXbm0mmALEqy0FiM0MykNdtSB2ylML4tVXvqce1SWWHQik2goQBUhUA7oH8U4GBYgFQBCLBfI4Slx5scLYpIPdnbtyu3Xr1giLOiX5ASDYnyAeixIpFsvVpnAAAas8R1cK/ULPlISxSccc4pgVEQcIdkVbcdqkS8GKuKQPfl5bwYtx7mFkFQJxAyW4XJOd3iy2HInqARJb4aJ5QcxQvHhxsju4NBGPFaS4btKlMSCitUWLFtbDTBUL4ko9av3CPho4BSsqQHxo1mcVBYhXUQoQYvKoBfGJKB/V1IL4UJLPKmpBYhSlS6zkHxSqBVELEtWALrF0iRXVgG7SvZNBAaIASRpAcJLOuXk5ZsX8ssRCLBZ35RYUohx9qrT0ThU3b75fYvnc33iqhXUOkp6eTg4p6HB3KZrXVScIVJw4cSLZXO+ke9WSMuHurqQN0kRRgHi1owCx+2tRgNjpK3JIqBYkt9KU1cRyEgnVndy8ro9XC6IWxHXuZLdTC2KpQbUgXoWpBbGcRGpBvBpwyQ+im/TgJp5rTwm3IEFTj0ovjiuRHD2nRHspleFuOZf/WqIexd34EiVKeIYrZZgKAyC4Vz5w4EBSbW+99ZaZP38+WSZduW3VqpWBq9dW0I5ipj937hxL6Qk6T07/0vOlb7pnzx6zc+dO1rPXsWNHsgy64jKYuc4vNsutrXJTsb4EEG68OAugyBxQPwyAuOpNAohEXi09D2dAuHIcK7C2ZcuWJZtK4e6u75boK7cikIPOD+KqlDDaKUDstKoA8epLLUiMTtSCqAXJOSUUIAqQqAbUgqgFibvmUAuiFkQtiAATBYgCJBdAli1bRjIrurrFXF17rs9zzTDFjRP30U+dOkUWSxmmpPEfPnyYzdce16QxFVzdvE2bNiU9VXgM2Azh5o6VkydPGs61Wq9ePbN582ZylLj3z5WVL1/e1KpVi2zn6sUCp8Gdd95J9tmoUSNTqlQpa3U78WJZPyXEBq4n6dyQJGZF19fAZAZvbJDi6uYF6QTIJyhJFdIGV4BI+nVOA+1CPRrkh85rXwoQrwZdk3gqQIhNugIkt1LUgiT/TrpakLyajRzt1YKoBfEznXSJRWhJulGoexCvBnSJpUusuH82usTSJVbOScJ6sUqXLm2GDh1KTqigE87jIVKfixYtMhs2bCDHIi2xpFisESNGkO5OKpo1+8Gurmi0O3/+PDn+1atXG3DYUgJaVbhlKXnggQdYQopZs2axmamGDBliwEtMCcgSzp496ylCUp3x48eTbSQ3L4I758yZQ7Zr2LAhy6Mr7UE6dOhg4LKlRPo+AwYMMODgpQTMMidOnKD75DbpYdxJj/v3zVQAL+/s2bPJUkwujrzahbQBkwFLjSAFLt7MzEyyy4yMDDZNGco48uogxxevr0RH8yaa1SRw8up4Cg26XAEStEbt+lOAEPpSC2I3iaTaakHsdKkWxE5fkdQHusSyVFqA1dWCqAWJakD3IN7JoABRgChABIujACGUU7FiRbN3715SbYhqfeedd6xdbZLVv/vuu1k+2X79+hlkmaJEcvMim9WhQ4fIdgULFjQXLngDmUFQ8OKLLwa4QDGmZ8+e5t133yX7XLVqFevmlVzOcPNyOeBdBw/3KufmfeWVV8huy5Urx5JOuLrFkd/kq6++Ip+HqGLOzQuuYi5CGPMV85YSeAsDdfPi2L5Jkyau34Fsh48zatQossx1DyINEHn3EI6dCJE26dLzXbl5Xd/J5STd9VlhtANrTqdOnciuwbyyfv1668c6MSsqQOz0rACx05drbQUIoTnpoFAtiN1UUwvi1ZdaELs55FRbLYiT2qwbqQVRCxLVQCLzpFvP1CQ1UIAoQBQgAvgSChDJzZvoTbqrm1f6I0N0KnigYkVyTcLrNWXKFLLbKlWqmN69e5NliCq+//77rf9XkVwHkaaUPPjgg6ybF16/ypUrWz+Pi+aVOgIhBdzplNSoUSPi4g5SFi9ebNauXUt2iaWs5Obdv3+/9VAu2z2ItaaMMSA8wEenBPfAXQijpXFIAJHaueZJd9HJ1q1bDULeKUGUNRfK7/IstBk0aJABw3uiRAFioWkFiFdZChBiAiV6iRXGQaEFLqJVFSAKkKgGpHB3BYh3ougSy6sTXWK5/A0zbRIdauIydLUgakHUggjIUYAoQKIaSLSbF7yqI0eOJKdn//79zYwZM8iyJUuWmHvuucfFIFi3gVt4zZo1ZLsyZcqYBg0akGVLly5lI4SlFGzDhw83iDSlZMyYMaZ169ZkGQgRQLphKyCJ+OeffzzNEPnMkU5IOrnmmmtYYgmpT8nVDiIILsrc9n2z63/00UcskYV6sVy1atEOp97ceQAidjkQaDSvhZLzUBVh8CDTpkQBkgfF+m2qAPGrqeTUU4AkR+/RpypAkvwB4jxeAZLk76MASfIHUIC0TekvoABJ6c8TuYqre5AkfiMFSBKV7+PRTgCR3Ly44O50v7dAAZIoAe9QtWpVNgLV1c3bt29fs2vXLlJFnJvR1f2IVHCTJ08mnwXiiO3bt5NllSpVYjM+SW7eW265xVx33XVkn4g4RgQxJb169TJcVCuXgs2VfEFqhyBGjgjCx5y2rjJt2jRTs2ZNst2kSZPM8ePHg/NiWY8ujw1cY7Ek8uo8DsnTvGXLlmb58uWBdiu5eaUHIaoYoS+UIP3azp07yTIuDXSgL/VfZyDYxh9YokTKD3LZcvMqQLzTTwHi1YkCJAF/U2pB7JSsFsROX2JtXWLZKVOXWF596RKLmEO6xNIlVrYGFCAJAEj16tUj124pCeM+iG7S7SwnSBs6d+5MNlq3bp0BuyIlTnsQu6Elr7ZrCjZuxCBPy8rKIosRSQqQ5GfBO8ClTgnyM545c8ZThJRtILAOUsC1DDIOSkaPHm1AIGErAMfChQutASI9hw1WtB1csuorQOw0rwCx05cCJEZfakHUguScEgoQBUhUA7rE8loXBYgCRAEirLoUIAoQBUh+BwhOXXFYSImU/kA6BwGNKLwzsYJlBkVJinr5xYsFZkUuFgtuaoSbqBfL32b9//2MmtUsKa1FAAAAAElFTkSuQmCC",Bd=t=>(ce("data-v-cbe022d6"),t=t(),pe(),t),Td={class:"luck-section-group"},Nd={class:"luck-section"},jd=Bd(()=>p("div",{class:"qr-section-header"},"扫码车卡",-1)),Md={class:"qr-container"},Ld=["src"],Wd=L({__name:"LuckSection",setup(t){const e=ae();return(r,n)=>(b(),P("div",Td,[g(e)?(b(),te(ve,{key:0,title:"幸运",subTitle:"Luck"},{default:T(()=>[p("div",Nd,[h(oe,{label:"幸运",modelValue:`${g(e).attributes.luc??""}`,placeholder:"3D6×5","onUpdate:modelValue":n[0]||(n[0]=a=>g(e).attributes.luc=+a)},null,8,["modelValue"])])]),_:1})):G("",!0),h(ve,{class:"qr-section"},{header:T(()=>[jd]),default:T(()=>[p("div",Md,[p("img",{class:"qr-code",src:g(Od),alt:"二维码渲染失败，请手动访问 https://masquevil.github.io/trpg-saikou/#/coc-card"},null,8,Ld)])]),_:1})]))}}),Gd=M(Wd,[["__scopeId","data-v-cbe022d6"]]),Jn="https://masquevil.github.io/avatar-marker",zd="/g-data/shine.json",io="/output",ca={白:"white",银:"white",灰:"white",黑:"black",红:"red",赤:"red",黄:"yellow",金:"yellow",棕:"brown",褐:"brown",紫:"purple",蓝:"blue",碧:"blue",绿:"green",粉:"pink"};function qd(t){for(let e=t.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}return t}const lo=["young","old","female","male","long hair","short hair","back hair","ponytail hair","white hair","black hair","red hair","yellow hair","brown hair","purple hair","blue hair","green hair","pink hair","black eyes","red eyes","yellow eyes","brown eyes","purple eyes","blue eyes","green eyes","pink eyes"],so=new Map(lo.map((t,e)=>[t,2**e]));let Mt="init",wt=[],Lt={};const Dn=[];function uo(t){let e=0;for(const r of t)e|=so.get(r);return e}async function co(){if(Mt==="finished")return{names:wt,data:Lt};if(Mt==="pending")return new Promise(r=>{Dn.push(r)});Mt="pending";const e=await(await fetch(`${Jn}${zd}`)).json();for(wt=Object.keys(e.imageLabels),Lt=wt.reduce((r,n)=>{const a=e.imageLabels[n],o=uo(e.imageLabels[n]),i=`${Jn}${io}/${n}.jpg`;return r[n]={name:n,url:i,labels:a,binary:o},r},{}),Mt="finished";Dn.length;)Dn.shift()({names:wt,data:Lt});return{names:wt,data:Lt}}function Jd({sex:t="",age:e="",description:r=""}){const n=[];t.match(/女|girl|female/)&&n.push("female"),(t.match(/男|boy/)||t.includes("male")&&!t.includes("female"))&&n.push("male");const a=Number(e);e&&(a<40?n.push("young"):n.push("old")),r.match(/长发|long hair/)&&n.push("long hair"),r.match(/短发|short hair/)&&n.push("short hair"),r.match(/马尾|ponytail/)&&n.push("ponytail hair"),r.match(/背头|盘发|back hair/)&&n.push("back hair");for(const o of r.matchAll(/(.)色?头?发/g)){const i=o[1],l=ca[i];l&&n.push(`${l} hair`)}for(const o of r.matchAll(/(white|black|red|yellow|brown|purple|blue|green|pink) hair/g)){const i=o[1];n.push(`${i} hair`)}for(const o of r.matchAll(/(.)色?(?:眼|瞳)/g)){const i=o[1],l=ca[i];l&&n.push(`${l} eyes`)}for(const o of r.matchAll(/(black|red|yellow|brown|purple|blue|green|pink) eye(?:s)/g)){const i=o[1];n.push(`${i} eyes`)}return n}async function Kd(t){const e=Jd(t),r=uo(e),n=[],a=[],{names:o,data:i}=await co();return o.forEach(l=>{const s=i[l],u=s.binary&r,c=lo.filter(m=>u&so.get(m)).length;n[c]??(n[c]=[]),n[c].push(s)}),n.reverse().forEach(l=>{a.length>=30||a.push(...qd(l))}),a}var po={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(ya,function(){return function(r){var n={};function a(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return r[o].call(i.exports,i,i.exports,a),i.l=!0,i.exports}return a.m=r,a.c=n,a.d=function(o,i,l){a.o(o,i)||Object.defineProperty(o,i,{enumerable:!0,get:l})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,i){if(1&i&&(o=a(o)),8&i||4&i&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&i&&typeof o!="string")for(var s in o)a.d(l,s,(function(u){return o[u]}).bind(null,s));return l},a.n=function(o){var i=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(i,"a",i),i},a.o=function(o,i){return Object.prototype.hasOwnProperty.call(o,i)},a.p="",a(a.s=0)}([function(r,n,a){var o;function i(y){return["image/png","image/jpeg","image/gif"].some(v=>v===y)}a.r(n),a.d(n,"canvastoDataURL",function(){return s}),a.d(n,"canvastoFile",function(){return u}),a.d(n,"dataURLtoFile",function(){return m}),a.d(n,"dataURLtoImage",function(){return d}),a.d(n,"downloadFile",function(){return f}),a.d(n,"filetoDataURL",function(){return A}),a.d(n,"imagetoCanvas",function(){return I}),a.d(n,"urltoBlob",function(){return S}),a.d(n,"urltoImage",function(){return C}),a.d(n,"compress",function(){return D}),a.d(n,"compressAccurately",function(){return V}),a.d(n,"EImageType",function(){return o}),function(y){y.PNG="image/png",y.JPEG="image/jpeg",y.GIF="image/gif"}(o||(o={}));var l=function(y,v,w,_){return new(w||(w=Promise))(function($,R){function U(F){try{j(_.next(F))}catch(x){R(x)}}function B(F){try{j(_.throw(F))}catch(x){R(x)}}function j(F){var x;F.done?$(F.value):(x=F.value,x instanceof w?x:new w(function(N){N(x)})).then(U,B)}j((_=_.apply(y,v||[])).next())})};function s(y,v=.92,w=o.JPEG){return l(this,void 0,void 0,function*(){return i(w)||(w=o.JPEG),y.toDataURL(w,v)})}function u(y,v=.92,w=o.JPEG){return new Promise(_=>y.toBlob($=>_($),w,v))}var c=function(y,v,w,_){return new(w||(w=Promise))(function($,R){function U(F){try{j(_.next(F))}catch(x){R(x)}}function B(F){try{j(_.throw(F))}catch(x){R(x)}}function j(F){var x;F.done?$(F.value):(x=F.value,x instanceof w?x:new w(function(N){N(x)})).then(U,B)}j((_=_.apply(y,v||[])).next())})};function m(y,v){return c(this,void 0,void 0,function*(){const w=y.split(",");let _=w[0].match(/:(.*?);/)[1];const $=atob(w[1]);let R=$.length;const U=new Uint8Array(R);for(;R--;)U[R]=$.charCodeAt(R);return i(v)&&(_=v),new Blob([U],{type:_})})}function d(y){return new Promise((v,w)=>{const _=new Image;_.onload=()=>v(_),_.onerror=()=>w(new Error("dataURLtoImage(): dataURL is illegal")),_.src=y})}function f(y,v){const w=document.createElement("a");w.href=window.URL.createObjectURL(y),w.download=v||Date.now().toString(36),document.body.appendChild(w);const _=document.createEvent("MouseEvents");_.initEvent("click",!1,!1),w.dispatchEvent(_),document.body.removeChild(w)}function A(y){return new Promise(v=>{const w=new FileReader;w.onloadend=_=>v(_.target.result),w.readAsDataURL(y)})}var k=function(y,v,w,_){return new(w||(w=Promise))(function($,R){function U(F){try{j(_.next(F))}catch(x){R(x)}}function B(F){try{j(_.throw(F))}catch(x){R(x)}}function j(F){var x;F.done?$(F.value):(x=F.value,x instanceof w?x:new w(function(N){N(x)})).then(U,B)}j((_=_.apply(y,v||[])).next())})};function I(y,v={}){return k(this,void 0,void 0,function*(){const w=Object.assign({},v),_=document.createElement("canvas"),$=_.getContext("2d");let R,U;for(const B in w)Object.prototype.hasOwnProperty.call(w,B)&&(w[B]=Number(w[B]));if(w.scale){const B=w.scale>0&&w.scale<10?w.scale:1;U=y.width*B,R=y.height*B}else U=w.width||w.height*y.width/y.height||y.width,R=w.height||w.width*y.height/y.width||y.height;switch([5,6,7,8].some(B=>B===w.orientation)?(_.height=U,_.width=R):(_.height=R,_.width=U),w.orientation){case 3:$.rotate(180*Math.PI/180),$.drawImage(y,-_.width,-_.height,_.width,_.height);break;case 6:$.rotate(90*Math.PI/180),$.drawImage(y,0,-_.width,_.height,_.width);break;case 8:$.rotate(270*Math.PI/180),$.drawImage(y,-_.height,0,_.height,_.width);break;case 2:$.translate(_.width,0),$.scale(-1,1),$.drawImage(y,0,0,_.width,_.height);break;case 4:$.translate(_.width,0),$.scale(-1,1),$.rotate(180*Math.PI/180),$.drawImage(y,-_.width,-_.height,_.width,_.height);break;case 5:$.translate(_.width,0),$.scale(-1,1),$.rotate(90*Math.PI/180),$.drawImage(y,0,-_.width,_.height,_.width);break;case 7:$.translate(_.width,0),$.scale(-1,1),$.rotate(270*Math.PI/180),$.drawImage(y,-_.height,0,_.height,_.width);break;default:$.drawImage(y,0,0,_.width,_.height)}return _})}function S(y){return fetch(y).then(v=>v.blob())}function C(y){return new Promise((v,w)=>{const _=new Image;_.onload=()=>v(_),_.onerror=()=>w(new Error("urltoImage(): Image failed to load, please check the image URL")),_.src=y})}var E=function(y,v,w,_){return new(w||(w=Promise))(function($,R){function U(F){try{j(_.next(F))}catch(x){R(x)}}function B(F){try{j(_.throw(F))}catch(x){R(x)}}function j(F){var x;F.done?$(F.value):(x=F.value,x instanceof w?x:new w(function(N){N(x)})).then(U,B)}j((_=_.apply(y,v||[])).next())})};function D(y,v={}){return E(this,void 0,void 0,function*(){if(!(y instanceof Blob))throw new Error("compress(): First arg must be a Blob object or a File object.");if(typeof v!="object"&&(v=Object.assign({quality:v})),v.quality=Number(v.quality),Number.isNaN(v.quality))return y;const w=yield A(y);let _=w.split(",")[0].match(/:(.*?);/)[1],$=o.JPEG;i(v.type)&&($=v.type,_=v.type);const R=yield d(w),U=yield I(R,Object.assign({},v)),B=yield s(U,v.quality,$),j=yield m(B,_);return j.size>y.size?y:j})}function V(y,v={}){return E(this,void 0,void 0,function*(){if(!(y instanceof Blob))throw new Error("compressAccurately(): First arg must be a Blob object or a File object.");if(typeof v!="object"&&(v=Object.assign({size:v})),v.size=Number(v.size),Number.isNaN(v.size)||1024*v.size>y.size)return y;v.accuracy=Number(v.accuracy),(!v.accuracy||v.accuracy<.8||v.accuracy>.99)&&(v.accuracy=.95);const w=v.size*(2-v.accuracy)*1024,_=1024*v.size,$=v.size*v.accuracy*1024,R=yield A(y);let U=R.split(",")[0].match(/:(.*?);/)[1],B=o.JPEG;i(v.type)&&(B=v.type,U=v.type);const j=yield d(R),F=yield I(j,Object.assign({},v));let x,N=.5;const W=[null,null];for(let z=1;z<=7;z++){x=yield s(F,N,B);const ne=.75*x.length;if(z===7){(w<ne||$>ne)&&(x=[x,...W].filter(de=>de).sort((de,_e)=>Math.abs(.75*de.length-_)-Math.abs(.75*_e.length-_))[0]);break}if(w<ne)W[1]=x,N-=Math.pow(.5,z+1);else{if(!($>ne))break;W[0]=x,N+=Math.pow(.5,z+1)}}const Q=yield m(x,U);return Q.size>y.size?y:Q})}}])})})(po);var Xd=po.exports,Wt=Xd;const Hd=["for"],Qd=["id"],Cn=132*2,Rn=172*2,Zd=L({__name:"UploadAvatarButtonWrapper",props:{id:{}},emits:["uploaded"],setup(t,{emit:e}){const r=e,n=ae();async function a(o){const i=o.target,l=i.files[0];if(i.value=null,!l||!n)return;const s=await Wt.filetoDataURL(l);let{width:u,height:c}=await Xs(s);u>Cn&&(c=c/u*Cn,u=Cn),c>Rn&&(u=u/c*Rn,c=Rn);const m=await Wt.imagetoCanvas(await Wt.urltoImage(s),{width:u,height:c}),d=await Wt.canvastoDataURL(m,.4);r("uploaded",d)}return(o,i)=>(b(),P("label",{for:o.id},[p("input",{id:o.id,class:"input-file",type:"file",accept:"image/*",onChange:a},null,40,Qd),dt(o.$slots,"default",{},void 0,!0)],8,Hd))}}),Yd=M(Zd,[["__scopeId","data-v-d714e9db"]]),ef={class:"avatar-input-row"},tf={class:"label"},nf=["placeholder","readonly","value"],rf=L({__name:"AvatarInputRow",props:{label:{},placeholder:{},char:{default:5},modelValue:{default:""},readonly:{type:Boolean}},emits:["update:modelValue","focus","blur"],setup(t){const r=Fe({width:`calc(${t.char}em + 4px)`});return(n,a)=>(b(),P("div",ef,[p("div",tf,O(n.label),1),p("input",{type:"text",class:"input",style:$t(r),placeholder:n.placeholder,readonly:n.readonly,value:n.modelValue,onInput:a[0]||(a[0]=o=>n.$emit("update:modelValue",o.target.value)),onFocus:a[1]||(a[1]=o=>n.$emit("focus")),onBlur:a[2]||(a[2]=o=>n.$emit("blur"))},null,44,nf)]))}}),Fn=M(rf,[["__scopeId","data-v-2c6b2955"]]),af=t=>(ce("data-v-185b8f78"),t=t(),pe(),t),of={class:"avatar-modal-content"},lf={class:"action-buttons"},sf={key:0},uf={key:0,class:"avatar-input-rows"},cf={class:"refresh-row"},pf={class:"refresh-row-inputs"},df=["disabled"],ff=af(()=>p("div",{class:"avatar-input-rows-hint"},"* 目前预设形象库中只有年轻女性",-1)),mf={class:"sd-avatars"},yf=["onClick"],hf=["src"],vf=L({__name:"AvatarModalContent",emits:["finished"],setup(t,{emit:e}){const r=e,n=ae();co();const a=H([]),o=H(0),i=Z(()=>a.value.slice(o.value,o.value+6));function l(S){n&&(n.value.avatar=S,n.value.sdAvatar="",r("finished"))}function s(S){n&&(n.value.sdAvatar=S.name,n.value.avatar="",r("finished"))}const u=H(0);function c(){u.value=3;const S=setInterval(()=>{u.value--,u.value<=0&&clearInterval(S)},1e3)}const m=Z(()=>{const{gender:S,age:C,stories:E}=(n==null?void 0:n.value)||{};return{sex:S,age:C,description:E==null?void 0:E.app}}),d=Z(()=>JSON.stringify(m.value)),f=H(""),A=Z(()=>!!a.value.length&&f.value!==d.value);function k(){f.value=d.value,Kd(m.value).then(S=>{a.value=S,o.value=0}),c()}function I(){o.value+=6,o.value>=a.value.length&&(o.value=0),c()}return(S,C)=>{const E=ue("el-icon");return b(),P("div",of,[p("div",lf,[h(Yd,{onUploaded:l},{default:T(()=>[h(Wn,{tag:"div",fullWidth:""},{default:T(()=>[re(" 上传形象 ")]),_:1})]),_:1}),h(Wn,{fullWidth:"",onClick:k,disabled:u.value>0},{default:T(()=>[u.value?(b(),P(X,{key:0},[re(O(`${u.value} ……`),1)],64)):(b(),P(X,{key:1},[re(O(A.value?"形象描述已更新，重新匹配":"匹配形象"),1)],64))]),_:1},8,["disabled"])]),a.value.length?(b(),P("div",sf,[g(n)?(b(),P("div",uf,[p("div",cf,[p("div",pf,[h(Fn,{label:"性别",placeholder:"修改",char:2,modelValue:g(n).gender,"onUpdate:modelValue":C[0]||(C[0]=D=>g(n).gender=D)},null,8,["modelValue"]),h(Fn,{label:"年龄",placeholder:"修改",char:2,modelValue:g(n).age,"onUpdate:modelValue":C[1]||(C[1]=D=>g(n).age=D)},null,8,["modelValue"])]),!A.value&&a.value.length>o.value?(b(),P("button",{key:0,class:"refresh-button",onClick:I,disabled:u.value>0},[h(E,null,{default:T(()=>[h(g(ba))]),_:1}),re(" "+O(u.value?`${u.value} ……`:"换一批"),1)],8,df)):G("",!0)]),h(Fn,{label:"形象描述",placeholder:"修改",modelValue:g(n).stories.app,"onUpdate:modelValue":C[2]||(C[2]=D=>g(n).stories.app=D)},null,8,["modelValue"]),ff])):G("",!0),p("div",mf,[(b(!0),P(X,null,Y(i.value,D=>(b(),P("div",{key:D.name,class:"sd-avatar-container",onClick:V=>s(D)},[p("img",{class:"sd-avatar",src:D.url},null,8,hf)],8,yf))),128))])])):G("",!0)])}}}),gf=M(vf,[["__scopeId","data-v-185b8f78"]]),bf=t=>(ce("data-v-441a49c1"),t=t(),pe(),t),wf={key:0,class:"avatar-placeholder"},kf=bf(()=>p("div",null,"设置形象",-1)),_f=[kf],Sf=L({__name:"AvatarSection",setup(t){const e=ae(),r=xe(),n=H(!1),a=Z(()=>{const o=e!=null&&e.value.sdAvatar?`${Jn}${io}/${e==null?void 0:e.value.sdAvatar}.jpg`:"";return(e==null?void 0:e.value.avatar)||o||""});return(o,i)=>{var l;return b(),P("div",{class:ee(["avatar-section",{"printing-image":(l=g(r))==null?void 0:l.printing}]),style:$t({"background-image":a.value?`url(${a.value})`:"none"}),onClick:i[2]||(i[2]=s=>n.value=!0)},[a.value?G("",!0):(b(),P("div",wf,_f)),h(He,{class:"coc-card-avatar-modal",title:"设置形象",modelValue:n.value,"onUpdate:modelValue":i[1]||(i[1]=s=>n.value=s)},{default:T(()=>[h(gf,{onFinished:i[0]||(i[0]=s=>n.value=!1)})]),_:1},8,["modelValue"])],6)}}}),Af=M(Sf,[["__scopeId","data-v-441a49c1"]]),$f={class:"writable-unit"},Pf={class:"label"},If=["value","readonly"],Ef=L({__name:"WritableUnit",props:{label:{},modelValue:{default:""},readonly:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t){return(e,r)=>(b(),P("div",$f,[p("div",Pf,O(e.label),1),p("input",{type:"text",class:"input",value:e.modelValue,readonly:e.readonly,onInput:r[0]||(r[0]=n=>e.$emit("update:modelValue",n.target.value))},null,40,If)]))}}),Te=M(Ef,[["__scopeId","data-v-1f3adbbb"]]),xf={},Df=t=>(ce("data-v-3d69914f"),t=t(),pe(),t),Cf={class:"writable-divider"},Rf=Df(()=>p("div",{class:"writable-divider-line"},null,-1)),Ff=[Rf];function Uf(t,e){return b(),P("div",Cf,Ff)}const Gt=M(xf,[["render",Uf],["__scopeId","data-v-3d69914f"]]),Vf={class:"status-checkbox"},Of=["checked"],Bf={class:"label"},Tf=L({__name:"StatusCheckbox",props:{label:{},checked:{type:Boolean,default:!1}},setup(t){return(e,r)=>(b(),P("label",Vf,[p("input",{type:"checkbox",class:"checkbox",checked:e.checked},null,8,Of),p("div",Bf,O(e.label),1)]))}}),Ne=M(Tf,[["__scopeId","data-v-05b9ad5f"]]),Nf={key:0,class:"computed-sections"},jf={class:"units-section"},Mf={class:"units-section"},Lf={class:"units-section"},Wf={class:"body-status-section"},Gf={class:"san-status-section"},zf=L({__name:"DeriveSections",setup(t){const e=ae();function r(a,o,i){!e||!e.value.deriveAttributes||(e.value.deriveAttributes[a][o]=i||void 0)}const n=Z(()=>{var u;if(!e||!e.value.attributes.pow)return"";const a=(u=e.value.skillPoints.find(([c])=>c==="克苏鲁神话"))==null?void 0:u[1],{p:o=0,i=0,g:l=0}=a||{};return`${99-(a?o+i+l:0)}`});return(a,o)=>g(e)?(b(),P("div",Nf,[h(ve,{title:"理智值",subTitle:"Sanity"},{default:T(()=>{var i,l,s,u;return[p("div",jf,[h(Te,{label:"当前理智",modelValue:`${((l=(i=g(e).deriveAttributes)==null?void 0:i.sanity)==null?void 0:l.now)??""}`,"onUpdate:modelValue":o[0]||(o[0]=c=>r("sanity","now",c))},null,8,["modelValue"]),h(Gt),h(Te,{label:"起始理智",modelValue:`${((u=(s=g(e).deriveAttributes)==null?void 0:s.sanity)==null?void 0:u.start)??""}`,"onUpdate:modelValue":o[1]||(o[1]=c=>r("sanity","start",c))},null,8,["modelValue"]),h(Gt),h(Te,{label:"最大理智",modelValue:n.value,readonly:""},null,8,["modelValue"])])]}),_:1}),h(ve,{title:"生命值",subTitle:"HP"},{default:T(()=>{var i,l,s,u;return[p("div",Mf,[h(Te,{label:"当前生命",modelValue:`${((l=(i=g(e).deriveAttributes)==null?void 0:i.hp)==null?void 0:l.now)??""}`,"onUpdate:modelValue":o[2]||(o[2]=c=>r("hp","now",c))},null,8,["modelValue"]),h(Gt),h(Te,{label:"最大生命",modelValue:`${((u=(s=g(e).deriveAttributes)==null?void 0:s.hp)==null?void 0:u.start)??""}`,"onUpdate:modelValue":o[3]||(o[3]=c=>r("hp","start",c))},null,8,["modelValue"])])]}),_:1}),h(ve,{title:"魔法值",subTitle:"MP"},{default:T(()=>{var i,l,s,u;return[p("div",Lf,[h(Te,{label:"当前魔法",modelValue:`${((l=(i=g(e).deriveAttributes)==null?void 0:i.mp)==null?void 0:l.now)??""}`,"onUpdate:modelValue":o[4]||(o[4]=c=>r("mp","now",c))},null,8,["modelValue"]),h(Gt),h(Te,{label:"最大魔法",modelValue:`${((u=(s=g(e).deriveAttributes)==null?void 0:s.mp)==null?void 0:u.start)??""}`,"onUpdate:modelValue":o[5]||(o[5]=c=>r("mp","start",c))},null,8,["modelValue"])])]}),_:1}),h(ve,{title:"身体状态"},{default:T(()=>[p("div",Wf,[h(Ne,{label:"重伤"}),h(Ne,{label:"昏迷"}),h(Ne,{label:"濒死"}),h(Ne,{label:"死亡"})])]),_:1}),h(ve,{title:"精神状态",class:"col-0"},{default:T(()=>[p("div",Gf,[h(Ne,{label:"临时疯狂"}),h(Ne,{label:"永久疯狂"}),h(Ne,{label:"不定期疯狂"})])]),_:1})])):G("",!0)}}),qf=M(zf,[["__scopeId","data-v-b3425134"]]),fo=t=>(ce("data-v-fa5add12"),t=t(),pe(),t),Jf={key:0,class:"suggestion-content"},Kf=fo(()=>p("span",null,"默认本职技能：",-1)),Xf={class:"multi-skill-text"},Hf=fo(()=>p("span",null,"、",-1)),Qf=L({__name:"HintSection",setup(t){const e=Xa(),r=xe();return(n,a)=>{var o,i;return b(),P("div",{class:ee(["hint-section",{"printing-image":(o=g(r))==null?void 0:o.printing}])},[(i=g(e))!=null&&i.text?(b(),P("div",Jf,[Kf,(b(!0),P(X,null,Y(g(e).multiSkillTexts,l=>(b(),P(X,{key:l},[p("span",Xf,O(l),1),Hf],64))),128)),p("span",null,O(g(e).text),1)])):G("",!0)],2)}}}),Zf=M(Qf,[["__scopeId","data-v-fa5add12"]]),Yf={class:"skill-td-label"},em={class:"skill-td-checkbox-label"},tm={key:0,class:"child-skill-display"},nm={key:0},rm={class:"child-skill-input-container"},am=["value"],om={key:0,class:"child-skill-options"},im=["onClick"],lm={key:1,class:"skill-td-label-comments"},sm=L({__name:"SkillTdLabel",props:{skillName:{},comments:{},childSkillData:{}},emits:["selectChildSkill"],setup(t,{emit:e}){const r=t,n=ae(),a=It("viewData"),o=e,i=H(!1),l=Z(()=>a==null?void 0:a.showingChildSkills.get(r.skillName)),s=Z(()=>["母语","外语"].includes(r.skillName)?[...(a==null?void 0:a.showingChildSkills.get("母语"))||[],...(a==null?void 0:a.showingChildSkills.get("外语"))||[]]:l.value),u=Z(()=>!n||!a?!1:n.value.proSkills.some(f=>{var S;if(typeof f=="string")return f===r.skillName;const[A,k,I]=f;return A===r.skillName&&I===((S=r.childSkillData)==null?void 0:S.place)}));function c(f){if(!(!r.childSkillData||!l.value)){if(u.value&&n){const A=n.value.proSkills.find(([k,I,S])=>{var C;return k===r.skillName&&S===((C=r.childSkillData)==null?void 0:C.place)});A&&typeof A!="string"&&(A[1]=f)}l.value[r.childSkillData.place]=f}}function m(f){c(f.name),o("selectChildSkill",f),i.value=!1}function d(f){if(n)if(f){let A=r.skillName;r.childSkillData&&(A=[r.skillName,r.childSkillData.name,r.childSkillData.place]),n.value.proSkills.push(A)}else n.value.proSkills=n.value.proSkills.filter(A=>{if(!r.childSkillData)return A!==r.skillName;const[k,I,S]=A;return k!==r.skillName||S!==r.childSkillData.place})}return(f,A)=>{var k,I;return b(),P("div",Yf,[p("label",em,[h(Hn,{checked:u.value,onCheck:d},null,8,["checked"])]),p("div",null,O(f.skillName),1),f.childSkillData?(b(),P("div",tm,[f.skillName?(b(),P("div",nm,":")):G("",!0),Ye((b(),P("div",rm,[p("input",{type:"text",class:"child-skill-input",value:(k=l.value)==null?void 0:k[f.childSkillData.place],onInput:A[0]||(A[0]=S=>c(S.target.value)),onFocus:A[1]||(A[1]=S=>i.value=!0)},null,40,am),(I=f.childSkillData.list)!=null&&I.length?Ye((b(),P("div",om,[(b(!0),P(X,null,Y(f.childSkillData.list,S=>{var C;return b(),P("div",{key:S.name,class:ee(["child-skill-option",{"child-skill-option-existed":(C=s.value)==null?void 0:C.includes(S.name)}]),onClick:E=>m(S)},O(S.name),11,im)}),128))],512)),[[wa,i.value]]):G("",!0)])),[[g(hr),()=>i.value=!1]])])):G("",!0),f.comments?(b(),P("div",lm,O(f.comments),1)):G("",!0)])}}}),um=M(sm,[["__scopeId","data-v-bbad9aee"]]),cm=["value"],pm=L({__name:"BaseTdInput",props:{value:{default:""}},emits:["input","focus"],setup(t,{emit:e}){const r=e;function n(a){a.target.select(),r("focus",a)}return(a,o)=>(b(),P("input",{type:"text",class:"base-td-input",value:a.value,onInput:o[0]||(o[0]=i=>a.$emit("input",i.target.value)),onFocus:n},null,40,cm))}}),Le=M(pm,[["__scopeId","data-v-878b7cee"]]),dm={class:"skill-td-input"},fm=L({__name:"SkillTdInput",props:{value:{default:""},checkable:{type:Boolean,default:!1},checked:{type:Boolean,default:!1}},emits:["input","check"],setup(t){return(e,r)=>(b(),P("div",dm,[e.checkable?(b(),te(Hn,{key:0,class:"skill-td-input-checkbox",checked:e.checked,onCheck:r[0]||(r[0]=n=>e.$emit("check",n))},null,8,["checked"])):G("",!0),h(Le,{class:"skill-td-input-input",value:e.value,onInput:r[1]||(r[1]=n=>e.$emit("input",n))},null,8,["value"])]))}}),zt=M(fm,[["__scopeId","data-v-f5f16aad"]]),mm=t=>(ce("data-v-42f36190"),t=t(),pe(),t),ym={class:"skill-table"},hm=mm(()=>p("thead",null,[p("tr",null,[p("th",{class:"skill-th th-deep"}),p("th",{class:"skill-th th-deep th-skill"},[p("div",{class:"th-skill-label"},[p("div",{class:"th-skill-label-pro"},[p("span",{class:"th-skill-label-pro-text",style:{"transform-origin":"50% 40%"}}," 本 "),p("span",{class:"th-skill-label-pro-text",style:{"transform-origin":"0% 40%"}}," 职 "),p("span",{class:"th-skill-label-pro-text",style:{"transform-origin":"50% 10%"}}," 技 "),p("span",{class:"th-skill-label-pro-text",style:{"transform-origin":"0% 10%"}}," 能 ")]),re(" 技能 ")])]),p("th",{class:"skill-th th-light"},"基础%"),p("th",{class:"skill-th th-deep"},"职业%"),p("th",{class:"skill-th th-light"},"兴趣%"),p("th",{class:"skill-th th-deep"},[p("div",{class:"th-grow"},"成长%")]),p("th",{class:"skill-th th-light"},"成功率%")])],-1)),vm=["rowspan"],gm={key:0,class:"init-placeholder"},bm={class:"init-placeholder-content"},wm={key:1},km={key:0,class:"total-separation"},_m={key:1},Sm=L({__name:"SkillTable",props:{data:{},suggestion:{}},setup(t){const e=t,r=ae(),n=fr(),a=xe();function o(c,m){return c.reduce((f,A)=>{const k=A.groupSkills.reduce((I,S,C)=>{const E=A.groupName==="特殊";let D=S.init;r&&S.name in nn&&(D=nn[S.name](r.value));const V=E||C===0,y=S.name,v=l(y),w=(v==null?void 0:v[1])||{},[_,$]=(m==null?void 0:m.wealth)??[-1,-1],R=y==="信用评级"&&_>=0&&$>=0?`(${_}~${$})`:"",U=u(w,D);let B={key:S.name,skillName:S.name,skillKey:S.name,comments:R,init:D,initPlaceholder:S.initPlaceholder,points:w,total:U,totalSeparation:[U,~~(U/2),~~(U/5)],...V?{isGroupStart:V,groupName:A.groupName,groupSize:A.groupSkills.length}:{},...E?{isSpecialGroup:E,groupSize:1}:{}},j=[...I],F=[B];if(S.group){const x=S.group.show.length,N=j.find(W=>W.isGroupStart)||B;N.groupSize+=x-1,F=S.group.show.map((W,Q)=>{var tt,Be,Ce;const z=((tt=n==null?void 0:n.showingChildSkills.get(S.name))==null?void 0:tt[Q])??W,ne=(Be=S.group)==null?void 0:Be.skills.find(({name:Se})=>Se===z);let de=(ne==null?void 0:ne.init)??B.init;const _e=[S.name,z,Q],fe=l(_e),De=(fe==null?void 0:fe[1])||{};return r&&!S.name&&(de=De.b||0),{...B,isGroupStart:Q?!1:B.isGroupStart,key:`${S.name}:_:${Q}`,skillKey:_e,init:de,points:De,total:u(De,de),childSkillData:{name:z,place:Q,list:(Ce=S.group)==null?void 0:Ce.skills}}})}return[...j,...F]},[]);return[...f,...k]},[])}const i=Z(()=>o(e.data,e.suggestion));function l(c){if(r)return r.value.skillPoints.find(m=>{const[d]=m;if(typeof c=="string")return c===d;const[f,A,k]=d,[I,S,C]=c;return f===I&&k===C})}function s(c,m,d){if(!r)return;let f=l(c);f||(f=[typeof c=="string"?c:[...c],{}],r.value.skillPoints.push(f));const A=f[1];if(typeof d=="boolean")A.c=d;else{const k=m;d?A[k]=Number(d):delete A[k]}}function u(c,m){const{p:d=0,i:f=0,g:A=0}=c;return m+Number(d)+Number(f)+Number(A)}return(c,m)=>(b(),P("table",ym,[hm,p("tbody",null,[(b(!0),P(X,null,Y(i.value,(d,f)=>{var A;return b(),P("tr",{key:d.skillName},[d.isGroupStart?(b(),P("td",{key:0,rowspan:d.groupSize,class:ee(["skill-td td-group-name",{"td-group-name-visible":!d.isSpecialGroup,"td-color-1":d.isSpecialGroup&&f%2,"td-color-2":d.isSpecialGroup&&(f+1)%2}])},O(d.isSpecialGroup?"":d.groupName),11,vm)):G("",!0),p("td",{class:ee(["skill-td td-skill-name",{"td-skill-name-special":d.isSpecialGroup,"td-color-1":f%2,"td-color-2":(f+1)%2}])},[h(um,{skillName:d.skillName,comments:d.comments,childSkillData:d.childSkillData},null,8,["skillName","comments","childSkillData"])],2),p("td",{class:ee(["skill-td",{"td-color-0":f%2,"td-color-1":(f+1)%2}])},[!d.init&&d.initPlaceholder?(b(),P("div",gm,[p("span",bm,O(d.initPlaceholder),1)])):d.groupName!=="其它"?(b(),P("span",wm,O(d.init),1)):(b(),te(zt,{key:2,value:`${d.points.b??""}`,onInput:k=>s(d.skillKey,"b",k)},null,8,["value","onInput"]))],2),p("td",{class:ee(["skill-td",{"td-color-1":f%2,"td-color-2":(f+1)%2}])},[h(zt,{value:`${d.points.p??""}`,onInput:k=>s(d.skillKey,"p",k)},null,8,["value","onInput"])],2),p("td",{class:ee(["skill-td",{"td-color-0":f%2,"td-color-1":(f+1)%2}])},[h(zt,{value:`${d.points.i??""}`,onInput:k=>s(d.skillKey,"i",k)},null,8,["value","onInput"])],2),p("td",{class:ee(["skill-td",{"td-color-1":f%2,"td-color-2":(f+1)%2}])},[h(zt,{checkable:!0,checked:d.points.c,value:`${d.points.g??""}`,onInput:k=>s(d.skillKey,"g",k),onCheck:k=>s(d.skillKey,"c",k)},null,8,["checked","value","onInput","onCheck"])],2),p("td",{class:ee(["skill-td",{"td-color-0":f%2,"td-color-1":(f+1)%2}])},[(A=g(a))!=null&&A.showTotalSeparation?(b(),P("span",km,[(b(!0),P(X,null,Y(d.totalSeparation,(k,I)=>(b(),P("span",{key:I,class:"total-sep"},O(k),1))),128))])):d.total!==d.init?(b(),P("span",_m,O(d.total),1)):G("",!0)],2)])}),128))])]))}}),pa=M(Sm,[["__scopeId","data-v-42f36190"]]),gr=t=>(ce("data-v-93a79d61"),t=t(),pe(),t),Am={class:"header"},$m={class:"header-left points-container"},Pm={class:"point-container"},Im={key:0,class:"point-rest"},Em={class:"point-container"},xm={key:0,class:"point-rest"},Dm=gr(()=>p("h1",{class:"heading"},[p("span",{class:"title"},"技能表"),p("span",{class:"subtitle"},"Skill")],-1)),Cm={class:"header-right points-container"},Rm=gr(()=>p("div",null,"技能成功率上限",-1)),Fm={class:"point-container"},Um={class:"point-container"},Vm={class:"skill-section-body"},Om=gr(()=>p("div",{class:"divider"},null,-1)),da=6,Bm=L({__name:"SkillSection",setup(t){const e=ae(),r=Xa(),n=xe();function a(){const{pro:u,interest:c}=(e==null?void 0:e.value.pointValues)||{};return{pro:{point:Number(u||0),str:u||""},interest:{point:Number(c||0),str:c||""}}}const o=Fe(a()),i=Z(()=>{let u=0,c=0;return e==null||e.value.skillPoints.forEach(([m,d])=>{u+=d.p||0,c+=d.i||0}),{proPoint:o.pro.point-u,interestPoint:o.interest.point-c}});function l(u,c=""){const m=o[u],d=e==null?void 0:e.value.pointValues[u];if(m.str=d||c,m.str){const f=Number(m.str);m.point=Number.isNaN(f)?0:f}else m.point=0}function s(u,c){e&&e.value.pointValues[u]!==c&&(e.value.pointValues[u]=c)}return Ze(()=>({job:e==null?void 0:e.value.job,attributes:e==null?void 0:e.value.attributes}),({job:u,attributes:c})=>{const{point:m}=Ga(u,c);m&&l("pro",`${m>0?m:""}`);const d=c==null?void 0:c.int,f=d?`${d*2}`:"";f&&l("interest",f)},{deep:!0}),Ze(()=>({pointValues:e==null?void 0:e.value.pointValues,pro:e==null?void 0:e.value.pointValues.pro,interest:e==null?void 0:e.value.pointValues.interest}),({pointValues:u,pro:c,interest:m},{pointValues:d,pro:f,interest:A})=>{if(u!==d){l("pro",c),l("interest",m);return}c!==f&&l("pro",c),m!==A&&l("interest",m)},{deep:!0}),(u,c)=>{var m;return b(),te(ve,{class:ee(["skill-section",{"printing-image":(m=g(n))==null?void 0:m.printing}])},{header:T(()=>{var d;return[p("div",Am,[p("div",$m,[p("div",Pm,[h(oe,{class:"point-writer",label:"职业点数",placeholder:(d=g(e))!=null&&d.job?"问KP":"",char:3,modelValue:o.pro.str,"onUpdate:modelValue":c[0]||(c[0]=f=>s("pro",f))},null,8,["placeholder","modelValue"]),o.pro.point>0?(b(),P("div",Im," 剩余: "+O(i.value.proPoint),1)):G("",!0)]),p("div",Em,[h(oe,{class:"point-writer",label:"兴趣点数",char:3,modelValue:o.interest.str,"onUpdate:modelValue":c[1]||(c[1]=f=>s("interest",f))},null,8,["modelValue"]),o.interest.point>0?(b(),P("div",xm," 剩余: "+O(i.value.interestPoint),1)):G("",!0)])]),Dm,p("div",Cm,[Rm,p("div",Fm,[h(oe,{class:"point-writer",label:"本职",char:2,modelValue:"70"})]),p("div",Um,[h(oe,{class:"point-writer",label:"其它",char:2,modelValue:"50"})])])])]}),default:T(()=>[p("div",Vm,[h(pa,{data:g(Gn).slice(0,da),suggestion:g(r)},null,8,["data","suggestion"]),Om,h(pa,{data:g(Gn).slice(da)},null,8,["data"])])]),_:1},8,["class"])}}}),Tm=M(Bm,[["__scopeId","data-v-93a79d61"]]),Nm=t=>(ce("data-v-eff12c4b"),t=t(),pe(),t),jm=["value"],Mm=Nm(()=>p("option",{value:"",disabled:""},null,-1)),Lm=["value"],Wm=L({__name:"BaseTdSelect",props:{value:{default:""},options:{}},emits:["change"],setup(t){return(e,r)=>(b(),P("select",{class:"base-td-select",value:e.value,onChange:r[0]||(r[0]=n=>e.$emit("change",n.target.value))},[Mm,(b(!0),P(X,null,Y(e.options,n=>(b(),P("option",{key:n.value,value:n.value},O(n.label),9,Lm))),128))],40,jm))}}),Gm=M(Wm,[["__scopeId","data-v-eff12c4b"]]);function zm(t=!1){const e=H(t);return{value:e,setTrue(){e.value=!0},setFalse(){e.value=!1},setToggle(){e.value=!e.value}}}const qm={class:"weapon-section-row"},Jm={class:"weapon-td-name"},Km={class:"weapon-selector"},Xm={class:"show-in-print"},Hm={key:0,class:"wp-point-placeholder"},Qm=L({__name:"WeaponSectionRow",props:{index:{},weapon:{}},emits:["input","focus"],setup(t){const e=t,r=ae();function n(k,I){const S=k%2?0:1,C=I%2?0:1;return`td-color-${S+C}`}function a(k){var D;const[I,S]=k.split(")")[0].split("("),C=((D=l.value.find(V=>V.name===k))==null?void 0:D.init)||0;let E=0;return r==null||r.value.skillPoints.some(V=>{const y=!S&&I===V[0]||S&&typeof V[0]!="string"&&I===V[0][0]&&S===V[0][1];if(y){const{p:v=0,i:w=0,g:_=0}=V[1];E=v+w+_}return y}),{initPoint:C,result:E?`${C+E}`:""}}const o=Z(()=>e.weapon||Mn()),i=Z(()=>a(o.value.skill)),l=Z(()=>Gn.find(({groupName:I})=>I==="战斗").groupSkills.filter(({name:I})=>I!=="闪避").reduce((I,S)=>{const{name:C,init:E,group:D}=S,V=D?D.skills.map(y=>({name:`${C}(${y.name})`,init:y.init||E})):[{name:C,init:E}];return[...I,...V]},[])),s=Z(()=>l.value.map(({name:k})=>({value:k,label:k}))),{value:u,setTrue:c,setFalse:m}=zm(),d=Z(()=>Wa.map(([k,I])=>({key:k,label:I,children:La[k].map(S=>({key:S,label:S}))})));function f(k){if(!r)return;r.value.weapons[e.index]||(r.value.weapons[e.index]=Mn());const I=r.value.weapons[e.index];Object.assign(I,k)}function A(k){const I=cr.find(D=>D.name===k);if(!I)return;const{price:S,time:C,...E}=I;f({...E}),m()}return(k,I)=>(b(),P("div",qm,[p("div",{class:ee(["wp-td",{[n(k.index,0)]:!0}])},[Ye((b(),P("div",Jm,[h(Le,{value:o.value.name,onInput:I[0]||(I[0]=S=>f({name:S})),onFocus:I[1]||(I[1]=()=>g(c)())},null,8,["value"]),h(Xn,{name:"slide-down"},{default:T(()=>[Ye(p("div",Km,[h(oo,{tree:d.value,onSelect:I[2]||(I[2]=S=>A(S.label))},null,8,["tree"])],512),[[wa,g(u)]])]),_:1})])),[[g(hr),g(m)]])],2),p("div",{class:ee(["wp-td",{[n(k.index,1)]:!0}])},[p("span",Xm,O(o.value.skill),1),h(Gm,{class:"hide-in-print",value:o.value.skill,options:s.value,onChange:I[3]||(I[3]=S=>f({skill:S}))},null,8,["value","options"])],2),p("div",{class:ee(["wp-td",{[n(k.index,2)]:!0}])},[re(O(i.value.result)+" ",1),!i.value.result&&i.value.initPoint?(b(),P("span",Hm,O(i.value.initPoint),1)):G("",!0)],2),p("div",{class:ee(["wp-td",{[n(k.index,3)]:!0}])},[h(Le,{value:o.value.dam,onInput:I[4]||(I[4]=S=>f({dam:S}))},null,8,["value"])],2),p("div",{class:ee(["wp-td",{[n(k.index,4)]:!0}])},[h(Le,{value:o.value.range,onInput:I[5]||(I[5]=S=>f({range:S}))},null,8,["value"])],2),p("div",{class:ee(["wp-td",{[n(k.index,5)]:!0}])},[h(Hn,{xOnFalse:!!o.value.name,checked:!!o.value.tho,onCheck:I[6]||(I[6]=S=>f({tho:+S}))},null,8,["xOnFalse","checked"])],2),p("div",{class:ee(["wp-td",{[n(k.index,6)]:!0}])},[h(Le,{value:o.value.round,onInput:I[7]||(I[7]=S=>f({round:S}))},null,8,["value"])],2),p("div",{class:ee(["wp-td",{[n(k.index,7)]:!0}])},[h(Le,{value:o.value.num,onInput:I[8]||(I[8]=S=>f({num:S}))},null,8,["value"])],2),p("div",{class:ee(["wp-td",{[n(k.index,8)]:!0}])},[h(Le,{value:o.value.err,onInput:I[9]||(I[9]=S=>f({err:S}))},null,8,["value"])],2)]))}}),Zm=M(Qm,[["__scopeId","data-v-7590d02c"]]),Ym=t=>(ce("data-v-83320a0b"),t=t(),pe(),t),ey={class:"weapon-section-body"},ty=Ym(()=>p("div",{class:"weapon-section-row"},[p("div",{class:"wp-th th-deep"},"武器名称"),p("div",{class:"wp-th th-light"},"使用技能"),p("div",{class:"wp-th th-deep"},"%"),p("div",{class:"wp-th th-light"},"伤害"),p("div",{class:"wp-th th-deep"},"射程"),p("div",{class:"wp-th th-light"},"贯穿"),p("div",{class:"wp-th th-deep"},"次数"),p("div",{class:"wp-th th-light"},"装弹量"),p("div",{class:"wp-th th-deep"},"故障")],-1)),ny=L({__name:"WeaponSection",setup(t){const e=ae(),r=Z(()=>Array.from({length:5}).map((n,a)=>(e==null?void 0:e.value.weapons[a])||void 0));return(n,a)=>(b(),te(ve,{title:"武器",subTitle:"Weapons"},{default:T(()=>[p("div",ey,[ty,(b(!0),P(X,null,Y(r.value,(o,i)=>(b(),te(Zm,{class:"weapon-section-row",key:i,index:i,weapon:o},null,8,["index","weapon"]))),128))])]),_:1}))}}),ry=M(ny,[["__scopeId","data-v-83320a0b"]]),ay={key:0,class:"battle-section-body"},oy=L({__name:"BattleSection",setup(t){const e=ae();return Ze(()=>e==null?void 0:e.value.attributes,()=>{if(!e)return;const{str:r,siz:n,dex:a}=e.value.attributes,o=Number(e.value.age);if(r&&n){const i=r+n;if(i<65)e.value.battleAttributes.db="-2",e.value.battleAttributes.size="-2";else if(i<85)e.value.battleAttributes.db="-1",e.value.battleAttributes.size="-1";else if(i<125)e.value.battleAttributes.db="0",e.value.battleAttributes.size="0";else if(i<165)e.value.battleAttributes.db="1D4",e.value.battleAttributes.size="1";else if(i<205)e.value.battleAttributes.db="1D6",e.value.battleAttributes.size="2";else{const l=Math.floor((i-205)/80)+2;e.value.battleAttributes.db=`${l}D6`,e.value.battleAttributes.size=`${l+1}`}}if(r&&n&&a){let i=8;if(r<n&&a<n?i=7:r>n&&a>n?i=9:i=8,o>=40){const l=Math.floor((o-40)/10)+1;i-=l}e.value.battleAttributes.mov=`${i}`}},{deep:!0}),(r,n)=>(b(),te(ve,{title:"战斗",subTitle:"Combat"},{default:T(()=>[g(e)?(b(),P("div",ay,[h(oe,{label:"伤害加值",hint:"DB",modelValue:g(e).battleAttributes.db,"onUpdate:modelValue":n[0]||(n[0]=a=>g(e).battleAttributes.db=a),char:4},null,8,["modelValue"]),h(oe,{label:"体格",modelValue:g(e).battleAttributes.size,"onUpdate:modelValue":n[1]||(n[1]=a=>g(e).battleAttributes.size=a),char:4},null,8,["modelValue"]),h(oe,{label:"护甲",modelValue:g(e).battleAttributes.armor,"onUpdate:modelValue":n[2]||(n[2]=a=>g(e).battleAttributes.armor=a),char:4},null,8,["modelValue"]),h(oe,{label:"移动力",modelValue:g(e).battleAttributes.mov,"onUpdate:modelValue":n[3]||(n[3]=a=>g(e).battleAttributes.mov=a),char:4},null,8,["modelValue"])])):G("",!0)]),_:1}))}}),iy=M(oy,[["__scopeId","data-v-81d849bd"]]),ly={},br=t=>(ce("data-v-b85a4f33"),t=t(),pe(),t),sy={class:"copyright-section"},uy=br(()=>p("div",{class:"commercial-info"},[re(" 商业合作请联系: "),p("a",{class:"link commercial-link",href:"mailto:masquevil@gmail.com"}," masquevil@gmail.com (侠小然) "),p("a",{class:"link commercial-link",href:"mailto:705422032@qq.com"}," 705422032@qq.com (听枫馆·枫笛) ")],-1)),cy={class:"copyright"},py=br(()=>p("span",null,"©「克苏鲁的呼唤」7版人物卡",-1)),dy=br(()=>p("span",{class:"footprint"},"🐾",-1));function fy(t,e){return b(),P("div",sy,[uy,p("div",cy,[py,p("span",null,"Copyright 侠小然 "+O(new Date().getFullYear()),1),dy])])}const my=M(ly,[["render",fy],["__scopeId","data-v-b85a4f33"]]),yy={class:"section-row"},hy={class:"section-row"},vy=L({__name:"PaperFront",props:{setRef:{}},setup(t){return(e,r)=>(b(),te(ao,{setRef:e.setRef},{default:T(()=>[p("div",yy,[h(Bp),h(Vd),h(Gd,{class:"col-0"}),h(Af)]),h(qf),h(Zf),h(Tm),p("div",hy,[h(ry,{class:"col-0"}),h(iy)]),h(my)]),_:1},8,["setRef"]))}}),fa=M(vy,[["__scopeId","data-v-f934d0e4"]]),gy=t=>(ce("data-v-aa230195"),t=t(),pe(),t),by={class:"label"},wy=["rows","placeholder","value","maxlength","readonly"],ky={class:"lines"},_y=gy(()=>p("div",{class:"line"},null,-1)),Sy=L({__name:"WritableArea",props:{label:{},rows:{default:3},placeholder:{},modelValue:{default:""},maxlength:{},readonly:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t){const e=xe();return(r,n)=>{var a,o;return b(),P("div",{class:ee(["writable-area",{"printing-image":(a=g(e))==null?void 0:a.printing}])},[p("div",by,O(r.label),1),p("textarea",{class:"input",style:$t({textIndent:r.label.length?`${r.label.length+.4}em`:void 0}),rows:r.rows,placeholder:(o=g(e))!=null&&o.printing?"":r.placeholder,value:r.modelValue,maxlength:r.maxlength,readonly:r.readonly,onInput:n[0]||(n[0]=i=>r.$emit("update:modelValue",i.target.value))},null,44,wy),p("div",ky,[(b(!0),P(X,null,Y(r.rows,i=>(b(),P("div",{class:"line-row",key:i},[i===1&&r.label?(b(),P("div",{key:0,class:"line-row-label",style:$t({width:`${r.label.length}em`})},null,4)):G("",!0),_y]))),128))])],2)}}}),se=M(Sy,[["__scopeId","data-v-aa230195"]]),Ay={class:"story-section-body"},$y={class:"story-section-column"},Py={class:"story-section-column"},Iy=L({__name:"StorySection",setup(t){const e=ae();return(r,n)=>g(e)?(b(),te(ve,{key:0,title:"背景故事",subTitle:"Story"},{default:T(()=>[p("div",Ay,[p("div",$y,[h(se,{label:"形象描述",modelValue:g(e).stories.app,"onUpdate:modelValue":n[0]||(n[0]=a=>g(e).stories.app=a),maxlength:3*29-5},null,8,["modelValue"]),h(se,{label:"思想与信念",modelValue:g(e).stories.belief,"onUpdate:modelValue":n[1]||(n[1]=a=>g(e).stories.belief=a),maxlength:3*29-6},null,8,["modelValue"]),h(se,{label:"重要之人",modelValue:g(e).stories.IPerson,"onUpdate:modelValue":n[2]||(n[2]=a=>g(e).stories.IPerson=a),maxlength:3*29-5},null,8,["modelValue"]),h(se,{label:"意义非凡之地",modelValue:g(e).stories.IPlace,"onUpdate:modelValue":n[3]||(n[3]=a=>g(e).stories.IPlace=a),maxlength:3*29-7},null,8,["modelValue"]),h(se,{label:"宝贵之物",modelValue:g(e).stories.IItem,"onUpdate:modelValue":n[4]||(n[4]=a=>g(e).stories.IItem=a),maxlength:3*29-5},null,8,["modelValue"]),h(se,{label:"特质",modelValue:g(e).stories.trait,"onUpdate:modelValue":n[5]||(n[5]=a=>g(e).stories.trait=a),maxlength:3*29-3},null,8,["modelValue"])]),p("div",Py,[h(se,{label:"伤口与疤痕",modelValue:g(e).stories.scar,"onUpdate:modelValue":n[6]||(n[6]=a=>g(e).stories.scar=a),maxlength:3*29-6},null,8,["modelValue"]),h(se,{label:"精神症状",modelValue:g(e).stories.mad,"onUpdate:modelValue":n[7]||(n[7]=a=>g(e).stories.mad=a),maxlength:3*29-5},null,8,["modelValue"]),h(se,{label:"个人介绍",rows:12,modelValue:g(e).stories.desc,"onUpdate:modelValue":n[8]||(n[8]=a=>g(e).stories.desc=a),maxlength:12*29-5},null,8,["modelValue"])])])]),_:1})):G("",!0)}}),Ey=M(Iy,[["__scopeId","data-v-a7b1d5bf"]]),xy={class:"section-body"},Dy=L({__name:"AssetsSection",setup(t){const e=ae(),r=Z(()=>{var l;const n=((l=e==null?void 0:e.value.skillPoints.find(([s])=>s==="信用评级"))==null?void 0:l[1])||{};if(Object.keys(n).length===0)return"";const{p:a=0,i:o=0,g:i=0}=n;return`${a+o+i}`});return(n,a)=>g(e)?(b(),te(ve,{key:0,title:"资产",subTitle:"Cash & Assets"},{default:T(()=>[p("div",xy,[h(se,{label:"信用评级",rows:1,modelValue:r.value,readonly:""},null,8,["modelValue"]),h(se,{label:"现金",rows:1,maxlength:15,modelValue:g(e).assets.cash,"onUpdate:modelValue":a[0]||(a[0]=o=>g(e).assets.cash=o)},null,8,["modelValue"]),h(se,{label:"消费水平",rows:1,maxlength:13,modelValue:g(e).assets.consumption,"onUpdate:modelValue":a[1]||(a[1]=o=>g(e).assets.consumption=o)},null,8,["modelValue"]),h(se,{label:"资产",rows:9,maxlength:17*9-2,modelValue:g(e).assets.assets,"onUpdate:modelValue":a[2]||(a[2]=o=>g(e).assets.assets=o)},null,8,["modelValue"])])]),_:1})):G("",!0)}}),Cy=M(Dy,[["__scopeId","data-v-5cf28b2f"]]),Ry={class:"section-body"},Fy=L({__name:"ItemSection",setup(t){const e=ae();return(r,n)=>g(e)?(b(),te(ve,{key:0,title:"物品与装备",subTitle:"Possessions"},{default:T(()=>[p("div",Ry,[h(se,{label:"",rows:12,maxlength:18*12,modelValue:g(e).assets.items,"onUpdate:modelValue":n[0]||(n[0]=a=>g(e).assets.items=a)},null,8,["modelValue"])])]),_:1})):G("",!0)}}),Uy=M(Fy,[["__scopeId","data-v-5cfffc06"]]),Vy={class:"section-body"},Oy=L({__name:"MythosSection",setup(t){const e=ae();return(r,n)=>g(e)?(b(),te(ve,{key:0,title:"克苏鲁神话",subTitle:"Cthulu Mythos"},{default:T(()=>[p("div",Vy,[h(se,{label:"魔法物品与典籍",rows:4,maxlength:18*4-8,modelValue:g(e).assets.magicItems,"onUpdate:modelValue":n[0]||(n[0]=a=>g(e).assets.magicItems=a)},null,8,["modelValue"]),h(se,{label:"法术",rows:4,maxlength:18*4-3,modelValue:g(e).assets.magics,"onUpdate:modelValue":n[1]||(n[1]=a=>g(e).assets.magics=a)},null,8,["modelValue"]),h(se,{label:"第三类接触",rows:4,maxlength:18*4-6,modelValue:g(e).assets.touches,"onUpdate:modelValue":n[2]||(n[2]=a=>g(e).assets.touches=a)},null,8,["modelValue"])])]),_:1})):G("",!0)}}),By=M(Oy,[["__scopeId","data-v-c2b3ec34"]]),Ty={class:"section-body"},Ny=L({__name:"FriendSection",setup(t){const e=ae();return(r,n)=>g(e)?(b(),te(ve,{key:0,title:"人物关系",subTitle:"Relationships"},{default:T(()=>[p("div",Ty,[h(se,{label:"",rows:9,modelValue:g(e).friends,"onUpdate:modelValue":n[0]||(n[0]=a=>g(e).friends=a),placeholder:"角色  玩家  职业  关系 —— 懒得结构化了，应该不会有人在网上车卡时候就填吧？"},null,8,["modelValue"])])]),_:1})):G("",!0)}}),jy=M(Ny,[["__scopeId","data-v-0e2298e3"]]),My={class:"section-body"},Ly=L({__name:"ExperienceSection",setup(t){const e=ae();return(r,n)=>g(e)?(b(),te(ve,{key:0,title:"经历过的模组",subTitle:"Experienced Scenarios"},{default:T(()=>[p("div",My,[h(se,{label:"",rows:9,maxlength:18*9,modelValue:g(e).experiencedModules,"onUpdate:modelValue":n[0]||(n[0]=a=>g(e).experiencedModules=a)},null,8,["modelValue"])])]),_:1})):G("",!0)}}),Wy=M(Ly,[["__scopeId","data-v-e4b53600"]]),Gy=t=>(ce("data-v-8db5e252"),t=t(),pe(),t),zy={class:"section-row"},qy={class:"section-row col-2"},Jy={class:"section-row"},Ky=Gy(()=>p("div",{class:"inspiration-row"},[p("div",{class:"inspiration-item special-thanks"}," Special Thanks 听枫馆·枫笛(北京) "),p("div",{class:"inspiration-item inspiration"}," Inspired By 猫爷TRPG 人格解体 "),p("div",{class:"inspiration-item copyright"}," 「克苏鲁的呼唤」7版人物卡 Copyright 侠小然 ")],-1)),Xy=L({__name:"PaperBack",props:{setRef:{}},setup(t){return(e,r)=>(b(),te(ao,{setRef:e.setRef},{default:T(()=>[h(Ey),p("div",zy,[p("div",qy,[h(Uy,{class:"col-0"}),h(Cy,{class:"col-0"})]),h(By,{class:"col-1"})]),p("div",Jy,[h(jy,{class:"col-2"}),h(Wy,{class:"col-1"})]),Ky]),_:1},8,["setRef"]))}}),ma=M(Xy,[["__scopeId","data-v-8db5e252"]]),Hy=t=>(ce("data-v-2723b244"),t=t(),pe(),t),Qy={class:"page theme-dark"},Zy=Hy(()=>p("h1",{class:"title web-only"},"COC 7版人物卡 车卡工具",-1)),Yy={class:"paper-container theme-light"},eh={class:"papers-animation-container papers-editing web-only"},th={class:"sticky-footer web-only"},nh=L({__name:"COCCardView",setup(t){const e=Cs.parse(location.search.slice(1)),r=H(Xr()),n=Fe({showingChildSkills:new Map}),a=Fe({printing:e.debug==="true",showTotalSeparation:e.sep==="true"}),o=H(e.turn!=="back");Rs(r);const i=Ns(r,n);Ot("pc",r),Ot("viewData",n),Ot("pageData",a),Ot("suggestion",i);const l=Fe({});function s(){r.value=Fe(Xr()),ke.info("已重置人物卡")}return(u,c)=>(b(),P("main",Qy,[Zy,p("div",Yy,[p("div",eh,[h(Xn,{name:"swipe-paper"},{default:T(()=>[(b(),te(Eo,null,[o.value?(b(),te(fa,{key:0})):(b(),te(ma,{key:1}))],1024))]),_:1})]),p("div",{class:ee(["papers-animation-container papers-printing",{"papers-printing-active":a.printing}])},[h(fa,{setRef:m=>{l.front=m}},null,8,["setRef"]),h(ma,{setRef:m=>{l.back=m}},null,8,["setRef"])],2)]),p("div",th,[h(dp,{paperEls:l,onSwitchPaper:c[0]||(c[0]=()=>o.value=!o.value),onResetCard:s},null,8,["paperEls"])])]))}}),ih=M(nh,[["__scopeId","data-v-2723b244"]]);export{ih as default};
