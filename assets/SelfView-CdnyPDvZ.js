import{d as k,j as g,c as l,a,F as p,r as m,u,y as V,ag as b,l as I,t as r,o as n,k as h,m as L,p as N,f as B}from"./index-CG3uZOVe.js";import{s as C,r as P,e as j,P as f}from"./record-BNr5tqGb.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";const v=i=>(N("data-v-5995a669"),i=i(),B(),i),D={class:"page"},F={class:"layout"},M={class:"section section-wanted"},E=v(()=>a("div",{class:"section-header"},[a("h1",{class:"section-title"},"我想玩的")],-1)),T={key:0,class:"prefer-label"},U={class:"section section-played"},q={class:"section-header"},z=v(()=>a("h1",{class:"section-title"},"我玩过的",-1)),G={class:"played-card-header"},H={class:"played-card-name"},J={key:0},K={class:"experience-comments"},O=k({__name:"SelfView",setup(i){const c=g(!1),_=C.map(o=>({story:o,record:P.get(o.name),experience:j.get(o.name)})),w=_.filter(o=>{var t;return(t=o.record)==null?void 0:t.prefer}).sort((o,t)=>{var s,e;return(((s=t.record)==null?void 0:s.prefer)||0)-(((e=o.record)==null?void 0:e.prefer)||0)}),y=_.filter(o=>{var t;return((t=o.record)==null?void 0:t.isPlayed)||o.experience}).sort((o,t)=>{var s,e;return(((s=t.experience)==null?void 0:s.experienceScore)||0)-(((e=o.experience)==null?void 0:e.experienceScore)||0)}).sort((o,t)=>{var s,e;return(((s=t.experience)==null?void 0:s.storyScore)||0)-(((e=o.experience)==null?void 0:e.storyScore)||0)});return(o,t)=>(n(),l("main",D,[a("div",F,[a("div",M,[E,a("div",null,[(n(!0),l(p,null,m(u(w),({story:s,record:e})=>{var d;return n(),l("div",{key:s.name,class:"wanted-card"},[h(f,{period:s.period,welcome:(d=s.options)==null?void 0:d.welcome},null,8,["period","welcome"]),a("span",null,r(s.name),1),e!=null&&e.prefer?(n(),l("span",T,[(n(!0),l(p,null,m(Array.from({length:e.prefer}),(Q,S)=>(n(),l("span",{key:S},"♡"))),128))])):L("",!0)])}),128))])]),a("div",U,[a("div",q,[z,a("label",null,[V(a("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=s=>c.value=s)},null,512),[[b,c.value]]),I(" "+r(c.value?"显示":"隐藏")+"主观评价 ",1)])]),a("div",null,[(n(!0),l(p,null,m(u(y),({story:s,experience:e})=>{var d;return n(),l("div",{key:s.name,class:"played-card"},[a("div",G,[h(f,{period:s.period,welcome:(d=s.options)==null?void 0:d.welcome},null,8,["period","welcome"]),a("span",H,r(s.name),1),e?(n(),l(p,{key:1},[a("span",null," 体验评分: "+r(c.value?"*":e==null?void 0:e.experienceScore),1),a("span",null,"模组评分: "+r(e==null?void 0:e.storyScore),1)],64)):(n(),l("span",J,"暂无评价"))]),a("div",K,r(c.value?Array.from({length:(e==null?void 0:e.comments.length)||0}).map(()=>"*").join(""):e==null?void 0:e.comments),1)])}),128))])])])]))}}),Y=A(O,[["__scopeId","data-v-5995a669"]]);export{Y as default};
