import{k,s as b,o as l,c as n,a as o,F as p,A as m,z as u,G as g,$ as V,d as I,b as h,t as r,u as L,p as N,e as A}from"./index-CHQbbhYi.js";import{s as B,r as C,e as P,P as f}from"./record-D4Y_nG2h.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";const v=d=>(N("data-v-cd019ebe"),d=d(),A(),d),F={class:"page"},M={class:"layout"},j={class:"section section-wanted"},z=v(()=>o("div",{class:"section-header"},[o("h1",{class:"section-title"},"我想玩的")],-1)),E={key:0,class:"prefer-label"},G={class:"section section-played"},T={class:"section-header"},U=v(()=>o("h1",{class:"section-title"},"我玩过的",-1)),$={class:"played-card-header"},q={class:"played-card-name"},H={key:0},J={class:"experience-comments"},K=k({__name:"SelfView",setup(d){const i=b(!1),_=B.map(t=>({story:t,record:C.get(t.name),experience:P.get(t.name)})),w=_.filter(t=>{var a;return(a=t.record)==null?void 0:a.prefer}).sort((t,a)=>{var s,e;return(((s=a.record)==null?void 0:s.prefer)||0)-(((e=t.record)==null?void 0:e.prefer)||0)}),y=_.filter(t=>{var a;return((a=t.record)==null?void 0:a.isPlayed)||t.experience}).sort((t,a)=>{var s,e;return(((s=a.experience)==null?void 0:s.experienceScore)||0)-(((e=t.experience)==null?void 0:e.experienceScore)||0)}).sort((t,a)=>{var s,e;return(((s=a.experience)==null?void 0:s.storyScore)||0)-(((e=t.experience)==null?void 0:e.storyScore)||0)});return(t,a)=>(l(),n("main",F,[o("div",M,[o("div",j,[z,o("div",null,[(l(!0),n(p,null,m(u(w),({story:s,record:e})=>{var c;return l(),n("div",{key:s.name,class:"wanted-card"},[h(f,{period:s.period,welcome:(c=s.options)==null?void 0:c.welcome},null,8,["period","welcome"]),o("span",null,r(s.name),1),e!=null&&e.prefer?(l(),n("span",E,[(l(!0),n(p,null,m(Array.from({length:e.prefer}),(O,S)=>(l(),n("span",{key:S},"♡"))),128))])):L("",!0)])}),128))])]),o("div",G,[o("div",T,[U,o("label",null,[g(o("input",{type:"checkbox","onUpdate:modelValue":a[0]||(a[0]=s=>i.value=s)},null,512),[[V,i.value]]),I(" 隐藏主观评价 ")])]),o("div",null,[(l(!0),n(p,null,m(u(y),({story:s,experience:e})=>{var c;return l(),n("div",{key:s.name,class:"played-card"},[o("div",$,[h(f,{period:s.period,welcome:(c=s.options)==null?void 0:c.welcome},null,8,["period","welcome"]),o("span",q,r(s.name),1),e?(l(),n(p,{key:1},[o("span",null," 体验评分: "+r(i.value?"*":e==null?void 0:e.experienceScore),1),o("span",null,"模组评分: "+r(e==null?void 0:e.storyScore),1)],64)):(l(),n("span",H,"暂无评价"))]),o("div",J,r(i.value?Array.from({length:(e==null?void 0:e.comments.length)||0}).map(()=>"*").join(""):e==null?void 0:e.comments),1)])}),128))])])])]))}}),X=D(K,[["__scopeId","data-v-cd019ebe"]]);export{X as default};
