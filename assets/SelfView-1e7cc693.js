import{i as b,k as g,o as l,c as n,a,F as p,s as _,u,x as V,J as I,d as f,b as h,t as c,l as L,p as N,e as B}from"./index-90e6c271.js";import{u as C,s as P,r as A,e as D,P as v}from"./experience-3b272326.js";import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";const w=d=>(N("data-v-6f0b821a"),d=d(),B(),d),M={class:"page"},T={class:"layout"},j={class:"section section-wanted"},E=w(()=>a("div",{class:"section-header"},[a("h1",{class:"section-title"},"我想玩的")],-1)),J={key:0,class:"prefer-label"},U={class:"section section-played"},q={class:"section-header"},z=w(()=>a("h1",{class:"section-title"},"我玩过的",-1)),G={class:"played-card-header"},H={class:"played-card-name"},K=b({__name:"SelfView",setup(d){C("dark");const i=g(!1),m=P.map(t=>({story:t,record:A.get(t.name),experience:D.get(t.name)})),S=m.filter(t=>{var o;return(o=t.record)==null?void 0:o.prefer}).sort((t,o)=>{var s,e;return(((s=o.record)==null?void 0:s.prefer)||0)-(((e=t.record)==null?void 0:e.prefer)||0)}),y=m.filter(t=>{var o;return(o=t.record)==null?void 0:o.isPlayed}).sort((t,o)=>{var s,e;return(((s=o.experience)==null?void 0:s.experienceScore)||0)-(((e=t.experience)==null?void 0:e.experienceScore)||0)}).sort((t,o)=>{var s,e;return(((s=o.experience)==null?void 0:s.storyScore)||0)-(((e=t.experience)==null?void 0:e.storyScore)||0)});return(t,o)=>(l(),n("main",M,[a("div",T,[a("div",j,[E,a("div",null,[(l(!0),n(p,null,_(u(S),({story:s,record:e})=>{var r;return l(),n("div",{key:s.name,class:"wanted-card"},[h(v,{period:s.period,welcome:(r=s.options)==null?void 0:r.welcome},null,8,["period","welcome"]),f(" "+c(s.name)+" ",1),e!=null&&e.prefer?(l(),n("span",J,[(l(!0),n(p,null,_(Array.from({length:e.prefer}),(O,k)=>(l(),n("span",{key:k},"♡"))),128))])):L("",!0)])}),128))])]),a("div",U,[a("div",q,[z,a("label",null,[V(a("input",{type:"checkbox","onUpdate:modelValue":o[0]||(o[0]=s=>i.value=s)},null,512),[[I,i.value]]),f(" 隐藏主观评价 ")])]),a("div",null,[(l(!0),n(p,null,_(u(y),({story:s,experience:e})=>{var r;return l(),n("div",{key:s.name,class:"played-card"},[a("div",G,[h(v,{period:s.period,welcome:(r=s.options)==null?void 0:r.welcome},null,8,["period","welcome"]),a("span",H,c(s.name),1),a("span",null,"体验评分: "+c(i.value?"*":e==null?void 0:e.experienceScore),1),a("span",null,"模组评分: "+c(e==null?void 0:e.storyScore),1)]),a("div",null,c(i.value?Array.from({length:(e==null?void 0:e.comments.length)||0}).map(()=>"*").join(""):e==null?void 0:e.comments),1)])}),128))])])])]))}});const X=F(K,[["__scopeId","data-v-6f0b821a"]]);export{X as default};
