import{d as G,x as _,h as N,a3 as L,c as $,a as l,t as T,a4 as A,s as r,w,e as O,y as P,b as z,o as k,v as h,F as U,C as R,p as q,f as H}from"./index-3Nt-g4Fk.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";window.speechSynthesis.getVoices();function o(c,d={}){const{lang:m="zh-CN",vol:e=1,rate:p=1,pitch:g=1}=d;window.speechSynthesis.cancel();const s=new SpeechSynthesisUtterance(c);s.text=c,s.lang=m,s.volume=e,s.rate=p,s.pitch=g;const y=window.speechSynthesis.getVoices().find(V=>V.name==="Google 普通话（中国大陆）");y&&(s.voice=y),window.speechSynthesis.speak(s)}const x=c=>(q("data-v-f7c60796"),c=c(),H(),c),K={class:"page"},Q={class:"timer"},X={class:"action-row"},Y=x(()=>l("div",{class:"action-card-title"},"设置倒计时",-1)),Z={class:"action-card-action"},ee={class:"action-card-title"},te=x(()=>l("span",null,"调整倒计时",-1)),ae={class:"action-card-action"},ne={class:"action-card"},oe=x(()=>l("div",{class:"action-card-title"},"倒计时控制器",-1)),le={class:"action-card-action"},se=G({__name:"AppView",setup(c){const d=_(),m=_(),e=_(0),p=_(!1),g=_(),s=_(),n={slow:1,normal:1.2,fast:1.4};function y(a){const t=Math.floor(a/60),u=a%60;return{minute:t,second:u}}function V(a,t){return`${a?`${a}分`:""}${t?`${t}秒`:"钟"}`}function M(a,t){return`${String(a).padStart(2,"0")}:${String(t).padStart(2,"0")}`}const S=N(()=>({minute:Math.floor(e.value/60),second:e.value%60})),v=N(()=>V(S.value.minute,S.value.second)),B=N(()=>M(S.value.minute,S.value.second)),{isActive:C,pause:b,resume:I}=L(()=>{e.value-=1,e.value<=0?(e.value=0,o(s.value||"计时结束",{rate:n.normal}),b()):e.value%60===0?o(`剩余${v.value}`,{rate:n.normal}):e.value===30?o(`剩余${v.value}`,{rate:n.normal}):e.value===10?o(`${v.value}`,{rate:n.normal}):e.value<=3&&o(`${e.value}`,{rate:n.fast})},1e3,{immediate:!1});function j(){if(isNaN(Number(d.value))&&isNaN(Number(m.value)))return o("请输入数字",{rate:n.normal});const a=Number(d.value||0)*60+Number(m.value||0);if(a<=0)return o("请大于0",{rate:n.normal});const{minute:t,second:u}=y(a),f=V(t,u);o(`开始计时${f}`,{rate:n.fast}),e.value=a,I()}function F(){const a=Number(g.value);if(isNaN(a))return o("请输入数字",{rate:n.normal});p.value?(e.value+=a,o(`延长${a}秒，剩余${v.value}`,{rate:n.fast})):(e.value-=a,e.value<0?e.value=0:o(`剩余${v.value}`,{rate:n.fast}))}function D(){C.value?(b(),o("暂停计时",{rate:n.normal})):(I(),o(`恢复计时${v.value}`,{rate:n.fast}))}function W(){e.value=0,o("停止计时",{rate:n.normal}),b()}return(a,t)=>{const u=z("el-input"),f=z("el-button"),E=z("el-switch");return k(),$("main",K,[l("div",Q,[l("div",null,T(B.value),1)]),l("div",X,[l("form",{class:"action-card",onSubmit:A(j,["prevent"])},[Y,l("div",Z,[r(u,{type:"number",size:"large",modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=i=>d.value=i),placeholder:"输入分钟数"},null,8,["modelValue"]),r(u,{type:"number",size:"large",modelValue:m.value,"onUpdate:modelValue":t[1]||(t[1]=i=>m.value=i),placeholder:"输入秒数"},null,8,["modelValue"]),r(f,{type:"default",size:"large",nativeType:"submit"},{default:w(()=>[h(" 开始计时 ")]),_:1})])],32),l("form",{class:"action-card",onSubmit:A(F,["prevent"])},[l("div",ee,[te,r(E,{modelValue:p.value,"onUpdate:modelValue":t[2]||(t[2]=i=>p.value=i),"inline-prompt":"","active-text":"延长","inactive-text":"缩短"},null,8,["modelValue"])]),l("div",ae,[r(u,{type:"number",size:"large",modelValue:g.value,"onUpdate:modelValue":t[3]||(t[3]=i=>g.value=i),placeholder:"输入秒数"},null,8,["modelValue"]),r(f,{type:"default",size:"large",nativeType:"submit"},{default:w(()=>[h(T(p.value?"延长":"缩短")+"计时 ",1)]),_:1})])],32),l("div",ne,[oe,l("div",le,[r(u,{type:"string",size:"large",modelValue:s.value,"onUpdate:modelValue":t[4]||(t[4]=i=>s.value=i),placeholder:"计时结束后的提示"},null,8,["modelValue"]),r(f,{type:"default",size:"large",disabled:e.value<=0,onClick:D},{default:w(()=>[e.value<=0?(k(),$(U,{key:0},[h("计时已停止")],64)):(k(),$(U,{key:1},[h(T(R(C)?"暂停":"恢复"),1)],64))]),_:1},8,["disabled"]),e.value>0?(k(),O(f,{key:0,type:"default",size:"large",style:{marginLeft:"0"},onClick:W},{default:w(()=>[h(" 停止 ")]),_:1})):P("",!0)])])])])}}}),re=J(se,[["__scopeId","data-v-f7c60796"]]);export{re as default};
