import{j as k,q as g,o as l,c as n,a,F as _,x as p,y as u,O as V,Y as b,d as I,b as h,t as d,s as L,p as N,e as B}from"./index-08e0f38d.js";import{u as C,s as P,r as j,e as A,P as f}from"./record-d8cb4bf9.js";import{_ as D}from"./_plugin-vue_export-helper-c27b6911.js";const v=r=>(N("data-v-5c540d0a"),r=r(),B(),r),F={class:"page"},M={class:"layout"},T={class:"section section-wanted"},q=v(()=>a("div",{class:"section-header"},[a("h1",{class:"section-title"},"我想玩的")],-1)),E={key:0,class:"prefer-label"},O={class:"section section-played"},U={class:"section-header"},Y=v(()=>a("h1",{class:"section-title"},"我玩过的",-1)),z={class:"played-card-header"},G={class:"played-card-name"},H={key:0},J={class:"experience-comments"},K=k({__name:"SelfView",setup(r){C("dark");const i=g(!1),m=P.map(o=>({story:o,record:j.get(o.name),experience:A.get(o.name)})),y=m.filter(o=>{var t;return(t=o.record)==null?void 0:t.prefer}).sort((o,t)=>{var s,e;return(((s=t.record)==null?void 0:s.prefer)||0)-(((e=o.record)==null?void 0:e.prefer)||0)}),w=m.filter(o=>{var t;return((t=o.record)==null?void 0:t.isPlayed)||o.experience}).sort((o,t)=>{var s,e;return(((s=t.experience)==null?void 0:s.experienceScore)||0)-(((e=o.experience)==null?void 0:e.experienceScore)||0)}).sort((o,t)=>{var s,e;return(((s=t.experience)==null?void 0:s.storyScore)||0)-(((e=o.experience)==null?void 0:e.storyScore)||0)});return(o,t)=>(l(),n("main",F,[a("div",M,[a("div",T,[q,a("div",null,[(l(!0),n(_,null,p(u(y),({story:s,record:e})=>{var c;return l(),n("div",{key:s.name,class:"wanted-card"},[h(f,{period:s.period,welcome:(c=s.options)==null?void 0:c.welcome},null,8,["period","welcome"]),a("span",null,d(s.name),1),e!=null&&e.prefer?(l(),n("span",E,[(l(!0),n(_,null,p(Array.from({length:e.prefer}),(Q,S)=>(l(),n("span",{key:S},"♡"))),128))])):L("",!0)])}),128))])]),a("div",O,[a("div",U,[Y,a("label",null,[V(a("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=s=>i.value=s)},null,512),[[b,i.value]]),I(" 隐藏主观评价 ")])]),a("div",null,[(l(!0),n(_,null,p(u(w),({story:s,experience:e})=>{var c;return l(),n("div",{key:s.name,class:"played-card"},[a("div",z,[h(f,{period:s.period,welcome:(c=s.options)==null?void 0:c.welcome},null,8,["period","welcome"]),a("span",G,d(s.name),1),e?(l(),n(_,{key:1},[a("span",null," 体验评分: "+d(i.value?"*":e==null?void 0:e.experienceScore),1),a("span",null,"模组评分: "+d(e==null?void 0:e.storyScore),1)],64)):(l(),n("span",H,"暂无评价"))]),a("div",J,d(i.value?Array.from({length:(e==null?void 0:e.comments.length)||0}).map(()=>"*").join(""):e==null?void 0:e.comments),1)])}),128))])])])]))}});const Z=D(K,[["__scopeId","data-v-5c540d0a"]]);export{Z as default};
