import{d as W,z as g,k as w,a2 as E,c as N,a as s,t as I,a3 as U,x as u,w as S,e as L,A as O,b as x,o as V,y as h,F as A,G as P,p as R,f as j}from"./index-Cyk_GpxT.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";window.speechSynthesis.getVoices();function n(i,c={}){const{lang:d="zh-CN",vol:t=1,rate:m=1,pitch:v=1}=c;window.speechSynthesis.cancel();const e=new SpeechSynthesisUtterance(i);e.text=i,e.lang=d,e.volume=t,e.rate=m,e.pitch=v;const f=window.speechSynthesis.getVoices().find(b=>b.name==="Google 普通话（中国大陆）");f&&(e.voice=f),window.speechSynthesis.speak(e)}const $=i=>(R("data-v-4d905cb1"),i=i(),j(),i),H={class:"page"},J={class:"timer"},K={class:"action-row"},Q=$(()=>s("div",{class:"action-card-title"},"设置倒计时",-1)),X={class:"action-card-action"},Y=$(()=>s("div",{class:"action-card-title"},"为倒计时加速",-1)),Z={class:"action-card-action"},ee={class:"action-card"},te=$(()=>s("div",{class:"action-card-title"},"倒计时控制器",-1)),ae={class:"action-card-action"},oe=W({__name:"AppView",setup(i){const c=g(),d=g(),t=g(0),m=g(),v=g(),e={slow:1,normal:1.2,fast:1.4};function T(o){const a=Math.floor(o/60),l=o%60;return{minute:a,second:l}}function f(o,a){return`${o?`${o}分`:""}${a?`${a}秒`:"钟"}`}function b(o,a){return`${String(o).padStart(2,"0")}:${String(a).padStart(2,"0")}`}const y=w(()=>({minute:Math.floor(t.value/60),second:t.value%60})),_=w(()=>f(y.value.minute,y.value.second)),M=w(()=>b(y.value.minute,y.value.second)),{isActive:z,pause:k,resume:C}=E(()=>{t.value-=1,t.value<=0?(t.value=0,n(v.value||"计时结束",{rate:e.normal}),k()):t.value%60===0?n(`剩余${_.value}`,{rate:e.normal}):t.value===30?n(`剩余${_.value}`,{rate:e.normal}):t.value===10?n(`${_.value}`,{rate:e.normal}):t.value<=3&&n(`${t.value}`,{rate:e.fast})},1e3,{immediate:!1});function B(){if(isNaN(Number(c.value))&&isNaN(Number(d.value)))return n("请输入数字",{rate:e.normal});const o=Number(c.value||0)*60+Number(d.value||0);if(o<=0)return n("请大于0",{rate:e.normal});const{minute:a,second:l}=T(o),p=f(a,l);n(`开始计时${p}`,{rate:e.fast}),t.value=o,C()}function F(){const o=Number(m.value);if(isNaN(o))return n("请输入数字",{rate:e.normal});t.value-=o,n(`剩余${_.value}`,{rate:e.fast})}function D(){z.value?(k(),n("暂停计时",{rate:e.normal})):(C(),n(`恢复计时${_.value}`,{rate:e.fast}))}function G(){t.value=0,n("停止计时",{rate:e.normal}),k()}return(o,a)=>{const l=x("el-input"),p=x("el-button");return V(),N("main",H,[s("div",J,[s("div",null,I(M.value),1)]),s("div",K,[s("form",{class:"action-card",onSubmit:U(B,["prevent"])},[Q,s("div",X,[u(l,{type:"number",size:"large",modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=r=>c.value=r),placeholder:"输入分钟数"},null,8,["modelValue"]),u(l,{type:"number",size:"large",modelValue:d.value,"onUpdate:modelValue":a[1]||(a[1]=r=>d.value=r),placeholder:"输入秒数"},null,8,["modelValue"]),u(p,{type:"default",size:"large",nativeType:"submit"},{default:S(()=>[h(" 开始计时 ")]),_:1})])],32),s("form",{class:"action-card",onSubmit:U(F,["prevent"])},[Y,s("div",Z,[u(l,{type:"number",size:"large",modelValue:m.value,"onUpdate:modelValue":a[2]||(a[2]=r=>m.value=r),placeholder:"输入秒数"},null,8,["modelValue"]),u(p,{type:"default",size:"large",nativeType:"submit"},{default:S(()=>[h(" 立刻加速 ")]),_:1})])],32),s("div",ee,[te,s("div",ae,[u(l,{type:"string",size:"large",modelValue:v.value,"onUpdate:modelValue":a[3]||(a[3]=r=>v.value=r),placeholder:"计时结束后的提示"},null,8,["modelValue"]),u(p,{type:"default",size:"large",disabled:t.value<=0,onClick:D},{default:S(()=>[t.value<=0?(V(),N(A,{key:0},[h("计时已停止")],64)):(V(),N(A,{key:1},[h(I(P(z)?"暂停":"恢复"),1)],64))]),_:1},8,["disabled"]),t.value>0?(V(),L(p,{key:0,type:"default",size:"large",style:{marginLeft:"0"},onClick:G},{default:S(()=>[h(" 停止 ")]),_:1})):O("",!0)])])])])}}}),le=q(oe,[["__scopeId","data-v-4d905cb1"]]);export{le as default};
