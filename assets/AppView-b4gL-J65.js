import{d as W,z as g,k as $,a2 as E,c as N,a as n,t as C,a3 as I,x as r,w as V,e as L,A as O,b as U,o as k,y as h,F as A,G as P,p as R,f as j}from"./index-Q3lVhsE7.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";window.speechSynthesis.getVoices();function s(i,u={}){const{lang:d="zh-CN",vol:t=1,rate:v=1,pitch:f=1}=u;window.speechSynthesis.cancel();const e=new SpeechSynthesisUtterance(i);e.text=i,e.lang=d,e.volume=t,e.rate=v,e.pitch=f;const y=window.speechSynthesis.getVoices(),p=y.find(w=>w.name==="Google 普通话（中国大陆）");console.log("xxx",p,y),p&&(e.voice=p),window.speechSynthesis.speak(e)}const T=i=>(R("data-v-9ce0dc46"),i=i(),j(),i),H={class:"page"},J={class:"timer"},K={class:"action-row"},Q=T(()=>n("div",{class:"action-card-title"},"设置倒计时",-1)),X={class:"action-card-action"},Y=T(()=>n("div",{class:"action-card-title"},"为倒计时加速",-1)),Z={class:"action-card-action"},ee={class:"action-card"},te=T(()=>n("div",{class:"action-card-title"},"倒计时控制器",-1)),ae={class:"action-card-action"},oe=W({__name:"AppView",setup(i){const u=g(),d=g(0),t=g(0),v=g(),f=g(),e={slow:1,normal:1.2,fast:1.4};function y(o){const a=Math.floor(o/60),l=o%60;return{minute:a,second:l}}function p(o,a){return`${o?`${o}分`:""}${a?`${a}秒`:"钟"}`}function w(o,a){return`${String(o).padStart(2,"0")}:${String(a).padStart(2,"0")}`}const S=$(()=>({minute:Math.floor(t.value/60),second:t.value%60})),_=$(()=>p(S.value.minute,S.value.second)),M=$(()=>w(S.value.minute,S.value.second)),{isActive:z,pause:b,resume:x}=E(()=>{t.value-=1,t.value<=0?(t.value=0,s(f.value||"计时结束",{rate:e.normal}),b()):t.value%60===0?s(`剩余${_.value}`,{rate:e.fast}):t.value===30?s(`${_.value}`,{rate:e.fast}):t.value===10?s(`${_.value}`,{rate:e.fast}):t.value<=3&&s(`${t.value}`,{rate:e.fast})},1e3,{immediate:!1});function B(){if(isNaN(u.value)&&isNaN(d.value))return s("请输入数字",{rate:e.normal});const o=(u.value||0)*60+(d.value||0);if(o<=0)return s("请大于0",{rate:e.normal});const{minute:a,second:l}=y(o),m=p(a,l);s(`开始计时${m}`,{rate:e.fast}),t.value=o,x()}function F(){const o=Number(v.value);if(isNaN(o))return s("请输入数字",{rate:e.normal});t.value-=o,s(`剩余${_.value}`,{rate:e.fast})}function D(){z.value?(b(),s("暂停计时",{rate:e.normal})):(x(),s(`恢复计时${_.value}`,{rate:e.fast}))}function G(){t.value=0,s("停止计时",{rate:e.normal}),b()}return(o,a)=>{const l=U("el-input"),m=U("el-button");return k(),N("main",H,[n("div",J,[n("div",null,C(M.value),1)]),n("div",K,[n("form",{class:"action-card",onSubmit:I(B,["prevent"])},[Q,n("div",X,[r(l,{type:"number",size:"large",modelValue:u.value,"onUpdate:modelValue":a[0]||(a[0]=c=>u.value=c),placeholder:"输入分钟数"},null,8,["modelValue"]),r(l,{type:"number",size:"large",modelValue:d.value,"onUpdate:modelValue":a[1]||(a[1]=c=>d.value=c),placeholder:"输入秒数"},null,8,["modelValue"]),r(m,{type:"default",size:"large",nativeType:"submit"},{default:V(()=>[h(" 开始计时 ")]),_:1})])],32),n("form",{class:"action-card",onSubmit:I(F,["prevent"])},[Y,n("div",Z,[r(l,{type:"number",size:"large",modelValue:v.value,"onUpdate:modelValue":a[2]||(a[2]=c=>v.value=c),placeholder:"输入秒数"},null,8,["modelValue"]),r(m,{type:"default",size:"large",nativeType:"submit"},{default:V(()=>[h(" 立刻加速 ")]),_:1})])],32),n("div",ee,[te,n("div",ae,[r(l,{type:"string",size:"large",modelValue:f.value,"onUpdate:modelValue":a[3]||(a[3]=c=>f.value=c),placeholder:"计时结束后的提示"},null,8,["modelValue"]),r(m,{type:"default",size:"large",disabled:t.value<=0,onClick:D},{default:V(()=>[t.value<=0?(k(),N(A,{key:0},[h("计时已停止")],64)):(k(),N(A,{key:1},[h(C(P(z)?"暂停":"恢复"),1)],64))]),_:1},8,["disabled"]),t.value>0?(k(),L(m,{key:0,type:"default",size:"large",style:{marginLeft:"0"},onClick:G},{default:V(()=>[h(" 停止 ")]),_:1})):O("",!0)])])])])}}}),le=q(oe,[["__scopeId","data-v-9ce0dc46"]]);export{le as default};
