import{d as G,j as _,g as N,a6 as L,c as $,a as o,t as T,a1 as A,k as r,w,e as O,m as P,b as z,o as k,l as h,F as U,u as R,p as q,f as H}from"./index-BuKwz5D3.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";window.speechSynthesis.getVoices();function n(c,d={}){const{lang:m="zh-CN",vol:e=1,rate:p=1,pitch:g=1}=d;window.speechSynthesis.cancel();const s=new SpeechSynthesisUtterance(c);s.text=c,s.lang=m,s.volume=e,s.rate=p,s.pitch=g;const V=window.speechSynthesis.getVoices().find(y=>y.name==="Google 普通话（中国大陆）");V&&(s.voice=V),window.speechSynthesis.speak(s)}const x=c=>(q("data-v-ae72e5c9"),c=c(),H(),c),K={class:"page"},Q={class:"timer"},X={class:"action-row"},Y=x(()=>o("div",{class:"action-card-title"},"设置倒计时",-1)),Z={class:"action-card-action"},ee={class:"action-card-title"},te=x(()=>o("span",null,"调整倒计时",-1)),ae={class:"action-card-action"},le={class:"action-card"},ne=x(()=>o("div",{class:"action-card-title"},"倒计时控制器",-1)),oe={class:"action-card-action"},se=G({__name:"AppView",setup(c){const d=_(),m=_(),e=_(0),p=_(!1),g=_(),s=_(),l={slow:1,normal:1.2,fast:1.4};function V(a){const t=Math.floor(a/60),u=a%60;return{minute:t,second:u}}function y(a,t){return`${a?`${a}分`:""}${t?`${t}秒`:"钟"}`}function M(a,t){return`${String(a).padStart(2,"0")}:${String(t).padStart(2,"0")}`}const S=N(()=>({minute:Math.floor(e.value/60),second:e.value%60})),v=N(()=>y(S.value.minute,S.value.second)),j=N(()=>M(S.value.minute,S.value.second)),{isActive:C,pause:b,resume:I}=L(()=>{e.value-=1,e.value<=0?(e.value=0,n(s.value||"计时结束",{rate:l.normal}),b()):e.value%60===0?n(`剩余${v.value}`,{rate:l.normal}):e.value===30?n(`剩余${v.value}`,{rate:l.normal}):e.value===10?n(`${v.value}`,{rate:l.normal}):e.value<=3&&n(`${e.value}`,{rate:l.fast})},1e3,{immediate:!1});function B(){if(isNaN(Number(d.value))&&isNaN(Number(m.value)))return n("请输入数字",{rate:l.normal});const a=Number(d.value||0)*60+Number(m.value||0);if(a<=0)return n("请大于0",{rate:l.normal});const{minute:t,second:u}=V(a),f=y(t,u);n(`开始计时${f}`,{rate:l.fast}),e.value=a,I()}function F(){const a=Number(g.value);if(isNaN(a))return n("请输入数字",{rate:l.normal});p.value?(e.value+=a,n(`延长${a}秒，剩余${v.value}`,{rate:l.fast})):(e.value-=a,e.value<0?e.value=0:n(`剩余${v.value}`,{rate:l.fast}))}function D(){C.value?(b(),n("暂停计时",{rate:l.normal})):(I(),n(`恢复计时${v.value}`,{rate:l.fast}))}function W(){e.value=0,n("停止计时",{rate:l.normal}),b()}return(a,t)=>{const u=z("el-input"),f=z("el-button"),E=z("el-switch");return k(),$("main",K,[o("div",Q,[o("div",null,T(j.value),1)]),o("div",X,[o("form",{class:"action-card",onSubmit:A(B,["prevent"])},[Y,o("div",Z,[r(u,{type:"number",size:"large",modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=i=>d.value=i),placeholder:"输入分钟数"},null,8,["modelValue"]),r(u,{type:"number",size:"large",modelValue:m.value,"onUpdate:modelValue":t[1]||(t[1]=i=>m.value=i),placeholder:"输入秒数"},null,8,["modelValue"]),r(f,{type:"default",size:"large",nativeType:"submit"},{default:w(()=>[h(" 开始计时 ")]),_:1})])],32),o("form",{class:"action-card",onSubmit:A(F,["prevent"])},[o("div",ee,[te,r(E,{modelValue:p.value,"onUpdate:modelValue":t[2]||(t[2]=i=>p.value=i),"inline-prompt":"","active-text":"延长","inactive-text":"缩短"},null,8,["modelValue"])]),o("div",ae,[r(u,{type:"number",size:"large",modelValue:g.value,"onUpdate:modelValue":t[3]||(t[3]=i=>g.value=i),placeholder:"输入秒数"},null,8,["modelValue"]),r(f,{type:"default",size:"large",nativeType:"submit"},{default:w(()=>[h(T(p.value?"延长":"缩短")+"计时 ",1)]),_:1})])],32),o("div",le,[ne,o("div",oe,[r(u,{type:"string",size:"large",modelValue:s.value,"onUpdate:modelValue":t[4]||(t[4]=i=>s.value=i),placeholder:"计时结束后的提示"},null,8,["modelValue"]),r(f,{type:"default",size:"large",disabled:e.value<=0,onClick:D},{default:w(()=>[e.value<=0?(k(),$(U,{key:0},[h("计时已停止")],64)):(k(),$(U,{key:1},[h(T(R(C)?"暂停":"恢复"),1)],64))]),_:1},8,["disabled"]),e.value>0?(k(),O(f,{key:0,type:"default",size:"large",style:{marginLeft:"0"},onClick:W},{default:w(()=>[h(" 停止 ")]),_:1})):P("",!0)])])])])}}}),re=J(se,[["__scopeId","data-v-ae72e5c9"]]);export{re as default};
